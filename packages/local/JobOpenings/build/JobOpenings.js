var $jscomp=$jscomp||{};$jscomp.scope={};$jscomp.ASSUME_ES5=!1;$jscomp.ASSUME_NO_NATIVE_MAP=!1;$jscomp.ASSUME_NO_NATIVE_SET=!1;$jscomp.defineProperty=$jscomp.ASSUME_ES5||typeof Object.defineProperties=='function'?Object.defineProperty:function(b,c,a){a=a;if(b==Array.prototype||b==Object.prototype){return}b[c]=a.value};$jscomp.getGlobal=function(a){return typeof window!='undefined'&&window===a?a:typeof global!='undefined'&&global!=null?global:a};$jscomp.global=$jscomp.getGlobal(this);$jscomp.polyfill=function(i,f,j,k){if(!f){return}var a=$jscomp.global;var b=i.split('.');for(var e=0;e<b.length-1;e++){var d=b[e];if(!(d in a)){a[d]={}}a=a[d]}var g=b[b.length-1];var h=a[g];var c=f(h);if(c==h||c==null){return}$jscomp.defineProperty(a,g,{configurable:!0,writable:!0,value:c})};$jscomp.polyfill('Array.prototype.copyWithin',function(a){if(a){return a}var b=function(d,c,b){var e=this.length;d=Number(d);c=Number(c);b=Number(b!=null?b:e);if(d<c){b=Math.min(b,e);while(c<b){if(c in this){this[d++]=this[c++]}else {delete this[d++];c++}}}else {b=Math.min(b,e+c-d);d+=b-c;while(b>c){if(--b in this){this[--d]=this[b]}else {delete this[d]}}}return this};return b},'es6','es3');$jscomp.SYMBOL_PREFIX='jscomp_symbol_';$jscomp.initSymbol=function(){$jscomp.initSymbol=function(){};if(!$jscomp.global['Symbol']){$jscomp.global['Symbol']=$jscomp.Symbol}};$jscomp.Symbol=function(){var a=0;function Symbol(b){return $jscomp.SYMBOL_PREFIX+(b||'')+a++}return Symbol}();$jscomp.initSymbolIterator=function(){$jscomp.initSymbol();var a=$jscomp.global['Symbol'].iterator;if(!a){a=$jscomp.global['Symbol'].iterator=$jscomp.global['Symbol']('iterator')}if(typeof Array.prototype[a]!='function'){$jscomp.defineProperty(Array.prototype,a,{configurable:!0,writable:!0,value:function(){return $jscomp.arrayIterator(this)}})}$jscomp.initSymbolIterator=function(){}};$jscomp.arrayIterator=function(a){var b=0;return $jscomp.iteratorPrototype(function(){if(b<a.length){return {done:!1,value:a[b++]}}else {return {done:!0}}})};$jscomp.iteratorPrototype=function(b){$jscomp.initSymbolIterator();var a={next:b};a[$jscomp.global['Symbol'].iterator]=function(){return this};return a};$jscomp.iteratorFromArray=function(a,d){$jscomp.initSymbolIterator();if(a instanceof String){a=a+''}var c=0;var b={next:function(){if(c<a.length){var e=c++;return {value:d(e,a[e]),done:!1}}b.next=function(){return {done:!0,value:void 0}};return b.next()}};b[Symbol.iterator]=function(){return b};return b};$jscomp.polyfill('Array.prototype.entries',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b,c){return [b,c]})};return b},'es6','es3');$jscomp.polyfill('Array.prototype.fill',function(a){if(a){return a}var b=function(f,c,b){var d=this.length||0;if(c<0){c=Math.max(0,d+c)}if(b==null||b>d){b=d}b=Number(b);if(b<0){b=Math.max(0,d+b)}for(var e=Number(c||0);e<b;e++){this[e]=f}return this};return b},'es6','es3');$jscomp.findInternal=function(a,d,e){if(a instanceof String){a=String(a)}var f=a.length;for(var b=0;b<f;b++){var c=a[b];if(d.call(e,c,b,a)){return {i:b,v:c}}}return {i:-1,v:void 0}};$jscomp.polyfill('Array.prototype.find',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).v};return b},'es6','es3');$jscomp.polyfill('Array.prototype.findIndex',function(a){if(a){return a}var b=function(c,b){return $jscomp.findInternal(this,c,b).i};return b},'es6','es3');$jscomp.polyfill('Array.from',function(a){if(a){return a}var b=function(b,c,g){$jscomp.initSymbolIterator();c=c!=null?c:function(d){return d};var e=[];var f=b[Symbol.iterator];if(typeof f=='function'){b=f.call(b);var h;var j=0;while(!(h=b.next()).done){e.push(c.call(g,h.value,j++))}}else {var i=b.length;for(var d=0;d<i;d++){e.push(c.call(g,b[d],d))}}return e};return b},'es6','es3');$jscomp.polyfill('Object.is',function(a){if(a){return a}var b=function(b,c){if(b===c){return b!==0||1/b===1/c}else {return b!==b&&c!==c}};return b},'es6','es3');$jscomp.polyfill('Array.prototype.includes',function(a){if(a){return a}var b=function(d,g){var c=this;if(c instanceof String){c=String(c)}var f=c.length;var b=g||0;if(b<0){b=Math.max(b+f,0)}for(;b<f;b++){var e=c[b];if(e===d||Object.is(e,d)){return !0}}return !1};return b},'es7','es3');$jscomp.polyfill('Array.prototype.keys',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(b){return b})};return b},'es6','es3');$jscomp.polyfill('Array.of',function(a){if(a){return a}var b=function(b){return Array.from(arguments)};return b},'es6','es3');$jscomp.polyfill('Array.prototype.values',function(a){if(a){return a}var b=function(){return $jscomp.iteratorFromArray(this,function(c,b){return b})};return b},'es8','es3');$jscomp.makeIterator=function(a){$jscomp.initSymbolIterator();var b=a[Symbol.iterator];return b?b.call(a):$jscomp.arrayIterator(a)};$jscomp.FORCE_POLYFILL_PROMISE=!1;$jscomp.polyfill('Promise',function(c){if(c&&!$jscomp.FORCE_POLYFILL_PROMISE){return c}function AsyncExecutor(){this.batch_=null}AsyncExecutor.prototype.asyncExecute=function(a){if(this.batch_==null){this.batch_=[];this.asyncExecuteBatch_()}this.batch_.push(a);return this};AsyncExecutor.prototype.asyncExecuteBatch_=function(){var a=this;this.asyncExecuteFunction(function(){a.executeBatch_()})};var e=$jscomp.global['setTimeout'];AsyncExecutor.prototype.asyncExecuteFunction=function(a){e(a,0)};AsyncExecutor.prototype.executeBatch_=function(){while(this.batch_&&this.batch_.length){var b=this.batch_;this.batch_=[];for(var a=0;a<b.length;++a){var d=b[a];b[a]=null;try{d()}catch(f){this.asyncThrow_(f)}}}this.batch_=null};AsyncExecutor.prototype.asyncThrow_=function(a){this.asyncExecuteFunction(function(){throw a})};var b={PENDING:0,FULFILLED:1,REJECTED:2};var a=function(d){this.state_=b.PENDING;this.result_=undefined;this.onSettledCallbacks_=[];var a=this.createResolveAndReject_();try{d(a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.createResolveAndReject_=function(){var b=this;var a=!1;function firstCallWins(d){return function(e){if(!a){a=!0;d.call(b,e)}}}return {resolve:firstCallWins(this.resolveTo_),reject:firstCallWins(this.reject_)}};a.prototype.resolveTo_=function(b){if(b===this){this.reject_(new TypeError('A Promise cannot resolve to itself'))}else {if(b instanceof a){this.settleSameAsPromise_(b)}else {if(isObject(b)){this.resolveToNonPromiseObj_(b)}else {this.fulfill_(b)}}}};a.prototype.resolveToNonPromiseObj_=function(b){var a=undefined;try{a=b.then}catch(f){this.reject_(f);return}if(typeof a=='function'){this.settleSameAsThenable_(a,b)}else {this.fulfill_(b)}};function isObject(a){switch(typeof a){case 'object':return a!=null;case 'function':return !0;default:return !1;}}a.prototype.reject_=function(a){this.settle_(b.REJECTED,a)};a.prototype.fulfill_=function(a){this.settle_(b.FULFILLED,a)};a.prototype.settle_=function(d,a){if(this.state_!=b.PENDING){throw new Error('Cannot settle('+d+', '+a+'): Promise already settled in state'+this.state_)}this.state_=d;this.result_=a;this.executeOnSettledCallbacks_()};a.prototype.executeOnSettledCallbacks_=function(){if(this.onSettledCallbacks_!=null){for(var a=0;a<this.onSettledCallbacks_.length;++a){d.asyncExecute(this.onSettledCallbacks_[a])}this.onSettledCallbacks_=null}};var d=new AsyncExecutor();a.prototype.settleSameAsPromise_=function(b){var a=this.createResolveAndReject_();b.callWhenSettled_(a.resolve,a.reject)};a.prototype.settleSameAsThenable_=function(b,d){var a=this.createResolveAndReject_();try{b.call(d,a.resolve,a.reject)}catch(f){a.reject(f)}};a.prototype.then=function(f,g){var b;var d;var e=new a(function(a,e){b=a;d=e});function createCallback(a,e){if(typeof a=='function'){return function(h){try{b(a(h))}catch(i){d(i)}}}else {return e}}this.callWhenSettled_(createCallback(f,b),createCallback(g,d));return e};a.prototype['catch']=function(a){return this.then(undefined,a)};a.prototype.callWhenSettled_=function(e,f){var a=this;function callback(){switch(a.state_){case b.FULFILLED:e(a.result_);break;case b.REJECTED:f(a.result_);break;default:throw new Error('Unexpected state: '+a.state_);}}if(this.onSettledCallbacks_==null){d.asyncExecute(callback)}else {this.onSettledCallbacks_.push(callback)}};function resolvingPromise(b){if(b instanceof a){return b}else {return new a(function(a,d){a(b)})}}a['resolve']=resolvingPromise;a['reject']=function(b){return new a(function(d,a){a(b)})};a['race']=function(b){return new a(function(e,f){var d=$jscomp.makeIterator(b);for(var a=d.next();!a.done;a=d.next()){resolvingPromise(a.value).callWhenSettled_(e,f)}})};a['all']=function(e){var d=$jscomp.makeIterator(e);var b=d.next();if(b.done){return resolvingPromise([])}else {return new a(function(g,h){var a=[];var f=0;function onFulfilled(b){return function(d){a[b]=d;f--;if(f==0){g(a)}}}do{a.push(undefined);f++;resolvingPromise(b.value).callWhenSettled_(onFulfilled(a.length-1),h);b=d.next()}while(!b.done)})}};return a},'es6','es3');$jscomp.polyfill('Promise.prototype.finally',function(a){if(a){return a}var b=function(b){return this.then(function(d){var c=Promise.resolve(b());return c.then(function(){return d})},function(d){var c=Promise.resolve(b());return c.then(function(){throw d})})};return b},'es9','es3');$jscomp.underscoreProtoCanBeSet=function(){var b={a:!0};var a={};try{a.__proto__=b;return a.a}catch(c){}return !1};$jscomp.setPrototypeOf=typeof Object.setPrototypeOf=='function'?Object.setPrototypeOf:$jscomp.underscoreProtoCanBeSet()?function(a,b){a.__proto__=b;if(a.__proto__!==b){throw new TypeError(a+' is not extensible')}return a}:null;$jscomp.generator={};$jscomp.generator.ensureIteratorResultIsObject_=function(a){if(a instanceof Object){return}throw new TypeError('Iterator result '+a+' is not an object')};$jscomp.generator.Context=function(){this.isRunning_=!1;this.yieldAllIterator_=null;this.yieldResult=undefined;this.nextAddress=1;this.catchAddress_=0;this.finallyAddress_=0;this.abruptCompletion_=null;this.finallyContexts_=null};$jscomp.generator.Context.prototype.start_=function(){if(this.isRunning_){throw new TypeError('Generator is already running')}this.isRunning_=!0};$jscomp.generator.Context.prototype.stop_=function(){this.isRunning_=!1};$jscomp.generator.Context.prototype.jumpToErrorHandler_=function(){this.nextAddress=this.catchAddress_||this.finallyAddress_};$jscomp.generator.Context.prototype.next_=function(a){this.yieldResult=a};$jscomp.generator.Context.prototype.throw_=function(a){this.abruptCompletion_={exception:a,isException:!0};this.jumpToErrorHandler_()};$jscomp.generator.Context.prototype['return']=function(a){this.abruptCompletion_={'return':a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.jumpThroughFinallyBlocks=function(a){this.abruptCompletion_={jumpTo:a};this.nextAddress=this.finallyAddress_};$jscomp.generator.Context.prototype.yield=function(b,a){this.nextAddress=a;return {value:b}};$jscomp.generator.Context.prototype.yieldAll=function(d,b){var c=$jscomp.makeIterator(d);var a=c.next();$jscomp.generator.ensureIteratorResultIsObject_(a);if(a.done){this.yieldResult=a.value;this.nextAddress=b;return}this.yieldAllIterator_=c;return this.yield(a.value,b)};$jscomp.generator.Context.prototype.jumpTo=function(a){this.nextAddress=a};$jscomp.generator.Context.prototype.jumpToEnd=function(){this.nextAddress=0};$jscomp.generator.Context.prototype.setCatchFinallyBlocks=function(b,a){this.catchAddress_=b;if(a!=undefined){this.finallyAddress_=a}};$jscomp.generator.Context.prototype.setFinallyBlock=function(a){this.catchAddress_=0;this.finallyAddress_=a||0};$jscomp.generator.Context.prototype.leaveTryBlock=function(b,a){this.nextAddress=b;this.catchAddress_=a||0};$jscomp.generator.Context.prototype.enterCatchBlock=function(a){this.catchAddress_=a||0;var b=this.abruptCompletion_.exception;this.abruptCompletion_=null;return b};$jscomp.generator.Context.prototype.enterFinallyBlock=function(c,b,a){if(!a){this.finallyContexts_=[this.abruptCompletion_]}else {this.finallyContexts_[a]=this.abruptCompletion_}this.catchAddress_=c||0;this.finallyAddress_=b||0};$jscomp.generator.Context.prototype.leaveFinallyBlock=function(d,c){var b=this.finallyContexts_.splice(c||0)[0];var a=this.abruptCompletion_=this.abruptCompletion_||b;if(a){if(a.isException){return this.jumpToErrorHandler_()}if(a.jumpTo!=undefined&&this.finallyAddress_<a.jumpTo){this.nextAddress=a.jumpTo;this.abruptCompletion_=null}else {this.nextAddress=this.finallyAddress_}}else {this.nextAddress=d}};$jscomp.generator.Context.prototype.forIn=function(a){return new $jscomp.generator.Context.PropertyIterator(a)};$jscomp.generator.Context.PropertyIterator=function(a){this.object_=a;this.properties_=[];for(var b in a){this.properties_.push(b)}this.properties_.reverse()};$jscomp.generator.Context.PropertyIterator.prototype.getNext=function(){while(this.properties_.length>0){var a=this.properties_.pop();if(a in this.object_){return a}}return null};$jscomp.generator.Engine_=function(a){this.context_=new $jscomp.generator.Context();this.program_=a};$jscomp.generator.Engine_.prototype.next_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_){return this.yieldAllStep_(this.context_.yieldAllIterator_.next,a,this.context_.next_)}this.context_.next_(a);return this.nextStep_()};$jscomp.generator.Engine_.prototype.return_=function(b){this.context_.start_();var a=this.context_.yieldAllIterator_;if(a){var c='return' in a?a['return']:function(a){return {value:a,done:!0}};return this.yieldAllStep_(c,b,this.context_['return'])}this.context_['return'](b);return this.nextStep_()};$jscomp.generator.Engine_.prototype.throw_=function(a){this.context_.start_();if(this.context_.yieldAllIterator_){return this.yieldAllStep_(this.context_.yieldAllIterator_['throw'],a,this.context_.next_)}this.context_.throw_(a);return this.nextStep_()};$jscomp.generator.Engine_.prototype.yieldAllStep_=function(d,e,c){try{var a=d.call(this.context_.yieldAllIterator_,e);$jscomp.generator.ensureIteratorResultIsObject_(a);if(!a.done){this.context_.stop_();return a}var b=a.value}catch(f){this.context_.yieldAllIterator_=null;this.context_.throw_(f);return this.nextStep_()}this.context_.yieldAllIterator_=null;c.call(this.context_,b);return this.nextStep_()};$jscomp.generator.Engine_.prototype.nextStep_=function(){while(this.context_.nextAddress){try{var b=this.program_(this.context_);if(b){this.context_.stop_();return {value:b.value,done:!1}}}catch(c){this.context_.yieldResult=undefined;this.context_.throw_(c)}}this.context_.stop_();if(this.context_.abruptCompletion_){var a=this.context_.abruptCompletion_;this.context_.abruptCompletion_=null;if(a.isException){throw a.exception}return {value:a['return'],done:!0}}return {value:undefined,done:!0}};$jscomp.generator.Generator_=function(a){this.next=function(b){return a.next_(b)};this['throw']=function(b){return a.throw_(b)};this['return']=function(b){return a.return_(b)};$jscomp.initSymbolIterator();this[Symbol.iterator]=function(){return this}};$jscomp.generator.createGenerator=function(b,c){var a=new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(c));if($jscomp.setPrototypeOf){$jscomp.setPrototypeOf(a,b.prototype)}return a};$jscomp.asyncExecutePromiseGenerator=function(a){function passValueToGenerator(b){return a.next(b)}function passErrorToGenerator(b){return a['throw'](b)}return new Promise(function(b,c){function handleGeneratorRecord(d){if(d.done){b(d.value)}else {Promise.resolve(d.value).then(passValueToGenerator,passErrorToGenerator).then(handleGeneratorRecord,c)}}handleGeneratorRecord(a.next())})};$jscomp.asyncExecutePromiseGeneratorFunction=function(a){return $jscomp.asyncExecutePromiseGenerator(a())};$jscomp.asyncExecutePromiseGeneratorProgram=function(a){return $jscomp.asyncExecutePromiseGenerator(new $jscomp.generator.Generator_(new $jscomp.generator.Engine_(a)))};$jscomp.checkEs6ConformanceViaProxy=function(){try{var a={};var b=Object.create(new $jscomp.global['Proxy'](a,{'get':function(d,e,c){return d==a&&e=='q'&&c==b}}));return b['q']===!0}catch(c){return !1}};$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS=!1;$jscomp.ES6_CONFORMANCE=$jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS&&$jscomp.checkEs6ConformanceViaProxy();$jscomp.owns=function(b,a){return Object.prototype.hasOwnProperty.call(b,a)};$jscomp.polyfill('WeakMap',function(c){function isConformant(){if(!c||!Object.seal){return !1}try{var b=Object.seal({});var d=Object.seal({});var a=new c([[b,2],[d,3]]);if(a.get(b)!=2||a.get(d)!=3){return !1}a['delete'](b);a.set(d,4);return !a.has(b)&&a.get(d)==4}catch(e){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(c&&$jscomp.ES6_CONFORMANCE){return c}}else {if(isConformant()){return c}}var a='$jscomp_hidden_'+Math.random();function insert(b){if(!$jscomp.owns(b,a)){var d={};$jscomp.defineProperty(b,a,{value:d})}}function patch(a){var b=Object[a];if(b){Object[a]=function(d){insert(d);return b(d)}}}patch('freeze');patch('preventExtensions');patch('seal');var d=0;var b=function(a){this.id_=(d+=Math.random()+1).toString();if(a){$jscomp.initSymbol();$jscomp.initSymbolIterator();var f=$jscomp.makeIterator(a);var b;while(!(b=f.next()).done){var e=b.value;this.set(e[0],e[1])}}};b.prototype.set=function(b,d){insert(b);if(!$jscomp.owns(b,a)){throw new Error('WeakMap key fail: '+b)}b[a][this.id_]=d;return this};b.prototype.get=function(b){return $jscomp.owns(b,a)?b[a][this.id_]:undefined};b.prototype.has=function(b){return $jscomp.owns(b,a)&&$jscomp.owns(b[a],this.id_)};b.prototype['delete']=function(b){if(!$jscomp.owns(b,a)||!$jscomp.owns(b[a],this.id_)){return !1}return delete b[a][this.id_]};return b},'es6','es3');$jscomp.MapEntry=function(){this.previous;this.next;this.head;this.key;this.value};$jscomp.polyfill('Map',function(b){function isConformant(){if($jscomp.ASSUME_NO_NATIVE_MAP||!b||typeof b!='function'||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var e=Object.seal({x:4});var c=new b($jscomp.makeIterator([[e,'s']]));if(c.get(e)!='s'||c.size!=1||c.get({x:4})||c.set({x:4},'t')!=c||c.size!=2){return !1}var d=c.entries();var a=d.next();if(a.done||a.value[0]!=e||a.value[1]!='s'){return !1}a=d.next();if(a.done||a.value[0].x!=4||a.value[1]!='t'||!d.next().done){return !1}return !0}catch(i){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE){return b}}else {if(isConformant()){return b}}$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=new WeakMap();var a=function(a){this.data_={};this.head_=f();this.size=0;if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.set(d[0],d[1])}}};a.prototype.set=function(d,e){d=d===0?0:d;var a=c(this,d);if(!a.list){a.list=this.data_[a.id]=[]}if(!a.entry){a.entry={next:this.head_,previous:this.head_.previous,head:this.head_,key:d,value:e};a.list.push(a.entry);this.head_.previous.next=a.entry;this.head_.previous=a.entry;this.size++}else {a.entry.value=e}return this};a.prototype['delete']=function(d){var a=c(this,d);if(a.entry&&a.list){a.list.splice(a.index,1);if(!a.list.length){delete this.data_[a.id]}a.entry.previous.next=a.entry.next;a.entry.next.previous=a.entry.previous;a.entry.head=null;this.size--;return !0}return !1};a.prototype.clear=function(){this.data_={};this.head_=this.head_.previous=f();this.size=0};a.prototype.has=function(a){return !!c(this,a).entry};a.prototype.get=function(d){var a=c(this,d).entry;return a&&a.value};a.prototype.entries=function(){return d(this,function(a){return [a.key,a.value]})};a.prototype.keys=function(){return d(this,function(a){return a.key})};a.prototype.values=function(){return d(this,function(a){return a.value})};a.prototype.forEach=function(e,d){var f=this.entries();var c;while(!(c=f.next()).done){var a=c.value;e.call(d,a[1],a[0],this)}};a.prototype[Symbol.iterator]=a.prototype.entries;var c=function(g,e){var f=h(e);var a=g.data_[f];if(a&&$jscomp.owns(g.data_,f)){for(var d=0;d<a.length;d++){var c=a[d];if(e!==e&&c.key!==c.key||e===c.key){return {id:f,list:a,index:d,entry:c}}}}return {id:f,list:a,index:-1,entry:undefined}};var d=function(c,d){var a=c.head_;return $jscomp.iteratorPrototype(function(){if(a){while(a.head!=c.head_){a=a.previous}while(a.next!=a.head){a=a.next;return {done:!1,value:d(a)}}a=null}return {done:!0,value:void 0}})};var f=function(){var a={};a.previous=a.next=a.head=a;return a};var g=0;var h=function(a){var c=a&&typeof a;if(c=='object'||c=='function'){a=a;if(!e.has(a)){var d=''+ ++g;e.set(a,d);return d}return e.get(a)}return 'p_'+a};return a},'es6','es3');$jscomp.polyfill('Math.acosh',function(a){if(a){return a}var b=function(b){b=Number(b);return Math.log(b+Math.sqrt(b*b-1))};return b},'es6','es3');$jscomp.polyfill('Math.asinh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.log(Math.abs(b)+Math.sqrt(b*b+1));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.log1p',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var f=b;var g=1;var c=b;var d=0;var e=1;while(d!=c){f*=b;e*=-1;c=(d=c)+e*f/++g}return c}return Math.log(1+b)};return b},'es6','es3');$jscomp.polyfill('Math.atanh',function(b){if(b){return b}var a=Math.log1p;var c=function(c){c=Number(c);return (a(c)-a(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.cbrt',function(a){if(a){return a}var b=function(b){if(b===0){return b}b=Number(b);var c=Math.pow(Math.abs(b),1/3);return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Math.clz32',function(a){if(a){return a}var b=function(b){b=Number(b)>>>0;if(b===0){return 32}var c=0;if((b&4.29490176E9)===0){b<<=16;c+=16}if((b&4.27819008E9)===0){b<<=8;c+=8}if((b&4.02653184E9)===0){b<<=4;c+=4}if((b&3.221225472E9)===0){b<<=2;c+=2}if((b&2.147483648E9)===0){c++}return c};return b},'es6','es3');$jscomp.polyfill('Math.cosh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);return (b(c)+b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.expm1',function(a){if(a){return a}var b=function(b){b=Number(b);if(b<0.25&&b>-0.25){var e=b;var f=1;var c=b;var d=0;while(d!=c){e*=b/++f;c=(d=c)+e}return c}return Math.exp(b)-1};return b},'es6','es3');$jscomp.polyfill('Math.hypot',function(a){if(a){return a}var b=function(d,e,h){d=Number(d);e=Number(e);var b,g,f;var c=Math.max(Math.abs(d),Math.abs(e));for(b=2;b<arguments.length;b++){c=Math.max(c,Math.abs(arguments[b]))}if(c>1.0E100||c<1.0E-100){if(!c){return c}d=d/c;e=e/c;f=d*d+e*e;for(b=2;b<arguments.length;b++){g=Number(arguments[b])/c;f+=g*g}return Math.sqrt(f)*c}else {f=d*d+e*e;for(b=2;b<arguments.length;b++){g=Number(arguments[b]);f+=g*g}return Math.sqrt(f)}};return b},'es6','es3');$jscomp.polyfill('Math.imul',function(a){if(a){return a}var b=function(b,c){b=Number(b);c=Number(c);var f=b>>>16&65535;var d=b&65535;var g=c>>>16&65535;var e=c&65535;var h=f*e+d*g<<16>>>0;return d*e+h|0};return b},'es6','es3');$jscomp.polyfill('Math.log10',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN10};return b},'es6','es3');$jscomp.polyfill('Math.log2',function(a){if(a){return a}var b=function(b){return Math.log(b)/Math.LN2};return b},'es6','es3');$jscomp.polyfill('Math.sign',function(a){if(a){return a}var b=function(b){b=Number(b);return b===0||isNaN(b)?b:b>0?1:-1};return b},'es6','es3');$jscomp.polyfill('Math.sinh',function(a){if(a){return a}var b=Math.exp;var c=function(c){c=Number(c);if(c===0){return c}return (b(c)-b(-c))/2};return c},'es6','es3');$jscomp.polyfill('Math.tanh',function(a){if(a){return a}var b=function(b){b=Number(b);if(b===0){return b}var c=Math.exp(-2*Math.abs(b));var d=(1-c)/(1+c);return b<0?-d:d};return b},'es6','es3');$jscomp.polyfill('Math.trunc',function(a){if(a){return a}var b=function(b){b=Number(b);if(isNaN(b)||b===Infinity||b===-Infinity||b===0){return b}var c=Math.floor(Math.abs(b));return b<0?-c:c};return b},'es6','es3');$jscomp.polyfill('Number.EPSILON',function(a){return Math.pow(2,-52)},'es6','es3');$jscomp.polyfill('Number.MAX_SAFE_INTEGER',function(){return 9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.MIN_SAFE_INTEGER',function(){return -9.007199254740991E15},'es6','es3');$jscomp.polyfill('Number.isFinite',function(a){if(a){return a}var b=function(b){if(typeof b!=='number'){return !1}return !isNaN(b)&&b!==Infinity&&b!==-Infinity};return b},'es6','es3');$jscomp.polyfill('Number.isInteger',function(a){if(a){return a}var b=function(b){if(!Number.isFinite(b)){return !1}return b===Math.floor(b)};return b},'es6','es3');$jscomp.polyfill('Number.isNaN',function(a){if(a){return a}var b=function(b){return typeof b==='number'&&isNaN(b)};return b},'es6','es3');$jscomp.polyfill('Number.isSafeInteger',function(a){if(a){return a}var b=function(b){return Number.isInteger(b)&&Math.abs(b)<=Number.MAX_SAFE_INTEGER};return b},'es6','es3');$jscomp.polyfill('Number.parseFloat',function(a){return a||parseFloat},'es6','es3');$jscomp.polyfill('Number.parseInt',function(a){return a||parseInt},'es6','es3');$jscomp.assign=typeof Object.assign=='function'?Object.assign:function(d,e){for(var c=1;c<arguments.length;c++){var a=arguments[c];if(!a){continue}for(var b in a){if($jscomp.owns(a,b)){d[b]=a[b]}}}return d};$jscomp.polyfill('Object.assign',function(a){return a||$jscomp.assign},'es6','es3');$jscomp.polyfill('Object.entries',function(a){if(a){return a}var b=function(c){var d=[];for(var b in c){if($jscomp.owns(c,b)){d.push([b,c[b]])}}return d};return b},'es8','es3');$jscomp.polyfill('Object.getOwnPropertySymbols',function(a){if(a){return a}return function(){return []}},'es6','es5');$jscomp.polyfill('Reflect.ownKeys',function(b){if(b){return b}var a='jscomp_symbol_';function isSymbol(c){return c.substring(0,a.length)==a}var c=function(e){var f=[];var c=Object.getOwnPropertyNames(e);var d=Object.getOwnPropertySymbols(e);for(var a=0;a<c.length;a++){(isSymbol(c[a])?d:f).push(c[a])}return f.concat(d)};return c},'es6','es5');$jscomp.polyfill('Object.getOwnPropertyDescriptors',function(a){if(a){return a}var b=function(e){var d={};var c=Reflect.ownKeys(e);for(var b=0;b<c.length;b++){d[c[b]]=Object.getOwnPropertyDescriptor(e,c[b])}return d};return b},'es8','es5');$jscomp.polyfill('Object.setPrototypeOf',function(a){return a||$jscomp.setPrototypeOf},'es6','es5');$jscomp.polyfill('Object.values',function(a){if(a){return a}var b=function(b){var c=[];for(var d in b){if($jscomp.owns(b,d)){c.push(b[d])}}return c};return b},'es8','es3');$jscomp.polyfill('Reflect.apply',function(a){if(a){return a}var c=Function.prototype.apply;var b=function(e,d,b){return c.call(e,d,b)};return b},'es6','es3');$jscomp.objectCreate=$jscomp.ASSUME_ES5||typeof Object.create=='function'?Object.create:function(b){var a=function(){};a.prototype=b;return new a()};$jscomp.construct=function(){function reflectConstructWorks(){function Base(){}function Derived(){}new Base();Reflect.construct(Base,[],Derived);return new Base() instanceof Base}if(typeof Reflect!='undefined'&&Reflect.construct){if(reflectConstructWorks()){return Reflect.construct}var b=Reflect.construct;var a=function(e,d,a){var c=b(e,d);if(a){Reflect.setPrototypeOf(c,a.prototype)}return c};return a}function construct(b,d,a){if(a===undefined){a=b}var f=a.prototype||Object.prototype;var c=$jscomp.objectCreate(f);var e=Function.prototype.apply;var g=e.call(b,c,d);return g||c}return construct}();$jscomp.polyfill('Reflect.construct',function(a){return $jscomp.construct},'es6','es3');$jscomp.polyfill('Reflect.defineProperty',function(a){if(a){return a}var b=function(e,d,c){try{Object.defineProperty(e,d,c);var b=Object.getOwnPropertyDescriptor(e,d);if(!b){return !1}return b.configurable===(c.configurable||!1)&&b.enumerable===(c.enumerable||!1)&&('value' in b?b.value===c.value&&b.writable===(c.writable||!1):b.get===c.get&&b.set===c.set)}catch(f){return !1}};return b},'es6','es5');$jscomp.polyfill('Reflect.deleteProperty',function(a){if(a){return a}var b=function(c,b){if(!$jscomp.owns(c,b)){return !0}try{return delete c[b]}catch(d){return !1}};return b},'es6','es3');$jscomp.polyfill('Reflect.getOwnPropertyDescriptor',function(a){return a||Object.getOwnPropertyDescriptor},'es6','es5');$jscomp.polyfill('Reflect.getPrototypeOf',function(a){return a||Object.getPrototypeOf},'es6','es5');$jscomp.findDescriptor=function(d,c){var a=d;while(a){var b=Reflect.getOwnPropertyDescriptor(a,c);if(b){return b}a=Reflect.getPrototypeOf(a)}return undefined};$jscomp.polyfill('Reflect.get',function(a){if(a){return a}var b=function(d,c,e){if(arguments.length<=2){return d[c]}var b=$jscomp.findDescriptor(d,c);if(b){return b.get?b.get.call(e):b.value}return undefined};return b},'es6','es5');$jscomp.polyfill('Reflect.has',function(a){if(a){return a}var b=function(c,b){return b in c};return b},'es6','es3');$jscomp.polyfill('Reflect.isExtensible',function(a){if(a){return a}if($jscomp.ASSUME_ES5||typeof Object.isExtensible=='function'){return Object.isExtensible}return function(){return !0}},'es6','es3');$jscomp.polyfill('Reflect.preventExtensions',function(a){if(a){return a}if(!($jscomp.ASSUME_ES5||typeof Object.preventExtensions=='function')){return function(){return !1}}var b=function(b){Object.preventExtensions(b);return !Object.isExtensible(b)};return b},'es6','es3');$jscomp.polyfill('Reflect.set',function(a){if(a){return a}var b=function(b,d,e,f){var c=$jscomp.findDescriptor(b,d);if(!c){if(Reflect.isExtensible(b)){b[d]=e;return !0}return !1}if(c.set){c.set.call(arguments.length>3?f:b,e);return !0}else {if(c.writable&&!Object.isFrozen(b)){b[d]=e;return !0}}return !1};return b},'es6','es5');$jscomp.polyfill('Reflect.setPrototypeOf',function(a){if(a){return a}else {if($jscomp.setPrototypeOf){var b=$jscomp.setPrototypeOf;var c=function(c,d){try{b(c,d);return !0}catch(e){return !1}};return c}else {return null}}},'es6','es5');$jscomp.polyfill('Set',function(b){function isConformant(){if($jscomp.ASSUME_NO_NATIVE_SET||!b||typeof b!='function'||!b.prototype.entries||typeof Object.seal!='function'){return !1}try{b=b;var d=Object.seal({x:4});var c=new b($jscomp.makeIterator([d]));if(!c.has(d)||c.size!=1||c.add(d)!=c||c.size!=1||c.add({x:4})!=c||c.size!=2){return !1}var e=c.entries();var a=e.next();if(a.done||a.value[0]!=d||a.value[1]!=d){return !1}a=e.next();if(a.done||a.value[0]==d||a.value[0].x!=4||a.value[1]!=a.value[0]){return !1}return e.next().done}catch(f){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(b&&$jscomp.ES6_CONFORMANCE){return b}}else {if(isConformant()){return b}}$jscomp.initSymbol();$jscomp.initSymbolIterator();var a=function(a){this.map_=new Map();if(a){var e=$jscomp.makeIterator(a);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}this.size=this.map_.size};a.prototype.add=function(a){a=a===0?0:a;this.map_.set(a,a);this.size=this.map_.size;return this};a.prototype['delete']=function(c){var a=this.map_['delete'](c);this.size=this.map_.size;return a};a.prototype.clear=function(){this.map_.clear();this.size=0};a.prototype.has=function(a){return this.map_.has(a)};a.prototype.entries=function(){return this.map_.entries()};a.prototype.values=function(){return this.map_.values()};a.prototype.keys=a.prototype.values;a.prototype[Symbol.iterator]=a.prototype.values;a.prototype.forEach=function(c,a){var d=this;this.map_.forEach(function(e){return c.call(a,e,e,d)})};return a},'es6','es3');$jscomp.checkStringArgs=function(a,c,b){if(a==null){throw new TypeError("The 'this' value for String.prototype."+b+' must not be null or undefined')}if(c instanceof RegExp){throw new TypeError('First argument to String.prototype.'+b+' must not be a regular expression')}return a+''};$jscomp.polyfill('String.prototype.codePointAt',function(a){if(a){return a}var b=function(b){var e=$jscomp.checkStringArgs(this,null,'codePointAt');var f=e.length;b=Number(b)||0;if(!(b>=0&&b<f)){return void 0}b=b|0;var c=e.charCodeAt(b);if(c<55296||c>56319||b+1===f){return c}var d=e.charCodeAt(b+1);if(d<56320||d>57343){return c}return (c-55296)*1024+d+9216};return b},'es6','es3');$jscomp.polyfill('String.prototype.endsWith',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'endsWith');b=b+'';if(c===void 0){c=d.length}var f=Math.max(0,Math.min(c|0,d.length));var e=b.length;while(e>0&&f>0){if(d[--f]!=b[--e]){return !1}}return e<=0};return b},'es6','es3');$jscomp.polyfill('String.fromCodePoint',function(a){if(a){return a}var b=function(e){var c='';for(var d=0;d<arguments.length;d++){var b=Number(arguments[d]);if(b<0||b>1114111||b!==Math.floor(b)){throw new RangeError('invalid_code_point '+b)}if(b<=65535){c+=String.fromCharCode(b)}else {b-=65536;c+=String.fromCharCode(b>>>10&1023|55296);c+=String.fromCharCode(b&1023|56320)}}return c};return b},'es6','es3');$jscomp.polyfill('String.prototype.includes',function(a){if(a){return a}var b=function(b,c){var d=$jscomp.checkStringArgs(this,b,'includes');return d.indexOf(b,c||0)!==-1};return b},'es6','es3');$jscomp.polyfill('String.prototype.repeat',function(a){if(a){return a}var b=function(b){var c=$jscomp.checkStringArgs(this,null,'repeat');if(b<0||b>1342177279){throw new RangeError('Invalid count value')}b=b|0;var d='';while(b){if(b&1){d+=c}if(b>>>=1){c+=c}}return d};return b},'es6','es3');$jscomp.stringPadding=function(c,a){var b=c!==undefined?String(c):' ';if(!(a>0)||!b){return ''}var d=Math.ceil(a/b.length);return b.repeat(d).substring(0,a)};$jscomp.polyfill('String.prototype.padEnd',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return b+$jscomp.stringPadding(c,e)};return b},'es8','es3');$jscomp.polyfill('String.prototype.padStart',function(a){if(a){return a}var b=function(d,c){var b=$jscomp.checkStringArgs(this,null,'padStart');var e=d-b.length;return $jscomp.stringPadding(c,e)+b};return b},'es8','es3');$jscomp.polyfill('String.prototype.startsWith',function(a){if(a){return a}var b=function(b,g){var c=$jscomp.checkStringArgs(this,b,'startsWith');b=b+'';var h=c.length;var e=b.length;var f=Math.max(0,Math.min(g|0,c.length));var d=0;while(d<e&&f<h){if(c[f++]!=b[d++]){return !1}}return d>=e};return b},'es6','es3');$jscomp.arrayFromIterator=function(c){var b;var a=[];while(!(b=c.next()).done){a.push(b.value)}return a};$jscomp.arrayFromIterable=function(a){if(a instanceof Array){return a}else {return $jscomp.arrayFromIterator($jscomp.makeIterator(a))}};$jscomp.inherits=function(a,b){a.prototype=$jscomp.objectCreate(b.prototype);a.prototype.constructor=a;if($jscomp.setPrototypeOf){var e=$jscomp.setPrototypeOf;e(a,b)}else {for(var c in b){if(c=='prototype'){continue}if(Object.defineProperties){var d=Object.getOwnPropertyDescriptor(b,c);if(d){Object.defineProperty(a,c,d)}}else {a[c]=b[c]}}}a.superClass_=b.prototype};$jscomp.polyfill('WeakSet',function(a){function isConformant(){if(!a||!Object.seal){return !1}try{var c=Object.seal({});var d=Object.seal({});var b=new a([c]);if(!b.has(c)||b.has(d)){return !1}b['delete'](c);b.add(d);return !b.has(c)&&b.has(d)}catch(e){return !1}}if($jscomp.USE_PROXY_FOR_ES6_CONFORMANCE_CHECKS){if(a&&$jscomp.ES6_CONFORMANCE){return a}}else {if(isConformant()){return a}}var b=function(b){this.map_=new WeakMap();if(b){$jscomp.initSymbol();$jscomp.initSymbolIterator();var e=$jscomp.makeIterator(b);var c;while(!(c=e.next()).done){var d=c.value;this.add(d)}}};b.prototype.add=function(b){this.map_.set(b,!0);return this};b.prototype.has=function(b){return this.map_.has(b)};b.prototype['delete']=function(b){return this.map_['delete'](b)};return b},'es6','es3');try{if(Array.prototype.values.toString().indexOf('[native code]')==-1){delete Array.prototype.values}}catch(a){}Ext.define('JobOpenings.model.filtertoolbar.EducationModel',{extend:'Ext.data.Model',fields:[{name:'ddo_jobeducation_id',type:'number'},{name:'name',type:'string'}]});Ext.define('JobOpenings.model.filtertoolbar.FilterbyApplicationStatus',{extend:'Ext.data.Model',fields:[{name:'ddo_jobapplicationstatus_id',type:'number'},{name:'name',type:'string'}]});Ext.define('JobOpenings.model.filtertoolbar.FilterbyStatus',{extend:'Ext.data.Model',fields:[{name:'ddo_jobopeningstatus_id',type:'number'},{name:'name',type:'string'}]});Ext.define('JobOpenings.model.filtertoolbar.HiringSourceCombo',{extend:'Ext.data.Model',fields:[{name:'ddo_jobhiringsource_id',type:'number'},{name:'name',type:'string'}]});Ext.define('JobOpenings.model.filtertoolbar.JobOpeningsDateStore',{extend:'Ext.data.Model',fields:[{name:'name',type:'string'}]});Ext.define('JobOpenings.model.filtertoolbar.JobSkillsTypeStore',{extend:'Ext.data.Model',fields:[{name:'ddo_skills_id',type:'number'},{name:'name',type:'string'}]});Ext.define('JobOpenings.model.filtertoolbar.RatingModel',{extend:'Ext.data.Model',fields:[{name:'ddo_interviewrating_id',type:'number'},{name:'name',type:'string'}]});Ext.define('JobOpenings.model.filtertoolbar.TagModel',{extend:'Ext.data.Model',fields:[{name:'loc_id'},{name:'loc_name'}]});Ext.define('JobOpenings.model.form.InterviewModel',{extend:'Ext.data.Model',fields:['employeeid','employeename']});Ext.define('JobOpenings.model.form.LocationModel',{extend:'Ext.data.Model',fields:[{name:'ddo_joblocation_id'},{name:'name'}]});Ext.define('JobOpenings.model.form.SkillsModel',{extend:'Ext.data.Model',fields:['ddo_skills_id','name']});Ext.define('JobOpenings.model.jobopeningrequest.JobOpeningsRequestDataModel',{extend:'Ext.data.Model',fields:[{name:'title',type:'string'},{name:'noofpositions',type:'number'},{name:'minworkexperience',type:'number'},{name:'maxworkexperience',type:'number'},{name:'ddo_department_id',type:'number'},{name:'description',convert:function(b,a){return Ext.util.Format.stripTags(a.data.job_desc)}},{name:'recruiter_name'},{name:'count'},{name:'jobupdateddate'},{name:'skill_ids',type:'string'},{name:'ddo_joblocation_id',type:'number'},{name:'interviewers_ids',type:'string'},{name:'ddo_jobopening_id',type:'number'},{name:'ddo_jobopeningstatus_id',type:'number'}]});Ext.define('JobOpenings.model.jobopeningrequest.RecruiterList',{extend:'Ext.data.Model',fields:['recruiter_name',{convert:function(b,a){a.data['recruiter_name']=a.data['firstname'];delete a.data.firstname}},'employee_id']});Ext.define('JobOpenings.store.filtertoolbar.EducationStore',{extend:'Ext.data.Store',alias:'store.educationstore',storeId:'educationStore',model:'JobOpenings.model.filtertoolbar.EducationModel',autoLoad:!1,proxy:{type:'ajax',url:'jobapplication/getJobeducation',reader:{type:'json',rootProperty:'data'}}});Ext.define('JobOpenings.store.filtertoolbar.FilterbyApplicationStatus',{extend:'Ext.data.Store',alias:'store.filterbyapplicationstatus',storeId:'applicationStatus',model:'JobOpenings.model.filtertoolbar.FilterbyApplicationStatus',autoLoad:!1,proxy:{type:'ajax',url:'jobappinterview/appstatus',reader:{type:'json',rootProperty:'data'}}});Ext.define('JobOpenings.store.filtertoolbar.FilterbyStatus',{extend:'Ext.data.Store',alias:'store.filterbyStatus',storeId:'status',model:'JobOpenings.model.filtertoolbar.FilterbyStatus',autoLoad:!1,proxy:{type:'ajax',url:'jobopeningrequest/getJobStatusData',reader:{type:'json',rootProperty:'data'}}});Ext.define('JobOpenings.store.filtertoolbar.HiringSourceCombo',{extend:'Ext.data.Store',alias:'store.hiringsourcecombo',storeId:'hiringSourceCombo',model:'JobOpenings.model.filtertoolbar.HiringSourceCombo',autoLoad:!1,proxy:{type:'ajax',url:'jobapplication/hiringsource',reader:{type:'json',rootProperty:'data'}}});Ext.define('JobOpenings.store.filtertoolbar.IdTypeCombo',{extend:'Ext.data.Store',alias:'store.idtypecombo',storeId:'idtypecombo',autoLoad:!1,proxy:{type:'ajax',url:'resources/data/jobapplications/idtypes.json',reader:{type:'json',rootProperty:'data'}}});Ext.define('JobOpenings.store.filtertoolbar.JobOpeningsDateStore',{extend:'Ext.data.Store',alias:'store.jobopeningsdatestore',storeId:'jobopeningsdatestore',model:'JobOpenings.model.filtertoolbar.JobOpeningsDateStore',proxy:{type:'ajax',url:'resources/data/jobopenings/filterstoolbar/filterbydate.json',reader:{type:'json',rootProperty:'filterbyDate'}}});Ext.define('JobOpenings.store.filtertoolbar.JobSkillsTypeStore',{extend:'Ext.data.Store',alias:'store.jobskillstypestore',storeId:'jobSkillsStore',model:'JobOpenings.model.filtertoolbar.JobSkillsTypeStore',autoLoad:!1,proxy:{type:'ajax',url:'skill/combo',reader:{type:'json',rootProperty:'data'}}});Ext.define('JobOpenings.store.filtertoolbar.RatingStore',{extend:'Ext.data.Store',alias:'store.ratingstore',storeId:'ratingStore',model:'JobOpenings.model.filtertoolbar.RatingModel',autoLoad:!1,proxy:{type:'ajax',url:'jobappinterview/getInterviewRating',reader:{type:'json',rootProperty:'data'}}});Ext.define('JobOpenings.store.filtertoolbar.TagStore',{extend:'Ext.data.Store',alias:'store.tagstore',storeId:'location',model:'JobOpenings.model.filtertoolbar.TagModel',data:{items:[{loc_id:1,loc_name:'test'}]},proxy:{type:'ajax',reader:{type:'json',rootProperty:'items'}}});Ext.define('JobOpenings.store.form.LocationStore',{extend:'Ext.data.Store',alias:'store.locationstore',requires:['JobOpenings.model.form.LocationModel'],model:'JobOpenings.model.form.LocationModel',autoLoad:!1,storeId:'joblocationstore',proxy:{type:'ajax',url:'/jobopeningrequest/getLocationData',reader:{type:'json',rootProperty:'data'}}});Ext.define('JobOpenings.store.jobapplications.ApplicationStatus',{extend:'Ext.data.Store',alias:'store.applicationstatus',autoLoad:!1,proxy:{type:'ajax',url:'resources/data/jobapplications/jobapplicationstatus.json',reader:{type:'json',rootProperty:'data'}}});Ext.define('JobOpenings.store.jobapplications.IdCardType',{extend:'Ext.data.Store',alias:'store.applicationstatus',autoLoad:!1,proxy:{type:'ajax',url:'resources/data/jobapplications/jobapplicationstatus.json',reader:{type:'json',rootProperty:'types'}}});Ext.define('JobOpenings.store.jobopeningrequest.JobOpeningsRecruiter',{extend:'Ext.data.Store',alias:'store.jobopeningsrecruiter',storeId:'jobopeningsrecruiter',requires:['JobOpenings.model.jobopeningrequest.JobOpeningsRequestDataModel'],model:'JobOpenings.model.jobopeningrequest.JobOpeningsRequestDataModel',autoLoad:!1,proxy:{type:'ajax',url:'/jobopeningrequest/getRecruitersList',reader:{type:'json',rootProperty:'data'}}});Ext.define('JobOpenings.store.jobopeningrequest.RecruiterList',{extend:'Ext.data.Store',alias:'store.recruiterlist',requires:['JobOpenings.model.jobopeningrequest.RecruiterList'],model:'JobOpenings.model.jobopeningrequest.RecruiterList',autoLoad:!1,proxy:{type:'ajax',url:'/jobopeningrequest/getRecruitersList',reader:{type:'json',rootProperty:'data'}}});Ext.define('JobOpenings.view.alljobapplications.AllJobApplicationsUtil',{singleton:!0,alternateClassName:['Util'],convertFileToJson:function(c,d){var a=c.fileInputEl.dom.files[0];var e=a.name.substr(a.name.lastIndexOf('.')+1);var b=new FileReader();b.onload=function(h){var f=h.target.result;var b,a;var g=fixdata(f);switch(e){case 'xlsx':case 'xlsm':case 'xlsb':case 'xls':b=X.read(btoa(g),{type:'base64'});a=XLSX.utils.sheet_to_json(b.Sheets[b.SheetNames[0]]);console.log(a);break;default:a=!1;}d(a)};b.readAsArrayBuffer(a)}});Ext.define('JobOpenings.view.alljobapplications.AllJobApplicationsController',{extend:'Ext.app.ViewController',alias:'controller.alljobapplicationscontroller',requires:['JobOpenings.view.alljobapplications.AllJobApplicationsUtil'],onGridRowClick:function(i,a,h,g,j,f){var e=Ext.ComponentQuery.query('[reference = alljobapplicationreference]')[0],c=Ext.ComponentQuery.query('alljobapplicationsformviewmode')[0],d=Ext.ComponentQuery.query('[reference = portalref]')[0];e.getLayout().setActiveItem(1);var b={fnameView:a.data.appfirstname,lnameView:a.data.applastname,jobtitlenameView:a.data.currentjobtitle?a.data.currentjobtitle.split('&apos;').join("'"):null,yearsnameView:a.data.workexpyears,monthsnameView:a.data.workexpmonths,skillsnameView:a.data.skillnames?a.data.skillnames.join(', '):null,locationnameView:a.data.currentlocation,educationnameView:a.data.education,univnameView:a.data.collegename,mobilenameView:a.data.mobile,emailnameView:a.data.emailid,hiringnameView:a.data.name,portalnameView:a.data.jobportalname,appResumeView:a.data.resumename,identificationType:a.data.ddo_jobidentificationtype_id,identificationNumber:a.data.identification_num};c.reset();c.getForm().setValues(b);if(b.portalnameView==null){d.hide()}Ext.ComponentQuery.query('[reference = title_applicationCreatRef]')[0].setHtml(window.sessionStorage.newApplicationHead+'/'+'View Application')},onKeyUpAllJobSearch:function(a,e,f){var g=this.getView();var c=Ext.ComponentQuery.query('alljobapplications')[0].getLayout().getActiveItem().reference=='alljobapplicationsgridviewref'?!0:!1;var d=Ext.ComponentQuery.query('alljobapplicationstoolbar')[0];if(a.value.length>=3){this.searchJob(a,c)}else {if(a.value.length==0){var b=this.getViewModel().getStore('allJobAllicationsGridViewStore');b.clearFilter(!0);b.load()}}},searchJob:function(c,d){var b=c.value,f=Ext.ComponentQuery.query('[reference = alljobapplicationsgridviewref]')[0],a=this.getViewModel().getStore('allJobAllicationsGridViewStore');if(a){a.clearFilter(!0);if(d){var e={'property':'ddo_jobopeningstatus_id','value':1};a.addFilter(e)}if(b.length>=3){a.filterBy(function(a){var h=!1,g=!1,f=!1;if(f||a.data.recruiter){var e=a.data.recruiter.search(new RegExp(b,'gi'));if(e==0){g=!0}}if(g==!1){if(a.data.appfirstname){f=!0;var e=a.data.appfirstname.search(new RegExp(b,'gi'))}}return e>=0&&!0},this)}else {if(b.length==0){a.clearFilter(!0);a.load()}}}},onAllJobApplicationBackButtonClick:function(){Ext.ComponentQuery.query('[reference = alljobapplicationreference]')[0].getLayout().setActiveItem(0)},exceluploadClick:function(c,d,b){var a=this.getView();Ext.create('JobOpenings.view.alljobapplications.AllJobApplicationExcelFileUploadWindow',{vmStore:a.getViewModel().getStore('allJobAllicationsGridViewStore')}).show()},buttonOnlyChange:function(c,d,h,i,g){var e=this,b=e.getViewModel(),f=c.value;rec=d.replace('C:\\fakepath\\','');b.set('resumePath2',rec);var a=Ext.ComponentQuery.query('[reference = excelfileuploadbtn]')[0];a.setText(rec)},uploadExcelfile:function(c,h,g){var a=c.up('form');var e=c.up('window').vmStore;var f=c.up('window');var b=a.down('combobox');ddo_jobopening_id=b.value;if(a.isValid()){var d=a.down('filefield');d.ddo_jobopening_id=b.value;JobOpenings.view.alljobapplications.AllJobApplicationsUtil.convertFileToJson(d,function(d){var a=d.map(function(e){var a=Object.assign({},e);a.ddo_jobopening_id=b.value;return a});if(a){params={applications:a};Ext.Ajax.request({url:'/jobapplication/jobapplications',method:'POST',scope:this,jsonData:params,success:function(a){var i=Ext.decode(a.responseText),b=i.message;e.load();f.close();console.log(d);Ext.Msg.alert('success',b)}})}else {Ext.toast('Invalid File Format','Message','t')}})}else {Ext.toast('Please upload the file','Message','t')}}});Ext.define('JobOpenings.view.alljobapplications.AllJobApplicationsViewModel',{extend:'Ext.app.ViewModel',alias:'viewmodel.alljobapplicationsviewmodel',reference:'alljobapplicationsref',data:{viewHide:!1,initialInterviewShow:!1,cancelformshow:!0,awaitingfeedviewHide:!0,addSch:!1,feedbackData:'',resumePath:'',resumePath2:'Choose File',filtervalue:'',saveBtnDisable:!0,uploadBtnForEditShow:!0},stores:{allJobAllicationsGridViewStore:{storeId:'allJobAllicationsGridViewStore',autoLoad:!0,proxy:{type:'ajax',api:{read:'/jobapplication'},reader:{type:'json',rootProperty:'data'}}}}});Ext.define('JobOpenings.view.alljobapplications.AllJobApplicationsExcelFileupload',{extend:'Ext.form.Panel',xtype:'alljobapplicationsexcelfileupload',width:'100%',layout:{type:'vbox',pack:'center',align:'middle'},requires:['JobOpenings.view.alljobapplications.AllJobApplicationsController','JobOpenings.view.alljobapplications.AllJobApplicationsViewModel'],viewModel:'alljobapplicationsviewmodel',controller:'alljobapplicationscontroller',items:[{xtype:'combobox',reference:'selectjobopeningref',name:'title',labelAlign:'top',width:300,style:'margin-left:190px !important;',fieldLabel:'Select Job Opening',allowBlank:!1,tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{title}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{title}','</tpl>'),cls:'requestCombo-cls selectjob-combo',queryMode:'local',displayField:'title',editable:!1,valueField:'ddo_jobopening_id',emptyText:'Select',autoLoadOnValue:!0},{anchor:'100%',xtype:'filefield',opType:'upload',name:'appResume',iconCls:'upload-cls',reference:'referralfileuploadref',buttonOnly:!0,allowBlank:!1,listeners:{change:'buttonOnlyChange'},bind:{value:'{resumePath}'},buttonConfig:{cls:'upload-btn',width:180,iconCls:'x-fa fa-upload',iconAlign:'right',reference:'excelfileuploadbtn',text:'Choose File',name:'uploadid',bind:{text:'{resumePath2}'}},fieldLabel:'Upload Excel:'}],bbar:[{xtype:'toolbar',width:'100%',margin:'0 0 30 0',dock:'bottom',items:[{xtype:'tbfill'},{xtype:'button',text:'Upload',formBind:!0,width:150,cls:'filter-submit-btn',listeners:{click:'uploadExcelfile'}},{xtype:'tbfill'}]}]});Ext.define('JobOpenings.view.alljobapplications.AllJobApplicationExcelFileUploadWindow',{extend:'Ext.window.Window',xtype:'allJobApplicationexcelfileuploadwindow',requires:['JobOpenings.view.alljobapplications.AllJobApplicationsExcelFileupload'],title:'Upload Excel File',modal:!0,minHeight:200,maxHeight:300,width:620,margin:'5 50 0 0',layout:{type:'fit'},closeAction:'hide',reference:'alljobapplicationexcelfileuploadwinref',resizable:!1,cls:'ddo-filter-window',title:'Upload Excel File',initComponent:function(){var a=this;a.callParent(arguments);a.mon(Ext.getBody(),'click',function(b,c){a.close(a.closeAction)},a,{delegate:'.x-mask'})},items:[{xtype:'alljobapplicationsexcelfileupload'}]});Ext.define('JobOpenings.view.alljobapplications.AllJobApplicationsFormViewMode',{extend:'Ext.form.Panel',alias:'widget.alljobapplicationsformviewmode',cls:'form-cls apply-form',defaults:{width:'50%',labelAlign:'right',labelWidth:180,padding:5,labelStyle:'font-size:16px;'},reference:'alljobApplicationFormViewModeRef',layout:{type:'vbox',align:'middle',pack:'center'},title:'Job Application',buttonAlign:'center',items:[{xtype:'textfield',name:'fnameView',fieldLabel:'First Name:',readOnly:!0,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'lnameView',readOnly:!0,fieldLabel:'Last Name:',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'jobtitlenameView',readOnly:!0,fieldLabel:'Current Job Title:',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'fieldcontainer',fieldLabel:'Work Experience',cls:'fieldcontainer-cls',layout:'hbox',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',combineErrors:!0,defaults:{padding:10,msgTarget:'side',flex:1,labelWidth:50,anchor:'70%'},items:[{xtype:'textfield',readOnly:!0,fieldLabel:'Years',name:'yearsnameView'},{xtype:'textfield',readOnly:!0,fieldLabel:'Months',name:'monthsnameView'}]},{xtype:'textfield',fieldLabel:'Skills:',name:'skillsnameView',border:5,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',readOnly:!0},{xtype:'textfield',name:'locationnameView',readOnly:!0,fieldLabel:'Current Location:',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',fieldLabel:'Education:',name:'educationnameView',readOnly:!0,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{xtype:'textfield',name:'univnameView',readOnly:!0,fieldLabel:'College / University:',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'mobilenameView',fieldLabel:'Mobile:',readOnly:!0,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'emailnameView',readOnly:!0,fieldLabel:'Email Address',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'fieldcontainer',cls:'fieldcontainer-cls',layout:'hbox',defaults:{msgTarget:'side',flex:1,anchor:'65%',labelStyle:'font-size:16px;'},items:[{xtype:'textfield',name:'hiringnameView',readOnly:!0,labelWidth:110,margin:'0 10 0 68',fieldLabel:'Hiring Source:',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'portalnameView',reference:'portalref',readOnly:!0,fieldLabel:'Job Portal Name:',labelAlign:'right',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'}]},{xtype:'fieldcontainer',cls:'fieldcontainer-cls',layout:'hbox',defaults:{msgTarget:'side',flex:1,anchor:'65%',labelStyle:'font-size:16px;'},items:[{xtype:'combobox',name:'identificationType',emptyText:'Select',emptyCls:'referrals-empty-text',labelWidth:110,labelAlign:'right',margin:'0 10 0 68',fieldLabel:'Id Type:',readOnly:!0,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'identificationNumber',emptyText:'Select',fieldLabel:'Id Number:',emptyCls:'referrals-empty-text',readOnly:!0,labelAlign:'right',maskRe:/^[A-Za-z0-9]*$/,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'}]},{xtype:'fieldcontainer',defaults:{width:'100%',labelAlign:'right',labelWidth:180,padding:5,labelStyle:'font-size:16px;'},items:[{xtype:'textfield',anchor:'100%',name:'appResumeView',opType:'upload',iconCls:'upload-cls',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',fieldLabel:'Upload CV :',readOnly:!0}]}]});Ext.define('JobOpenings.view.alljobapplications.AllJobApplicationViewMode',{extend:'Ext.panel.Panel',alias:'widget.alljobapplicationviewmode',requires:['JobOpenings.view.alljobapplications.AllJobApplicationsFormViewMode','JobOpenings.view.alljobapplications.AllJobApplicationsController','JobOpenings.view.alljobapplications.AllJobApplicationsViewModel'],viewModel:{type:'alljobapplicationsviewmodel'},controller:'alljobapplicationscontroller',cls:'job-header',tools:[{xtype:'button',scale:'medium',iconCls:'goalsbackbtn-cls',cls:'jobback-btn-cls',style:{border:0},listeners:{click:'onAllJobApplicationBackButtonClick'}},{xtype:'label',html:'Back',cls:'backlabel-cls'},{xtype:'label',html:'Intern UI Development/View Application Details',cls:'titlelabel-cls',reference:'title_applicationCreatRef',margin:20}],items:[{xtype:'alljobapplicationsformviewmode'}]});Ext.define('JobOpenings.view.alljobapplications.AllJobApplicationsToolbar',{extend:'Ext.panel.Panel',xtype:'alljobapplicationstoolbar',reference:'alljobapplicationstoolbarref',layout:{type:'hbox',width:'100%'},cls:'filtertoolbar-cls',items:[{xtype:'button',width:6,cls:'karmascore-search-icon-field job-search-icon',height:6},{xtype:'textfield',width:'30%',reference:'alljobapplicationssearchref',emptyText:'Search',enableKeyEvents:!0,cls:'karmascore-search-field searchFields job-search-field',listeners:{change:'onKeyUpAllJobSearch'}},{xtype:'tbfill'},{xtype:'button',text:'Download Excel Template',width:170,height:35,textAlign:'center',cls:'alljobapplicationsexceltemp-btn-cls',href:'/resources/excelfileformat/ExcelUpload.xlsx',target:'_blank'},{xtype:'button',text:'Upload Excel',width:100,height:35,textAlign:'center',cls:'create-new-btn-cls',listeners:{click:'exceluploadClick'}},{xtype:'tbspacer',width:19}]});Ext.define('JobOpenings.view.alljobapplications.AllJobApplicationsGridView',{extend:'Ext.container.Container',xtype:'alljobapplicationsgridview',reference:'alljobapplicationsgridviewref',requires:['JobOpenings.view.alljobapplications.AllJobApplicationsController','JobOpenings.view.alljobapplications.AllJobApplicationsToolbar'],controller:'alljobapplicationscontroller',viewModel:{type:'alljobapplicationsviewmodel'},margin:'0 0 0 10',items:[{xtype:'container',html:'<div class="jobtitle-cls">All Job Applications</div>'},{xtype:'alljobapplicationstoolbar'},{xtype:'grid',maxHeight:420,width:'98%',loadMask:!0,margin:'0 0 10 10',cls:'karmalist-cls',style:'border:1px solid #efe8e8; background: black;',columns:[{text:'Candidate Name',flex:0.4,dataIndex:'appfirstname',cls:'grid-cls'},{text:'Job Opening',flex:0.5,dataIndex:'title',cls:'grid-cls'},{text:'Experience',flex:0.3,dataIndex:'minworkexperience',cls:'grid-cls'},{text:'Skills',flex:0.4,dataIndex:'skillnames',cls:'grid-cls'},{text:'Email',flex:0.5,dataIndex:'emailid',cls:'grid-cls'},{text:'Mobile',flex:0.4,dataIndex:'mobile',cls:'grid-cls'},{text:'Location',flex:0.3,dataIndex:'currentlocation',cls:'grid-cls'},{text:'Recruiter',flex:0.3,dataIndex:'recruiter',cls:'grid-cls'}],listeners:{itemclick:'onGridRowClick'}}]});Ext.define('JobOpenings.view.alljobapplications.AllJobApplications',{extend:'Ext.container.Container',xtype:'alljobapplications',requires:['JobOpenings.view.alljobapplications.AllJobApplicationsGridView','JobOpenings.view.alljobapplications.AllJobApplicationViewMode'],layout:{type:'card',activeItem:0},margin:'10 0 0 10',reference:'alljobapplicationreference',items:[{xtype:'alljobapplicationsgridview',id:'alljobapplicationsId'},{xtype:'alljobapplicationviewmode',id:'alljobapplicationviewmodeId'}]});Ext.define('JobOpenings.view.applicationenquiry.ApplicationEnquiryController',{extend:'Ext.app.ViewController',alias:'controller.applicationenquirycontroller',onReadClick:function(h,g){var e=this.getView(),d=e.down('form').getForm(),a=d.getValues();var c={ddo_jobidentificationtype_id:a.idtype,identification_num:a.idnumber};var f='/jobapplication/getIdDetails';var b='GET';Ext.Ajax.request({url:f,method:b,scope:this,params:c,success:function(c,e){var a=Ext.decode(c.responseText);var b=this.getStore('gridstore');var d={name:a.data[0].lastname+' '+a.data[0].firstname,email:a.data[0].emailid};b.removeAll();b.add(d);Ext.ComponentQuery.query('[reference = enquiryDetails]')[0].setHidden(!1);Ext.ComponentQuery.query('[reference = enquiryDetailsNotfoundref]')[0].hide();Ext.ComponentQuery.query('[reference = selectType]')[0].hide()},failure:function(c,d){var a=this.getStore('gridstore');var b={name:'--',email:'--'};a.removeAll();a.add(b);Ext.ComponentQuery.query('[reference = enquiryDetailsNotfoundref]')[0].setHidden(!1);Ext.ComponentQuery.query('[reference = enquiryDetails]')[0].hide();Ext.ComponentQuery.query('[reference = selectType]')[0].hide()}})}});Ext.define('JobOpenings.view.applicationenquiry.ApplicationEnquiryModel',{extend:'Ext.app.ViewModel',alias:'viewmodel.enquiryviewmodel',stores:{gridstore:{autoLoad:!1,fields:['name','email'],data:[{name:'--',email:'--'}]}}});Ext.define('JobOpenings.view.applicationenquiry.ApplicationViewForm',{extend:'Ext.form.Panel',alias:'widget.applicationviewform',cls:'enquiry-cls',reference:'applicationform',margin:'20 0',title:'Application Details',items:[{xtype:'form',cls:'job-header',margin:'30 185',width:657,style:'border:1px solid #DEDEDE; padding-top: 15px;',reference:'jobopenform',layout:{type:'vbox',align:'middle',pack:'center'},border:!1,buttonAlign:'center',defaults:{width:'60%',labelAlign:'center',labelWidth:180,left:120,padding:5,labelStyle:'font-size:16px;'},items:[{xtype:'combobox',reference:'myCombo',name:'idtype',fieldLabel:'Identification Type',cls:'enquiry-cls1',emptyText:'Identification Type',emptyCls:'referrals-empty-text',store:Ext.create('JobOpenings.store.filtertoolbar.IdTypeCombo'),displayField:'id_type',editable:!1,valueField:'ddo_jobidentificationtype_id',afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{xtype:'textfield',name:'idnumber',required:!0,maskRe:/^[0-9]*$/,minLength:10,maxLength:10,enforceMaxLength:!0,reference:'jobtitleref',fieldLabel:'Identification Number',emptyText:'Mobile Number',emptyCls:'referrals-empty-text',allowBlank:!1,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'}],buttons:[{text:'Verify',cls:'verifybtn-cls',margin:'0 0',width:'120px',formBind:!0,listeners:{click:'onReadClick'}}]},{xtype:'label',hidden:!1,reference:'selectType',html:'Please select the identification type',cls:'textmsglabel-cls'},{xtype:'label',hidden:!0,reference:'enquiryDetails',html:'Application found for the given identification details',cls:'textmsglabel-cls'},{xtype:'label',hidden:!0,reference:'enquiryDetailsNotfoundref',html:'No matching application found for the given identification details!',cls:'textmsglabelnodata-cls'},{xtype:'gridpanel',height:100,width:657,cls:'karmalist-cls enquiry-cls',style:'margin-left: 185px;border:1px solid #efe8e8; background: black;',columns:[{text:'Name',dataIndex:'name',flex:0.3},{text:'Email ID',dataIndex:'email',flex:0.4}]}]});Ext.define('JobOpenings.view.applicationenquiry.ApplicationEnquiry',{extend:'Ext.panel.Panel',xtype:'applicationenquiry',requires:['JobOpenings.view.applicationenquiry.ApplicationEnquiryController','JobOpenings.view.applicationenquiry.ApplicationEnquiryModel','JobOpenings.view.applicationenquiry.ApplicationViewForm'],layout:{type:'card'},controller:'applicationenquirycontroller',viewModel:{type:'enquiryviewmodel'},margin:'10 0 0 10',reference:'applicationenquiryreference',items:[{xtype:'applicationviewform'}]});Ext.define('JobOpenings.view.interviewrequest.InterviewRequestController',{extend:'Ext.app.ViewController',alias:'controller.interviewrequestcontroller',beforeRender:function(){Ext.Ajax.request({url:'jobappinterview/getInterviewRating',method:'GET',scope:this,success:function(a,c,b,d,e,f){window.sessionStorage.getRatingStr=a.responseText},failure:function(a,b){}});Ext.Ajax.request({url:'jobapplication/getJobeducation',method:'GET',scope:this,success:function(a,c,b,d,e,f){window.sessionStorage.myEduTypeArr=a.responseText},failure:function(a,b){}})},onBackClick:function(a){Ext.Msg.confirm('Confirm','Are you sure you want to go back?',function(b){if(b==='no'){}else {if(b==='yes'){Ext.ComponentQuery.query('[reference = jobapplicationreference]')[0].getLayout().setActiveItem(0)}}},this)},onIntervReqClick:function(i,a,h,g,e,f){if(e.target.innerText=='Interview'){window.sessionStorage.renderingData=JSON.stringify(a.data);window.sessionStorage.ddo_jobapplication_id_forApplStatus=a.data.ddo_jobapplication;window.sessionStorage.ddo_jobapplicationstatus_id=a.data.ddo_jobapplicationstatus_id;var c=a.data.currentjobtitle,b=a.data.firstname;if(c.length>30){c=c.substring(0,27)+'...'}if(b.length>20){b=b.substring(0,17)+'...'}Ext.ComponentQuery.query('[reference = interviewRequest_interviewTitleRef]')[0].setHtml(c+'/'+b+'/'+'Interview');Ext.ComponentQuery.query('[reference = interviewreference]')[0].getLayout().setActiveItem(1);Ext.ComponentQuery.query('interviewrequestfeedbackmain')[0].items.items[1].items.items[0].store.loadRawData(a);var d={ddo_jobapplicationinterview_id:a.data.ddo_jobapplicationinterview_id};Ext.Ajax.request({url:'/jobappinterview',method:'GET',scope:this,params:d,success:function(c,j,d,k,l,m){Ext.ComponentQuery.query('interviewrequestfeedbackview')[0].items.items[0].store.loadRawData(JSON.parse(c.responseText));Ext.ComponentQuery.query('interviewrequestfeedbackview')[0].items.items[0].store.sort('updated','DESC');Ext.ComponentQuery.query('interviewrequestfeedbackview')[0].items.items[0].store.filter({property:'ddo_jobapplication_id',id:'fil_ddo_jobapplication_id',anyMatch:!0,caseSensitie:!1,value:a.data.ddo_jobapplication_id},a.data.ddo_jobapplication_id,!1);Ext.ComponentQuery.query('interviewrequestfeedbackview')[0].items.items[0].store.filter({property:'ddo_jobinterviewstatus_id',id:'fil_ddo_jobinterviewstatus_id',anyMatch:!0,caseSensitie:!1,value:/[1-2]/},/[1-2]/,!1);var b=Ext.getStore('login').data.items[0].data;Ext.ComponentQuery.query('interviewrequestfeedbackview')[0].items.items[0].store.filter({property:'interviewer_id',id:'by_interviewer_id',anyMatch:!0,caseSensitie:!1,value:b.ddo_employee_id},b.ddo_employee_id,!1)},failure:function(c,d){var b=Ext.decode(c.responseText);Ext.toast(b.message,!1,'t')}})}},onKeyUpJobSearch:function(b,d,c){var a=this.getReferences().interviewrequestlistview;this.searchJob(a.down('textfield'))},searchJob:function(c){var b=c.value,d=this.getReferences().interviewdatalistview,a=d.getStore();if(a){a.clearFilter(!0);a.filterBy(function(a){var d=a.data.firstname.search(new RegExp(b,'gi'));return d>=0},this)}},interviewRequestCancelClick:function(f,c,b,e,g,d){var a={ddo_jobapplicationinterview_id:JSON.parse(window.sessionStorage.renderingData).ddo_jobapplicationinterview_id,feedback:'',ddo_interviewrating_id:3};Ext.Ajax.request({url:'/jobappinterview',method:'PUT',scope:this,params:a,success:function(a,j,i,k,l,m){var h=JSON.parse(a.responseText).message;b.children[0].children[1].children[4].children[0].value='';Ext.ComponentQuery.query('interviewrequestdesign')[0].getViewModel().getStore('interviewRequestListStore').load({params:{loginuser_id:Ext.getStore('login').data.items['0'].data.ddo_employee_id}});Ext.Msg.alert('success',h)},failure:function(h,i){var a=Ext.decode(h.responseText);Ext.toast(a.message,!1,'t')}})},interviewRequestSubmitClick:function(h,e,a,g,i,f){var c=JSON.parse(window.sessionStorage.getRatingStr),b=a.children[0].children[1].children[4].children[0].children[1].outerText.split('\n')[0].trim();ratingId=null;c.data.forEach(function(c){if(b==c.name.trim()){ratingId=c.ddo_interviewrating_id}});var d={ddo_jobapplicationinterview_id:JSON.parse(window.sessionStorage.renderingData).ddo_jobapplicationinterview_id,feedback:a.children[0].children[1].children[5].children[0].value,ddo_interviewrating_id:ratingId,ddo_jobinterviewstatus_id:2};Ext.Ajax.request({url:'/jobappinterview',method:'PUT',scope:this,params:d,success:function(b,j,d,k,l,m){var c=JSON.parse(b.responseText).message;Ext.ComponentQuery.query('interviewrequestdesign')[0].getViewModel().getStore('interviewRequestListStore').load({params:{loginuser_id:Ext.getStore('login').data.items['0'].data.ddo_employee_id}});Ext.Msg.alert('success',c)},failure:function(c,d){var b=Ext.decode(c.responseText);Ext.toast(b.message,!1,'t')}})},ratingsCheckClick:function(h,e,b,g,a,f){if(a.target.lastChild!=null&&a.target.className=='act-cls'){if(a.target.lastChild.classList.value!=='act-showcls'){b.children[0].children[1].children[4].children[0].children[1].children[0].children[1].className='act-showcls'}else {b.children[0].children[1].children[4].children[0].children[1].children[0].children[1].className='act-removecls'}}else {if(a.target.className=='lili'){window.sessionStorage.intervw_req_feedback=!0;var c=a.target.innerText;var i=JSON.parse(window.sessionStorage.getRatingStr);var d='';i.data.forEach(function(c){d+='<li class="lili" value="'+c.ddo_interviewrating_id+'">'+c.name+'</li>'});b.children[0].children[1].children[4].children[0].innerHTML='<img class="intvwratingimg-cls" src="resources/images/feeds/likes/'+c+'.png"><div style="position:absolute;"><div class="act-cls">'+c+' <i class="x-fa fa-sort-desc arrow-cls"></i><div class="act-showcls"><ul>'+d+'</ul></div></div></div>'}b.children[0].children[1].children[4].children[0].children[1].children[0].children[1].className='act-removecls';if(a.target.innerText=='Submit'){if(b.children[0].children[1].children[5].children[0].value!=''){b.children[0].children[1].children[5].children[0].readOnly=!0;this.interviewRequestSubmitClick(h,e,b,g,a,f)}else {Ext.toast('Feed Back Required!',!1,'t')}}if(a.target.innerText=='Cancel'){b.children[0].children[1].children[5].children[0].readOnly=!1;this.interviewRequestCancelClick(h,e,b,g,a,f)}if(a.target.tagName=='TEXTAREA'){window.sessionStorage.intervw_req_feedback=!0}}}});Ext.define('JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel',{extend:'Ext.app.ViewModel',alias:'viewmodel.filterviewmodel',data:{locationName:'',ddo_jobopening_id:'',filtervalue:''},stores:{locationStore:{autoLoad:!1,proxy:{type:'ajax',url:'jobopeningrequest/getLocationData',reader:{type:'json',rootProperty:'data'}}},departmentStore:{autoLoad:!1,proxy:{type:'ajax',url:'dashboard/getDepartmentNames',reader:{type:'json',rootProperty:'data'}}},interviewrsStore:{autoLoad:!1,proxy:{type:'ajax',url:'utility/getempbasiclist',reader:{type:'json',rootProperty:'data'}}},skillsStore:{autoLoad:!1,storeId:'skillsstore',proxy:{type:'ajax',url:'skill/combo',reader:{type:'json',rootProperty:'data'}}},jobOpeningDataViewStore:{autoLoad:!1,proxy:{type:'ajax',url:'jobopeningrequest',reader:{type:'json',rootProperty:'data'}},sorters:[{property:'jobupdateddate',direction:'DESC'}]},jobRecruiterStore:{autoLoad:!1,proxy:{type:'ajax',url:'/jobopeningrequest/getRecruitersList',reader:{type:'json',rootProperty:'data'}}},jobReferralsDataViewStore:{autoLoad:!1,proxy:{type:'ajax',url:'jobopeningrequest',reader:{type:'json',rootProperty:'data'}},sorters:[{property:'jobupdateddate',direction:'DESC'}],filters:[{property:'ddo_jobopeningstatus_id',value:1}]}}});Ext.define('JobOpenings.view.interviewrequest.Interviewlistview',{extend:'Ext.panel.Panel',xtype:'interviewlistview',requires:['JobOpenings.store.filtertoolbar.FilterbyStatus','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel'],viewModel:{type:'filterviewmodel'},reference:'interviewrequestlistview',layout:{type:'hbox',width:'100%'},cls:'filtertoolbar-cls',items:[{xtype:'button',width:6,cls:'karmascore-search-icon-field job-search-icon',height:6,padding:'-8 11 14 12'},{xtype:'textfield',width:'30%',reference:'jobsearchref_interv_req',enableKeyEvents:!0,emptyText:'Search',cls:'karmascore-search-field searchFields job-search-field',listeners:{keyup:'onKeyUpJobSearch'}}]});Ext.define('JobOpenings.view.interviewrequest.InterviewRequestModel',{extend:'Ext.app.ViewModel',alias:'viewmodel.interviewrequestmodel',data:{locationName:''},stores:{interviewRequestListStore:{autoLoad:!1,proxy:{type:'ajax',url:'/jobappinterview/getinterviewrequests',method:'GET',reader:{type:'json',rootProperty:'data'}},sorters:[{property:'updated',direction:'DESC'}]},interviewReqFeedBackStore:{autoLoad:!1,proxy:{type:'ajax',url:'/jobappinterview',method:'GET',reader:{type:'json',rootProperty:'data'}}}}});Ext.define('JobOpenings.view.interviewrequest.InterviewRequestDesign',{extend:'Ext.container.Container',xtype:'interviewrequestdesign',requires:['JobOpenings.view.interviewrequest.Interviewlistview','JobOpenings.view.interviewrequest.InterviewRequestModel','JobOpenings.view.interviewrequest.InterviewRequestController'],cls:'myInterviewReq-cls noscrollbar',reference:'interviewlistview',viewModel:{type:'interviewrequestmodel'},controller:'interviewrequestcontroller',items:[{xtype:'container',html:'<div class="jobtitle-cls">Interview Request</div>'},{xtype:'interviewlistview'},{xtype:'dataview',reference:'interviewdatalistview',cls:'jobdataviewcls',emptyText:'<div class="projects-emptytext-cls">No Interviews are schduled</div>',itemTpl:['<div class="intervReqCls">','<div class="jobsdiv-cls ddo-jobopening-item">','<div class="title-div-cls" data-qtip="{firstname}-{lastname}"><span class="title-cls">{[this.showName(values)]}</span>','<span> | </span>','<span class="creator-cls">{[this.showCurrentjobtitle(values)]}</span>','<div class="interview-cls">Interview<i class="interview-iconcls arrow-cls"></i></span></div>','</div>','<div class="loc-exp-interviewexp"><span><i class="exp-iconcls arrow-cls"></i>&nbsp{workexpyears}.{workexpmonths} Years Experience </span>','<span><i class="location-iconcls arrow-cls"></i>&nbsp{[this.showCurrentlocation(values)]}</span>','</div>','<div class="loc-exp-interviewskill"><i class="skill-iconcls arrow-cls"></i>&nbsp{[this.showSkill(values)]}</div>','<div class="loc-exp-interviewdec">','</div>','</div>','<div class="status-div-cls-interviewreq myInterviewReq_details_bottom" style="height:72px;">','<div class="status-div-phone"><span>{[this.showIntervwType(values)]}</div>','<div class="status-div-date"><span><i class="date_iconcls_intrvw_req2 "></i>&nbsp {[this.showDate(values)]} &nbsp &nbsp</span></div>','<div class="status-div-time"><span><i class="time_iconcls_intrvw_req2 "></i>&nbsp {[this.showIntrvwTime(values)]} &nbsp &nbsp</span></div>','</div>','</div>',{showCurrentlocation:function(b){var a=b.currentlocation;if(a.length>15){return a.substring(0,12)+'...'}else {return a}},showCurrentjobtitle:function(b){var a=b.currentjobtitle;if(a.length>12){return a.substring(0,9)+'...'}else {return a}},showName:function(b){var a=b.firstname+' '+b.lastname;if(a.length>20){return a.substring(0,17)+'...'}else {return a}},showSkill:function(c){var a='';try{var b=c.skillnames;b.forEach(function(d,e){a+=b.length-1!=e?'#'+d+', ':'#'+d})}catch(d){}if(a.length>29){return a.substring(0,26)+'...'}else {return a}},showDate:function(b){var a=b.interviewdate;return Ext.Date.format(new Date(a),'d-m-Y')},showIntrvwTime:function(a){return a.interviewtime.replace('-','.')},showIntervwType:function(a){if(a.interviewmode==1){return "<span><i class='phone_iconcls_intrvw_req2 '></i>&nbsp  Telephonic &nbsp &nbsp</span>"}if(a.interviewmode==2){return "<span><i class='skype_iconcls_intrvw_req2 '></i>&nbsp Skype  &nbsp &nbsp</span>"}else {return "<span><i class='people_iconcls_intrvw_req2 '></i>&nbsp Face-to-Face  &nbsp &nbsp</span>"}}}],itemSelector:'div.interview-cls',listeners:{itemclick:'onIntervReqClick'}}]});Ext.define('JobOpenings.view.interviewrequest.interviewrequest.InterviewRequestFeedbackView',{extend:'Ext.container.Container',xtype:'interviewrequestfeedbackview',width:'99%',style:'padding-left: 63px; padding-top: 58px;',reference:'interviewrequestfeedbackviewref',requires:['JobOpenings.view.interviewrequest.InterviewRequestModel','JobOpenings.view.interviewrequest.InterviewRequestController'],controller:'interviewrequestcontroller',viewModel:{type:'interviewrequestmodel'},items:[{xtype:'dataview',reference:'feedbackdataviewref',data:'',cls:'jobappviewcls_spacing',itemTpl:['<div class="myPanelsCls" style="text-align:center;">','<div class="timeline-item jobtimelinecls3">','<div class="timeline-day"></div>','<div class="timeline-outer"><div class="timeline-inner">','</div>','</div>','</div>','<table class="feedbktable-cls">','<tr class="feedbktr-cls">','<th class="nameheader-cls">Interviewer Name</th>','<th class="typeheader-cls">Interviewer Type</th>','<th class="typeheader-cls">Interviewer Mode</th>','<th class="dtheader-cls">Date&Time</th>','<th class="ratingheader-cls">Rating</th>','<th class="">Feedback</th>','<th class=""></th>','</tr>','<tr class="datatr-cls">','<td>{interviewrname}</td>','<td>{[this.onIntervwTypeVal(values)]}</td>','<td>{[this.onIntervwModeVal(values)]}</td>','<td>{[this.convertDate(values)]}<div>{[this.showInterviewtime(values)]}</div></td>','<td>{[this.getRatingIcon(values)]}</td>','<td class="">{[this.onFeedbackVal(values)]}<br></td>','<td class=""><button class="intvwsubmit-btn" name="submit" id="submit" >Submit</button><br> ','<label class="intrvwReqCancel_lbl" name="cancel">Cancel</label></td>','</tr>','</table>','</div>',{getRatingIcon:function(d){var a=d.ratingname;var c=JSON.parse(window.sessionStorage.getRatingStr);var b='';c.data.forEach(function(a){b+='<li class="lili" value="'+a.ddo_interviewrating_id+'">'+a.name+'</li>'});return '<div style="margin-top: -39px;"><img class="intvwratingimg-cls" src="resources/images/feeds/likes/'+a+'.png'+'"><div style="position:absolute;">'+'<div class="act-cls">'+a+'<i class="x-fa fa-sort-desc arrow-cls"></i><div class="act-removecls"><ul>'+b+'</ul></div></div></div></div>'},convertDate:function(b){var a=b.interviewdate;return Ext.Date.format(new Date(a),'d-m-Y')},showInterviewtime:function(a){return a.interviewtime.replace('-','.')},onIntervwTypeVal:function(a){if(a.interviewtype==1){return 'Technical'}else {if(a.interviewtype==2){return 'HR'}else {return 'Manager'}}},onIntervwModeVal:function(a){if(a.interviewmode==1){return 'Telephonic'}else {if(a.interviewmode==2){return 'Skype'}else {return 'FacetoFace'}}},onFeedbackVal:function(a){if(a.feedback!='NULL'&&a.feedback!=null){return '<textarea class="intrvw_textarea" id="intrvw_textarea" placeholder="Write here..." name="feedbackTextArea" readonly>'+a.feedback+'</textarea>'}else {return '<textarea class="intrvw_textarea" placeholder="Write here..." name="feedbackTextArea"></textarea>'}}}],itemSelector:'.feedbktable-cls',listeners:{itemclick:'ratingsCheckClick',containerClick:function(d,e,f){var c=d.all.elements;for(var a=0;a<c.length;a++){var b=c[a].lastChild.lastChild.children[4].lastChild.lastChild.lastChild.lastChild;if(b.className=='act-showcls'){b.classList.remove('act-showcls');b.classList.add('act-removecls')}}}}}]});Ext.define('JobOpenings.view.jobapplications.JobApplicationsViewModel',{extend:'Ext.app.ViewModel',alias:'viewmodel.jobapplicationsviewmodel',reference:'jobappvmref',data:{viewHide:!1,initialInterviewShow:!1,cancelformshow:!0,awaitingfeedviewHide:!0,addSch:!1,feedbackData:'',resumePath:'',resumePath2:'Choose File',filtervalue:'',saveBtnDisable:!0,uploadBtnForEditShow:!0},stores:{jobapplicantStore:{autoLoad:!1,proxy:{type:'ajax',url:'resources/data/jobapplications/jobapplicantdetails.json',reader:{type:'json',rootProperty:'data'}}},jobApplicationStatus:{autoLoad:!1,proxy:{type:'ajax',url:'jobappinterview/appstatus',reader:{type:'json',rootProperty:'data'}}},interviewrsStore:{autoLoad:!1,proxy:{type:'ajax',url:'/jobappinterview/getInterviewPanelMembers',reader:{type:'json',rootProperty:'data'}}},interviewFeedBackStore:{autoLoad:!1,proxy:{type:'ajax',url:'/jobappinterview',reader:{type:'json',rootProperty:'data'}}},interviewTypeStore:{storeId:'interviewtype',autoLoad:!1,proxy:{type:'ajax',extraParams:{tablename:'ddo_interviewtype'},api:{read:'/preference/preferencedata'},reader:{type:'json',rootProperty:'data'}}},interviewModeStore:{autoLoad:!0,storeId:'interviewmode',proxy:{type:'ajax',extraParams:{tablename:'ddo_interviewmode'},api:{read:'/preference/preferencedata'},reader:{type:'json',rootProperty:'data'}}},jobapplicationsappliedstore:{autoLoad:!1,proxy:{type:'ajax',url:'jobapplication',reader:{type:'json',rootProperty:'data'}},sorters:[{property:'jobupdateddate',direction:'DESC'}]},jobApplicationsDataViewStore:{autoLoad:!1,proxy:{type:'ajax',url:'jobopeningrequest',reader:{type:'json',rootProperty:'data'}},sorters:[{property:'jobupdateddate',direction:'DESC'}],filters:[{property:'ddo_jobopeningstatus_id',value:1}]},allJobAllicationsGridViewStore:{autoLoad:!0,proxy:{type:'ajax',api:{read:'/jobapplication'},reader:{type:'json',rootProperty:'data'}}}}});Ext.define('JobOpenings.view.jobapplications.JobApplicationsViewController',{extend:'Ext.app.ViewController',alias:'controller.jobapplicationsviewController',init:function(a){this.control({'[reference="intervwformref"] field':{change:function(){window.sessionStorage.job_app_form='1'}}})},onMyPanelsClick:function(m,b,a,l,c,k){var e=!1;if(c.target.tagName=='LABEL'){a.children[1].children[0].children[0].children[5].innerText='';a.children[1].children[0].children[1].children[5].innerHTML='Awaiting for Feedback';a.children[1].children[0].children[1].children[6].innerHTML='<div class="intervw-sched-cancel-link-cls"><i class="cancel-interview-iconcls arrow-cls"></i>Cancel</div><div class="intervw-sched-reschedule-link-cls"><i class="reschedule-interview-iconcls arrow-cls"></i>Reschedule</div><div class="intervw-sched-delete-link-cls"><i class="delete-interview-iconcls arrow-cls"></i>Delete</div>'}else {if(c.target.tagName=='BUTTON'){e=!0}else {if(c.target.innerText=='Cancel'){a.children[1].children[0].children[0].children[5].innerText='Reason for Cancelling';a.children[1].children[0].children[1].children[5].innerHTML='<textarea class="intrvw_textarea2" name="feedbackTextArea"></textarea>';a.children[1].children[0].children[1].children[6].innerHTML="<button class='intvwsubmit-btn2'>Confirm</button><label class='intrvwReqCancel_lbl' style='margin:33px;'>Cancel</label>";window.sessionStorage.cancelOrRescheduleParam='1'}else {}}}if(c.target.tagName=='TEXTAREA'){window.sessionStorage.job_app_form='1'}else {window.sessionStorage.job_app_form='0'}if(c.target.innerText=='Reschedule'){a.children[1].children[0].children[0].children[5].innerText='Reason for Rescheduling';a.children[1].children[0].children[1].children[5].innerHTML='<textarea class="intrvw_textarea2" name="feedbackTextArea"></textarea>';a.children[1].children[0].children[1].children[6].innerHTML="<button class='intvwsubmit-btn2'>Confirm</button><label class='intrvwReqCancel_lbl' style='margin:33px;'>Cancel</label>";window.sessionStorage.cancelOrRescheduleParam='2'}var d=!1;if(c.target.innerText=='Delete'){e=!0;d=!0}if(e){var j='/jobappinterview',i=d?'DELETE':'PUT';var f=b.data.ddo_jobapplicationinterview_id;if(d){var h={ddo_jobapplicationinterview_id:f}}else {var h={ddo_jobapplication_id:b.data.ddo_jobapplication_id,ddo_jobinterviewstatus_id:window.sessionStorage.cancelOrRescheduleParam=='1'?4:3,ddo_interviewrating_id:3,feedback:c.target.tagName=='BUTTON'?a.children[1].children[0].children[1].children[5].children['0'].value:'',interviewer_id:b.data.interviewer_id,interviewtype:b.data.interviewtype,interviewdate:b.data.interviewdate,interviewtime:b.data.interviewtime,ddo_jobapplicationinterview_id:f}}var g=!1;Ext.Ajax.request({url:j,method:i,scope:this,params:h,success:function(f,j){var i=Ext.decode(f.responseText);var h=i.message;g=!0;if(g){this.getView().getReferences().oninterviewscheduledref.items.items[2].items.items[0].store.load()}Ext.Msg.alert('success',h);if(window.sessionStorage.cancelOrRescheduleParam=='2'){this.getView().getReferences().oninterviewscheduledref.items.items[0].hide();this.getView().getReferences().oninterviewscheduledref.items.items[1].show();var e=this.getView().getReferences().oninterviewscheduledref.items.items[1].items.items[1].items.items[0].getForm(),d=e.getFields();d.items[1].setValue(b.data.interviewer_id);d.items[2].setValue(b.data.interviewtype)}},failure:function(e,f){var d=Ext.decode(e.responseText);Ext.toast(d.message,!1,'t')}})}},onBackClick:function(a){if(window.sessionStorage.job_app_form=='1'){Ext.Msg.confirm('Confirm','Are you sure you want to go back?',function(b){if(b==='no'){}else {if(b==='yes'){this.onBackClickFunc(a)}}},this)}else {this.onBackClickFunc(a)}},onBackClickFunc:function(d){Ext.ComponentQuery.query('interviewrequestdetailsform')[0].items.items[1].items.items['0'].getForm().reset();window.sessionStorage.job_app_form='0';Ext.ComponentQuery.query('[reference = jobapplicationreference]')[0].getLayout().setActiveItem('appliedList');var b={ddo_jobopening_id:JSON.parse(window.sessionStorage.renderingData).ddo_jobopening_id};var c='/jobapplication';var a='GET';Ext.Ajax.request({url:c,method:a,scope:this,params:b,success:function(a,c,b,e,f,g){Ext.ComponentQuery.query('jobapplicationsappliedlistview')[0].items.items[1].store.loadRawData(JSON.parse(a.responseText))},failure:function(b,c){var a=Ext.decode(b.responseText);Ext.toast(a.message,!1,'t')}})},onInterviewSaveBtnClick2:function(e,f,d){var c=this.getViewModel(),b=this.getReferences().intervwformref,a=b.getValues();this.saveInterviewFormData(a)},saveInterviewFormData:function(a){var g=this.getViewModel(),f=this.getReferences().intervwformref;var e='/jobappinterview',c='POST';var d={ddo_jobapplication_id:JSON.parse(window.sessionStorage.renderingData).ddo_jobapplication,ddo_jobinterviewstatus_id:1,ddo_interviewrating_id:3,feedback:'',interviewer_id:a.interviewer_id,interviewtype:a.interviewtype,interviewdate:a.interviewdate,interviewtime:a.interviewtime,interviewmode:a.interviewmode};var b=!1;Ext.Ajax.request({url:e,method:c,scope:this,params:d,success:function(c,f){var e=Ext.decode(c.responseText);var d=e.message;Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[0].setHidden(!1);Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[1].setHidden(!0);b=!0;if(b){Ext.Ajax.request({url:'/jobappinterview',method:'GET',scope:this,success:function(b,e,d,g,h,i){Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[2].items.items[0].store.loadRawData(JSON.parse(b.responseText));Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[2].items.items[0].store.sort('updated','DESC');Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[2].items.items[0].store.filter({property:'ddo_jobapplication_id',id:'filterBy_ddo_jobapplication_id',anyMatch:!0,caseSensitie:!1,value:JSON.parse(window.sessionStorage.renderingData).ddo_jobapplication},JSON.parse(window.sessionStorage.renderingData).ddo_jobapplication,!1);Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[0].setHidden(!1);Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[1].setHidden(!0);Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[2].setHidden(!1);Ext.ComponentQuery.query('interviewrequestdetailsform')[0].items.items[1].items.items['0'].getForm().reset();window.sessionStorage.job_app_form='0'},failure:function(d,e){var b=Ext.decode(d.responseText);Ext.toast(b.message,!1,'t')}})}Ext.Msg.alert('success',d)},failure:function(c,d){var b=Ext.decode(c.responseText);Ext.toast(b.message,!1,'t')}})},onCancelIntvwClick:function(b,c,a){this.getReferences().intervwformref.reset()},onInteviewAddBtnClick2:function(b,c,a){Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[0].setHidden(!0);Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[1].setHidden(!1)},onApplicationStatusSelected:function(e,c){var b={ddo_jobapplication_id:window.sessionStorage.ddo_jobapplication_id_forApplStatus,ddo_jobapplicationstatus_id:c.data.ddo_jobapplicationstatus_id},d='/jobapplication',a='PUT';Ext.Ajax.request({url:d,method:a,scope:this,params:b,success:function(a,f){var d=Ext.decode(a.responseText);var b=d.message;Ext.Msg.alert('success',b)},failure:function(b,d){var a=Ext.decode(b.responseText);Ext.toast(a.message,!1,'t')}})},onDwnldCVClick:function(c,d){var b=JSON.parse(window.sessionStorage.renderingData).resumepath;var a=document.createElement('A');a.href=b;a.download=JSON.parse(window.sessionStorage.renderingData).resumename;document.body.appendChild(a);a.click();document.body.removeChild(a)}});Ext.define('JobOpenings.view.interviewrequest.interviewrequest.InterviewRequestFeedbackMain',{extend:'Ext.container.Container',xtype:'interviewrequestfeedbackmain',requires:['JobOpenings.view.jobapplications.JobApplicationsViewModel','JobOpenings.view.jobapplications.JobApplicationsViewController','JobOpenings.view.interviewrequest.interviewrequest.InterviewRequestFeedbackView'],reference:'interviewrequestfeedbackmainref',margin:'10 0 0 10',cls:'jobappviewcls noscrollbar interReqCls',width:'100%',controller:'jobapplicationsviewController',viewModel:{type:'jobapplicationsviewmodel'},layout:{type:'vbox'},items:[{xtype:'panel',width:'100%',items:[{xtype:'toolbar',cls:'inttoolbar-cls',dock:'top',items:[{xtype:'button',scale:'medium',iconCls:'goalsbackbtn-cls',cls:'jobback-btn-cls',style:{border:0},listeners:{click:function(){if(window.sessionStorage.intervw_req_feedback=='true'){Ext.Msg.confirm('Confirm','Are you sure you want to go back?',function(a){if(a==='no'){}else {if(a==='yes'){Ext.ComponentQuery.query('interviewrequestdesign')[0].getViewModel().getStore('interviewRequestListStore').load();window.sessionStorage.intervw_req_feedback=!1;Ext.ComponentQuery.query('[reference = interviewreference]')[0].getLayout().setActiveItem(0)}}},this)}else {Ext.ComponentQuery.query('interviewrequestdesign')[0].getViewModel().getStore('interviewRequestListStore').load();window.sessionStorage.intervw_req_feedback=!1;Ext.ComponentQuery.query('[reference = interviewreference]')[0].getLayout().setActiveItem(0)}}}},{xtype:'label',html:'Back',cls:'backlabel-cls'},{xtype:'tbspacer',width:400},{xtype:'label',html:'Interview',cls:'intTitle-cls',reference:'interviewRequest_interviewTitleRef'}]}]},{xtype:'container',layout:'hbox',cls:'dtcnt-cls',items:[{xtype:'dataview',cls:'jobsdataviewcls',itemTpl:['<div class="jobsdiv-cls ddo-jobopening-item">','<div class="datadiv-cls">','<div class="title-div-cls"><span class="title-cls getRatingIcon: function(values) { /* for correct rating icon display*/le-cls">{[this.showTitle(values,16)]}</span>','<span> | </span>','<span class="creator-cls">{[this.showCurrentjobtitle(values)]}</span>','</div>','<div class="loc-exp"><span><i class="exp-iconcls arrow-cls"></i>&nbsp{workexpyears}.{workexpmonths} Years Experience </span>','<span><i class="location-iconcls arrow-cls"></i>&nbsp{[this.showCurrentlocation(values)]}</span>','</div>','<div class="detailscls"><i class="skill-iconcls arrow-cls"></i>{[this.showSkill(values)]}</div>','<div class="detailscls"><i class="education-iconcls arrow-cls"></i>{[this.showEduVal(values)]} - {[this.showCollegename(values)]}</div>','<div class="mob-emailsCls">','<div class="detailscls emaildv"><i class="mobile-iconcls arrow-cls"></i>+91&nbsp{[this.showMobile(values, 10)]}</div>','<div class="detailscls maildv"><i class="mail-iconcls arrow-cls"></i>{[this.emailidShowFunc(values, 20)]}</div></div>','</div>','<div class="combosdiv-cls">','<div>','</div>','</div>','</div>',{showCollegename:function(b){var a=b.collegename;if(a.length>20){return a.substring(0,17)+'...'}else {return a}},showCurrentlocation:function(b){var a=b.currentlocation;if(a.length>15){return a.substring(0,12)+'...'}else {return a}},showCurrentjobtitle:function(b){var a=b.currentjobtitle;if(a.length>12){return a.substring(0,9)+'...'}else {return a}},showTitle:function(b,c){var a=b.firstname+' '+b.lastname;if(a.length>c){return a.substring(0,13)+'...'}else {return a}},showSkill:function(c){var a='';try{var b=c.skillnames;b.forEach(function(d,e){a+=b.length-1!=e?'#'+d+', ':'#'+d})}catch(d){}if(a.length>29){return a.substring(0,26)+'...'}else {return a}},showMobile:function(b,c){var a=b.mobile.toString();if(a.length>c){return a.substring(0,10)+'...'}else {return a}},showEduVal:function(c){var b=JSON.parse(window.sessionStorage.myEduTypeArr).data;var a='';b.forEach(function(b){if(c.ddo_jobeducation_id==b.ddo_jobeducation_id){a=b.name}});return a},emailidShowFunc:function(b,c){var a=b.emailid;if(a.length>c){return a.substring(0,20)+'...'}else {return a}}}],itemSelector:'div.status-div-cls'},{xtype:'container',cls:'dwnlodcntcls',layout:'vbox',items:[{xtype:'button',text:'Download CV <span class="download-iconcls"></span>',cls:'cvdwnldbtn',iconcls:'dwnldcv-cls',reference:'intervReqDowloadBtn',listeners:{click:function(c,d){var b=JSON.parse(window.sessionStorage.renderingData).resumepath;var a=document.createElement('A');a.href=b;a.download=b.substr(b.lastIndexOf('/')+1);document.body.appendChild(a);a.click();document.body.removeChild(a)}}}]}]},{xtype:'interviewrequestfeedbackview'}]});Ext.define('JobOpenings.view.interviewrequest.InterviewRequest',{extend:'Ext.container.Container',xtype:'interviewrequest',requires:['JobOpenings.view.interviewrequest.InterviewRequestController','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel','JobOpenings.view.interviewrequest.InterviewRequestDesign','JobOpenings.view.interviewrequest.interviewrequest.InterviewRequestFeedbackView','JobOpenings.view.interviewrequest.interviewrequest.InterviewRequestFeedbackMain'],layout:{type:'card',activeItem:0},controller:'interviewrequestcontroller',viewModel:{type:'filterviewmodel'},margin:'10 0 0 10',reference:'interviewreference',items:[{xtype:'interviewrequestdesign'},{xtype:'interviewrequestfeedbackmain'}]});Ext.define('JobOpenings.view.interviewrequest.interviewrequest.InterviewRequestTimelineContainer',{extend:'Ext.container.Container',xtype:'interviewrequesttimelinecontainer',cls:'intvwtimelinecnt-cls',width:'100%',html:['<div class="timeline-item jobtimelinecls">','<div class="timeline-day"></div>','<div class="timeline-outer"><div class="timeline-inner">','</div>','</div>']});Ext.define('JobOpenings.view.jobapplications.JobApplicationFormViewMode',{extend:'Ext.form.Panel',alias:'widget.jobapplicationformviewmode',cls:'form-cls apply-form',defaults:{width:'50%',labelAlign:'right',labelWidth:180,padding:5,labelStyle:'font-size:16px;'},reference:'jobApplicationFormViewModeRef',layout:{type:'vbox',align:'middle',pack:'center'},title:'Job Application',buttonAlign:'center',items:[{xtype:'textfield',name:'fnameView',fieldLabel:'First Name:',readOnly:!0,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'lnameView',readOnly:!0,fieldLabel:'Last Name:',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'jobtitlenameView',readOnly:!0,fieldLabel:'Current Job Title:',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'fieldcontainer',fieldLabel:'Work Experience',cls:'fieldcontainer-cls',layout:'hbox',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',combineErrors:!0,defaults:{padding:10,msgTarget:'side',flex:1,labelWidth:50,anchor:'70%'},items:[{xtype:'textfield',readOnly:!0,fieldLabel:'Years',name:'yearsnameView'},{xtype:'textfield',readOnly:!0,fieldLabel:'Months',name:'monthsnameView'}]},{xtype:'textfield',fieldLabel:'Skills:',name:'skillsnameView',border:5,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',readOnly:!0},{xtype:'textfield',name:'locationnameView',readOnly:!0,fieldLabel:'Current Location:',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',fieldLabel:'Education:',name:'educationnameView',readOnly:!0,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{xtype:'textfield',name:'univnameView',readOnly:!0,fieldLabel:'College / University:',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'mobilenameView',fieldLabel:'Mobile:',readOnly:!0,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'emailnameView',readOnly:!0,fieldLabel:'Email Address',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'fieldcontainer',cls:'fieldcontainer-cls',layout:'hbox',defaults:{msgTarget:'side',flex:1,anchor:'65%',labelStyle:'font-size:16px;'},items:[{xtype:'textfield',name:'hiringnameView',readOnly:!0,labelWidth:110,margin:'0 10 0 68',fieldLabel:'Hiring Source:',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'portalnameView',reference:'portalref',readOnly:!0,fieldLabel:'Job Portal Name:',labelAlign:'right',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'}]},{xtype:'fieldcontainer',defaults:{width:'100%',labelAlign:'right',labelWidth:180,padding:5,labelStyle:'font-size:16px;'},items:[{xtype:'textfield',anchor:'100%',name:'appResumeView',opType:'upload',iconCls:'upload-cls',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',fieldLabel:'Upload CV :',readOnly:!0}]}]});Ext.define('JobOpenings.view.jobapplications.NewJobApplyForm',{extend:'Ext.form.Panel',alias:'widget.newjobapplyform',cls:'form-cls apply-form',defaults:{width:'50%',labelAlign:'right',labelWidth:180,padding:5,labelStyle:'font-size:16px;'},reference:'applyForm',layout:{type:'vbox',align:'middle',pack:'center'},title:'Job Application',buttonAlign:'center',items:[{xtype:'textfield',name:'fname',required:!0,fieldLabel:'First Name:',emptyCls:'referrals-empty-text',maskRe:/^[A-Za-z]*$/,emptyText:'Name',allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'lname',required:!0,maskRe:/^[A-Za-z]*$/,fieldLabel:'Last Name:',emptyCls:'referrals-empty-text',emptyText:'Last Name',allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'jobtitlename',required:!0,fieldLabel:'Current Job Title:',emptyCls:'referrals-empty-text',emptyText:'Write Job Title Eg: Technical Lead',allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'fieldcontainer',fieldLabel:'Work Experience',cls:'fieldcontainer-cls',layout:'hbox',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',combineErrors:!0,defaults:{padding:10,msgTarget:'side',flex:1,labelWidth:50,anchor:'70%'},items:[{xtype:'numberfield',emptyText:'0',emptyCls:'referrals-empty-text',allowBlank:!1,minValue:0,required:!0,fieldLabel:'Years',name:'yearsname'},{xtype:'numberfield',emptyText:'0',emptyCls:'referrals-empty-text',minValue:0,maxValue:12,allowBlank:!1,required:!0,fieldLabel:'Months',name:'monthsname'}]},{xtype:'tagfield',fieldLabel:'Skills:',name:'skillsname',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),emptyText:'Use Words Eg : Angular JS',emptyCls:'referrals-empty-text1',hideTrigger:!0,store:Ext.create('JobOpenings.store.filtertoolbar.JobSkillsTypeStore'),displayField:'name',valueField:'ddo_skills_id',queryMode:'local',forceSelection:!1,maskRe:/^[A-Za-z0-9]*$/,autoShow:!0,filterPickList:!0,blankText:'This field is required',border:5,allowBlank:!1,collapseOnSelect:!0,clearFilterOnBlur:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',listeners:{render:'onSkillRender',select:function(a,b,c){a.inputEl.dom.value='';a.lastMutatedValue=''}},autoLoadOnValue:!0},{xtype:'textfield',name:'locationname',required:!0,maskRe:/^[A-Za-z]*$/,fieldLabel:'Current Location:',emptyText:'Eg. Mumbai',emptyCls:'referrals-empty-text',allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'combo',fieldLabel:'Education:',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),name:'educationname',emptyText:'Highest Education:',emptyCls:'referrals-empty-text',store:Ext.create('JobOpenings.store.filtertoolbar.EducationStore'),displayField:'name',valueField:'ddo_jobeducation_id',queryMode:'local',blankText:'This field is required',allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',editable:!1,autoLoadOnValue:!0},{xtype:'textfield',name:'univname',maskRe:/^[A-Za-z0-9]*$/,emptyText:'Eg: Mahatma Gandhi Institute of Technology',emptyCls:'referrals-empty-text',fieldLabel:'College / University:',required:!0,allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'mobilename',emptyText:'Mobile',emptyCls:'referrals-empty-text',maskRe:/^[0-9]*$/,fieldLabel:'Mobile:',required:!0,minLength:10,maxLength:10,enforceMaxLength:!0,enableKeyEvents:!0,allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',listeners:{focusleave:'onMobileNumEnter'}},{xtype:'textfield',name:'emailname',fieldLabel:'Email ID',emptyCls:'referrals-empty-text',emptyText:'Email',required:!0,allowBlank:!1,vtype:'email',vtypeText:'Enter valid email',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'fieldcontainer',cls:'fieldcontainer-cls',layout:'hbox',defaults:{msgTarget:'side',flex:1,anchor:'65%',labelStyle:'font-size:16px;'},items:[{xtype:'combobox',name:'hiringname',emptyText:'Select',emptyCls:'referrals-empty-text',labelWidth:110,margin:'0 10 0 68',required:!0,allowBlank:!1,tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),fieldLabel:'Hiring Source:',queryMode:'local',displayField:'name',editable:!1,valueField:'ddo_jobhiringsource_id',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',store:Ext.create('JobOpenings.store.filtertoolbar.HiringSourceCombo'),autoLoadOnValue:!0,listeners:{select:'onHiringSourceSelection'}},{xtype:'textfield',name:'portalname',emptyText:'Select',fieldLabel:'Job Portal Name:',emptyCls:'referrals-empty-text',labelAlign:'right',hidden:!0,maskRe:/^[A-Za-z0-9]*$/}]},{xtype:'fileuploadfield',anchor:'100%',name:'appResume',opType:'upload',iconCls:'upload-cls',reference:'fileuploadref',buttonOnly:!0,required:!0,allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',bind:{value:'{resumePath}'},listeners:{change:'buttonOnlyChange'},buttonConfig:{cls:'upload-btn',width:'100%',iconCls:'x-fa fa-upload',iconAlign:'right',name:'jobapplicationformid',reference:'uploadbuttonref',bind:{text:'{resumePath2}'}},fieldLabel:'Upload CV:'},{xtype:'fieldcontainer',items:[{xtype:'label',text:'Upload CV:',reference:'uploadlabelref',hidden:!0,cls:'uploadhiddenlabel-cls',tpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'button',width:250,cls:'uploadeditbtn-cls',name:'uploadResumeHiddenBtn',reference:'uploadhiddenbtnref',iconCls:'x-fa fa-times',iconAlign:'right',hidden:!0,bind:{text:'{resumePath2}'},listeners:{btnIconEl:{click:function(e){var a=Ext.ComponentQuery.query('[reference = fileuploadref]')[0],d=Ext.ComponentQuery.query('[reference = uploadlabelref]')[0],c=Ext.ComponentQuery.query('[reference = uploadhiddenbtnref]')[0],b=Ext.ComponentQuery.query('[reference = uploadbuttonref]')[0];b.setText('Choose File');b.setIconCls('x-fa fa-upload');c.hide();d.hide();a.show();a.fileInputEl.dom.value='';a.value='';a.rawValue=''}}}}]}],bbar:{cls:'jobform-cls',layout:{type:'hbox',align:'middle',pack:'center'},items:[{xtype:'button',text:'Save',width:200,disabledCls:'disable-btn',formBind:!0,cls:'jobapplication-margin',listeners:{click:'onSaveFunc'}},{xtype:'button',text:'Cancel',cls:['require-btn','referral-click'],handler:'onCancelBtnClick'}]}});Ext.define('JobOpenings.view.jobapplications.JobApplyController',{extend:'Ext.app.ViewController',alias:'controller.jobapplycontroller',requires:['JobOpenings.view.jobapplications.NewJobApplyForm'],init:function(a){this.control({'[xtype="newjobapplyform"] field':{change:function(){window.sessionStorage.job_app_form='1'}}})},onCancelBtnClick:function(){var b=Ext.ComponentQuery.query('[reference = uploadbuttonref]')[0],a=Ext.ComponentQuery.query('[reference = fileuploadref]')[0];a.show();b.setText('Choose File');b.setIconCls('x-fa fa-upload');a.fileInputEl.dom.value='';Ext.ComponentQuery.query('[reference = uploadlabelref]')[0].hide();Ext.ComponentQuery.query('[reference = uploadhiddenbtnref]')[0].hide();this.lookupReference('applyForm').getForm().reset()},buttonOnlyChange:function(e,f,i){var g=this,c=g.getViewModel(),b=e.fileInputEl.dom.files[0],h=e.value,d=new FileReader(),a=b.type;fileExtension=b.name.split('.')[1];console.log('format check:',a);d.onload=function(){if(a=='application/vnd.openxmlformats-officedocument.wordprocessingml.document'||a=='text/plain'||a=='application/msword'||a=='application/pdf'||a=='application/doc'||a=='application/docx'||a=='application/txt'||a=='application/wps'||a=='application/odt'||a=='application/vnd.oasis.opendocument.text'||a=='application/wpd'||a=='application/rtf'||fileExtension=='docx'||fileExtension=='doc'){var d=f.replace('C:\\fakepath\\','');c.set('resumePath2',d);c.set('uploadBtnForEditShow',!1);var h=Ext.ComponentQuery.query('[reference = fileuploadref]')[0],g=Ext.ComponentQuery.query('[reference = uploadlabelref]')[0],b=Ext.ComponentQuery.query('[reference = uploadhiddenbtnref]')[0],j=Ext.ComponentQuery.query('[reference = uploadbuttonref]')[0];b.show();b.setText(d);g.show();h.hide();Ext.toast({html:'Your file uploaded successfully..!!',width:150,align:'t'})}else {Ext.toast({html:'Invalid Format',width:150,align:'t'})}};d.readAsDataURL(b)},onInterviewBackButtonClick:function(a){if(this.getReferences().applyForm!=undefined){this.getReferences().applyForm.getForm().getFields().items[12].hide()}if(window.sessionStorage.job_app_form=='1'){Ext.Msg.confirm('Confirm','Would you like to go back?',function(b){if(b==='no'){}else {if(b==='yes'){this.onInterviewBackButtonClickFunc(a)}}},this)}else {this.onInterviewBackButtonClickFunc(a)}},onInterviewBackButtonClickFunc:function(g){window.sessionStorage.ddo_jobapplication=undefined;var e={ddo_jobopening_id:parseInt(window.sessionStorage.ddo_jobopening_id),isjobApp:!0};var f='/jobapplication';var d='GET';Ext.Ajax.request({url:f,method:d,scope:this,params:e,success:function(a,e,c,f,h,i){var b=Ext.decode(a.responseText);var d=b.message;Ext.ComponentQuery.query('jobapplicationsappliedlistview')[0].items.items[1].store.loadRawData(JSON.parse(a.responseText))},failure:function(b,c){var a=Ext.decode(b.responseText);Ext.toast(a.message,!1,'t')}});var c=Ext.ComponentQuery.query('jobapplicationsappliedfilterview'),b=c[0].items.items;b[3].hide();b[4].hide();b[5].hide();var a=Ext.ComponentQuery.query('jobapplicationsappliedlistview')[0].down('dataview').getStore();a.removeFilter('filterByLocation');a.removeFilter('filterByDepartment');a.removeFilter('filterByDate');Ext.ComponentQuery.query('[reference = jobapplicationreference]')[0].getLayout().setActiveItem('appliedList')},onSaveFunc:function(i,n,m){var f=this.getView(),g=this,h=f.down('form').getForm(),a=h.getValues(),c=f.getViewModel(),k=Ext.ComponentQuery.query('[reference = uploadhiddenbtnref]')[0],e=Ext.ComponentQuery.query('[reference = fileuploadref]')[0],l=window.sessionStorage.resumepath;var b={ddo_jobapplicationstatus_id:1,ddo_jobeducation_id:a.educationname,ddo_jobhiringsource_id:a.hiringname,ddo_jobidentificationtype_id:a.identificationType,firstName:a.fname,lastName:a.lname,currentJobTitle:a.jobtitlename,workExpYears:parseInt(a.yearsname),workExpMonths:parseInt(a.monthsname),currentLocation:a.locationname,collegeName:a.univname,mobile:parseInt(a.mobilename),emailId:a.emailname,jobPortalName:a.portalname,identification_num:a.identificationNumber,resumePath:c.get('resumePath')||e.value,app_skills:a.skillsname.toString()};b.resumename=c.get('resumePath2');var d='';if(isNaN(window.sessionStorage.ddo_jobapplication)){d='POST';window.sessionStorage.ddo_jobapplication=undefined;b.ddo_jobopening_id=parseInt(window.sessionStorage.ddo_jobopening_id)}else {b.ddo_jobapplication_id=parseInt(window.sessionStorage.ddo_jobapplication);d='PUT'}if(e.value!=''){if(c.get('uploadBtnForEditShow')==!1){i.up('form').submit({url:'/jobapplication/uploadResume',clientValidation:!1,waitMsg:'Uploading your file...',success:function(){var h=Ext.JSON.decode(arguments[1].response.responseText),a=h.data,e=c.data.resumePath;var f=e.replace('C:\\fakepath\\','');c.set('resumePath','../'+a);c.set('resumePath2',f);b.resumePath=a;c.set('uploadBtnForEditShow',!0);var j='/jobapplication';Ext.Ajax.request({url:j,method:d,scope:this,params:b,success:function(f,k){if(isNaN(window.sessionStorage.ddo_jobapplication)){Ext.ComponentQuery.query('jobapplicationsappliedlistview')[0].items.items[1].store.add(b)}var j=Ext.decode(f.responseText),h=j.message,e=Ext.ComponentQuery.query('[reference = fileuploadref]')[0],d=Ext.ComponentQuery.query('[reference = uploadlabelref]')[0],c=Ext.ComponentQuery.query('[reference = uploadhiddenbtnref]')[0],a=Ext.ComponentQuery.query('[reference = uploadbuttonref]')[0];e.show();a.setIconCls('x-fa fa-upload');a.setText('Choose File');c.hide();d.hide();Ext.ComponentQuery.query('[reference = applyForm]')[0].getForm().reset();window.sessionStorage.ddo_jobapplication=undefined;window.sessionStorage.job_app_form='0';Ext.Msg.alert('success',h);g.onInterviewBackButtonClick()},failure:function(b,c){var a=Ext.decode(b.responseText);Ext.toast(a.message,!1,'t')}})},failure:function(){Ext.toast({html:'Please fill all the required fields before uploading the file',width:150,align:'t'})}})}else {var j='/jobapplication';Ext.Ajax.request({url:j,method:d,scope:this,params:b,success:function(f,k){if(isNaN(window.sessionStorage.ddo_jobapplication)){Ext.ComponentQuery.query('jobapplicationsappliedlistview')[0].items.items[1].store.add(b)}var j=Ext.decode(f.responseText),h=j.message,e=Ext.ComponentQuery.query('[reference = fileuploadref]')[0],d=Ext.ComponentQuery.query('[reference = uploadlabelref]')[0],c=Ext.ComponentQuery.query('[reference = uploadhiddenbtnref]')[0],a=Ext.ComponentQuery.query('[reference = uploadbuttonref]')[0];e.show();a.setIconCls('x-fa fa-upload');a.setText('Choose File');c.hide();d.hide();Ext.ComponentQuery.query('[reference = applyForm]')[0].getForm().reset();window.sessionStorage.ddo_jobapplication=undefined;window.sessionStorage.job_app_form='0';Ext.Msg.alert('success',h);g.onInterviewBackButtonClick()},failure:function(b,c){var a=Ext.decode(b.responseText);Ext.toast(a.message,!1,'t')}})}}else {Ext.toast('Please Upload the file',!1,'t')}},resetForm:function(){Ext.suspendLayouts();var b=this.getReferences().newjobapplyform;var a=b.getForm().getFields().items;Ext.each(a,function(c){c.value='';c.originalValue='';var d=a[3],b=a[2].rawValue;if(d.isDirty()==!0||b=='Not Found'){d.setValue('');b.replace(b,'')}c.resetToInitialValue()});Ext.resumeLayouts(!0)},onSkillRender:function(b,c){var a=b.getStore('JobOpenings.store.filtertoolbar.JobSkillsTypeStore');a.load()},onHiringSourceSelection:function(a,b){if(a.value==3){this.getReferences().applyForm.getForm().getFields().items[12].show()}else {this.getReferences().applyForm.getForm().getFields().items[12].hide()}},onMobileNumEnter:function(a,d,c){if(a.value.length<10){var b='Please enter 10 digit mobile number';Ext.Msg.alert('Warning',b)}}});Ext.define('JobOpenings.view.jobapplications.AllJobApplicationViewMode',{extend:'Ext.panel.Panel',alias:'widget.alljobapplicationviewmode',requires:['JobOpenings.view.jobapplications.JobApplicationFormViewMode','JobOpenings.view.jobapplications.JobApplyController','JobOpenings.view.jobapplications.JobApplicationsViewModel'],viewModel:{type:'jobapplicationsviewmodel'},controller:'jobapplycontroller',cls:'job-header',tools:[{xtype:'button',scale:'medium',iconCls:'goalsbackbtn-cls',cls:'jobback-btn-cls',style:{border:0},listeners:{click:'onAllJobApplicationBackButtonClick'}},{xtype:'label',html:'Back',cls:'backlabel-cls'},{xtype:'label',html:'Intern UI Development/Add Application',cls:'titlelabel-cls',reference:'title_applicationCreatRef',margin:20}],items:[{xtype:'jobapplicationformviewmode'}]});Ext.define('JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsFilterView',{extend:'Ext.panel.Panel',xtype:'jobopeningsfilterview',requires:['JobOpenings.store.filtertoolbar.FilterbyStatus','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel'],viewModel:{type:'filterviewmodel'},reference:'filterview',layout:{type:'hbox',width:'100%'},cls:'filtertoolbar-cls',items:[{xtype:'button',width:6,cls:'karmascore-search-icon-field job-search-icon',height:6,padding:'-8 11 14 12'},{xtype:'textfield',width:'30%',reference:'jobsearchref',emptyText:'Search',enableKeyEvents:!0,cls:'karmascore-search-field searchFields job-search-field',listeners:{keyup:'onKeyUpJobSearch'}},{xtype:'button',cls:'filter-btncls',listeners:{click:'hideCombobox'}},{items:[{xtype:'button',reference:'dateFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'dateFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClk'}}],hidden:!0},{items:[{xtype:'button',reference:'locationFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'locationFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClk'}}],hidden:!0},{items:[{xtype:'button',reference:'departmentFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'departmentFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClk'}}],hidden:!0},{xtype:'tbfill'},{xtype:'combobox',fieldLabel:'Status',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),reference:'jobstatuscomboref',queryMode:'local',displayField:'name',valueField:'id',emptyText:'All',editable:!1,cls:'requestCombo-cls',store:Ext.create('JobOpenings.store.filtertoolbar.FilterbyStatus'),autoLoadOnValue:!0,listeners:{select:'onStatusSelectionFilter'}},{xtype:'button',text:'Create New',width:100,height:35,textAlign:'center',cls:'create-new-btn-cls',listeners:{click:'onCreateNewJob'},bind:{hidden:'{showJobsCreateBtn}'}},{xtype:'tbspacer',width:19}]});Ext.define('JobOpenings.view.jobapplications.JobApplicationsfilterview',{extend:'Ext.panel.Panel',xtype:'jobapplicationfilterview',requires:['JobOpenings.store.filtertoolbar.FilterbyStatus','JobOpenings.view.jobapplications.JobApplicationsViewModel'],viewModel:{type:'jobapplicationsviewmodel'},reference:'applicationfilterview',layout:{type:'hbox',width:'100%'},cls:'filtertoolbar-cls',items:[{xtype:'button',width:6,cls:'karmascore-search-icon-field job-search-icon',height:6,padding:'-8 11 14 12'},{xtype:'textfield',width:'30%',reference:'jobsearchref_job_app_all',enableKeyEvents:!0,emptyText:'Search',cls:'karmascore-search-field searchFields job-search-field',listeners:{keyup:'onKeyUpJobSearch'}},{xtype:'button',cls:'filter-btncls',listeners:{click:'hideCombobox'}},{items:[{xtype:'button',reference:'dateFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'dateFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClk'}}],hidden:!0},{items:[{xtype:'button',reference:'locationFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'locationFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClk'}}],hidden:!0},{items:[{xtype:'button',reference:'departmentFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'departmentFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClk'}}],hidden:!0},{xtype:'tbfill'},{xtype:'combobox',fieldLabel:'Status',reference:'jobstatuscomboref',queryMode:'local',displayField:'name',valueField:'id',emptyText:'All',cls:['requestCombo-cls','request-combo-margin'],store:Ext.create('JobOpenings.store.filtertoolbar.FilterbyStatus'),autoLoadOnValue:!0,listeners:{select:'onStatusSelectionFilter'},hidden:!0},{xtype:'tbspacer',width:20}]});Ext.define('JobOpenings.view.jobapplications.filtertoolbar.JobApplicationsAppliedFilterView',{extend:'Ext.panel.Panel',xtype:'jobapplicationsappliedfilterview',requires:['JobOpenings.store.filtertoolbar.FilterbyStatus'],reference:'appliedfilterview',viewModel:{type:'jobapplicationsviewmodel'},layout:{type:'hbox',width:'100%'},cls:'filtertoolbar-cls',dockedItems:[{xtype:'toolbar',cls:'tooltip-cls',dock:'top',items:[{xtype:'button',scale:'medium',iconCls:'goalsbackbtn-cls',cls:'jobback-btn-cls',style:{border:0},listeners:{click:'onBackClick'}},{xtype:'label',html:'Back',cls:'backlabel-cls'},{xtype:'label',html:'Intern UI Development/Applications',cls:'titlelabel-cls',reference:'title_applicationViewRef',margin:20}]}],items:[{xtype:'button',width:6,cls:'karmascore-search-icon-field job-search-icon',height:6,padding:'-8 11 14 12'},{xtype:'textfield',width:'30%',reference:'jobsearchref_job_applied',enableKeyEvents:!0,emptyText:'Search',cls:'karmascore-search-field searchFields job-search-field',listeners:{keyup:'onKeyUpJobSearch'}},{xtype:'button',cls:'filter-btncls',listeners:{click:'hideCombobox'}},{items:[{xtype:'button',reference:'dateFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'dateFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClkapplied'}}],hidden:!0},{items:[{xtype:'button',reference:'locationFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'locationFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClkapplied'}}],hidden:!0},{items:[{xtype:'button',reference:'departmentFilterBtn',cls:'filterBtnsCls'},{items:[{xtype:'button',reference:'dateFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'dateFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClkapplied'}}],hidden:!0},{items:[{xtype:'button',reference:'locationFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'locationFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClkapplied'}}],hidden:!0},{items:[{xtype:'button',reference:'departmentFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'departmentFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClkapplied'}}],hidden:!0},{xtype:'tbfill'},{xtype:'combobox',height:25,fieldLabel:'Status',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),reference:'jobappliedstatuscomboref',queryMode:'local',displayField:'name',editable:!1,valueField:'ddo_jobapplicationstatus_id',emptyText:'All',cls:'requestCombo-cls',store:Ext.create('JobOpenings.store.filtertoolbar.FilterbyApplicationStatus'),autoLoadOnValue:!0,xtype:'button',reference:'departmentFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClkapplied'}}],hidden:!0},{xtype:'tbfill'},{xtype:'combobox',height:25,width:289,fieldLabel:'Status',reference:'jobappliedstatuscomboref',queryMode:'local',displayField:'name',editable:!1,tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),valueField:'ddo_jobapplicationstatus_id',emptyText:'All',cls:'requestCombo-cls',store:Ext.create('JobOpenings.store.filtertoolbar.FilterbyApplicationStatus'),autoLoadOnValue:!0,listeners:{select:'onStatusSelectionFilter'}},{xtype:'button',text:'New Application',height:35,textAlign:'center',cls:'create-new-btn-cls',bind:{hidden:'{showJobAppCreateBtn}'},listeners:{click:function(f){var a=window.sessionStorage.newApplicationHead;if(a.length>52){a=a.substring(0,49)+'...'}Ext.ComponentQuery.query('[reference = title_applicationCreationRef]')[0].setHtml(a+'/ '+'Add Application');Ext.ComponentQuery.query('[reference = jobapplicationreference]')[0].getLayout().setActiveItem('jobapply');var b=Ext.ComponentQuery.query('[reference = uploadbuttonref]')[0],d=Ext.ComponentQuery.query('[reference = fileuploadref]')[0],c=Ext.ComponentQuery.query('[reference = uploadlabelref]')[0],e=Ext.ComponentQuery.query('[reference = uploadhiddenbtnref]')[0];e.hide();c.hide();d.show();b.setText('Choose File');b.setIconCls('x-fa fa-upload');Ext.ComponentQuery.query('[reference = applyForm]')[0].getForm().reset();window.sessionStorage.ddo_jobapplication=undefined;window.sessionStorage.job_app_form='0'}}},{xtype:'tbspacer',width:19}]});Ext.define('JobOpenings.view.jobapplications.JobApplicationRequestListView',{extend:'Ext.container.Container',xtype:'jobapplicationrequest',requires:['JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsFilterView','JobOpenings.view.jobapplications.JobApplicationsViewModel','JobOpenings.view.jobapplications.JobApplicationsfilterview','JobOpenings.view.jobapplications.filtertoolbar.JobApplicationsAppliedFilterView'],cls:'jobopening-cls noscrollbar',controller:'jobappliedformcontroller',viewModel:{type:'jobapplicationsviewmodel'},reference:'jobapplicationrequestlistview',items:[{xtype:'container',html:'<div class="jobtitle-cls">Job Applications</div>'},{xtype:'jobapplicationfilterview'},{xtype:'dataview',reference:'jobapplieddataview',cls:'jobdataviewcls',emptyText:'<div class="projects-emptytext-cls">No Jobs available</div>',itemTpl:['<div class="jobsdiv-cls ddo-jobopening-item-applications">','<div class="title-div-cls" data-qtip="{title}-{department_name}"><span class="title-cls">{[this.showTitle(values,15)]}</span>','<span> | </span>','<span class="creator-cls" data-qtip="{firstname}">Created by {[this.showName(values,8)]}</span></div>','{[this.workOnPriorityShow(values)]}','<div class="positions-cls">( {count_status}/{noofpositions} ) Positions</div>','<div class="loc-exp"><span><i class="exp-iconcls arrow-cls"></i>&nbsp{minworkexperience} - {maxworkexperience} Years Experience </span>','<span><i class="location-iconcls arrow-cls"></i>&nbsp{location_name}</span>','</div>','<div class="skill-cls"><i class="skill-iconcls arrow-cls"></i>{[this.showSkill(values)]}</div>','<div class="desc-cls">{[this.showDescription(values,100)]}</div>','</div>','<div class="status-div-cls"><div class="status-textcls"><span >{count} Applications</span></div>','<div class=" create-jobapplication-btn-cls forNewAppli">View Applications','</div>','</div>','</div>',{showDescription:function(b,c){var a=b.job_desc;if(a.length>=c){return '<div style="text-overflow: ellipsis; white-space: nowrap; overflow: hidden; width:411px; height: 36px;">'+a+'</div>'}else {return a}},showTitle:function(b,c){var a=b.title+' - '+b.department_name;if(a.length>=c){return a.substring(0,17)+'...'}else {return a}},showName:function(b,c){var a=b.firstname;if(a.length>=c){return a.substring(0,8)+'...'}else {return a}},showSkill:function(c){var b='';try{var a=c.skillnames;a.forEach(function(d,e){b+=a.length-1!=e?'#'+d+', ':'#'+d})}catch(d){}return b},workOnPriorityShow:function(a){if(a.work_on_priority=='Y'){return '<div class="create-jobapplication-starbtn-cls"><span><i class="star-cls arrow-cls"></i></span></div>'}else {return ''}}}],itemSelector:'div.status-div-cls',listeners:{itemclick:'onViewApplicationClick'}}]});Ext.define('JobOpenings.view.jobapplications.JobApplicationViewMode',{extend:'Ext.panel.Panel',alias:'widget.jobapplicationviewmode',requires:['JobOpenings.view.jobapplications.JobApplicationFormViewMode','JobOpenings.view.jobapplications.JobApplyController','JobOpenings.view.jobapplications.JobApplicationsViewModel'],viewModel:{type:'jobapplicationsviewmodel'},controller:'jobapplycontroller',cls:'job-header',tools:[{xtype:'button',scale:'medium',iconCls:'goalsbackbtn-cls',cls:'jobback-btn-cls',style:{border:0},listeners:{click:'onInterviewBackButtonClick'}},{xtype:'label',html:'Back',cls:'backlabel-cls'},{xtype:'label',html:'Intern UI Development/Add Application',cls:'titlelabel-cls',reference:'title_applicationCreatRef',margin:20}],items:[{xtype:'jobapplicationformviewmode'}]});Ext.define('JobOpenings.view.jobapplications.JobApplicationsAppliedListView',{extend:'Ext.container.Container',xtype:'jobapplicationsappliedlistview',requires:['JobOpenings.view.jobapplications.filtertoolbar.JobApplicationsAppliedFilterView','JobOpenings.view.jobapplications.JobApplicationsViewModel'],cls:'jobopening-cls noscrollbar',reference:'appliedlistview',controller:'jobappliedformcontroller',viewModel:{type:'jobapplicationsviewmodel'},items:[{xtype:'jobapplicationsappliedfilterview'},{xtype:'dataview',reference:'jobapplicationdataview',cls:'jobdataviewcls',emptyText:'<div class="projects-emptytext-cls">No Jobs available</div>',itemTpl:['<div class="itemSelecCls">','<div class="jobsdiv-cls ddo-jobopening-item">','<div class="title-div-cls"><span class="title-cls">{[this.showName(values)]}</span>','<span> | </span>','<span class="creator-cls">{[this.showCurrentjobtitle(values)]}</span>','<div class="interview-cls" style="{[this.intervwDisabled(values)]}">Interview<i class="interview-iconcls arrow-cls"></i></span></div>','</div>','<div class="loc-exp-applications"><span><i class="exp-iconcls arrow-cls"></i>&nbsp{workexpyears}.{workexpmonths} Years Experience </span>','<span><i class="location-iconcls arrow-cls"></i>&nbsp{currentlocation}</span>','</div>','<div class="loc-exp-applications-skills"><i class="skill-iconcls arrow-cls"></i>&nbsp{[this.getAllSkills(values)]}</div>','<div class="loc-exp-applications-edu"><i class="education-iconcls arrow-cls"></i>&nbsp{education} - {[this.showCollegename(values)]}</div>','<div class="loc-exp-applications-con">','<span><i class="phone_iconcls_intrvw_req"></i>&nbsp+91&nbsp{[this.showMobile(values)]} &nbsp &nbsp</span>','<span><i class="mail-iconcls arrow-cls"></i>&nbsp {[this.showEmailId(values)]}</span>','</div>','</div>','<div class="status-div-cls"><div class="status-textcls">Status: <span class="{job_status_name}" style="color:{colorcode};">{appstatus}</span></div>','<div class="status-combo-cls"><a href={resumepath} target="_blank" download ={resumename} style="text-decoration: none;"><span class="download-cls">DownloadCV <i class="download-iconcls arrow-cls"></i></span></a>','<span> | </span>','<div class="act-cls">Actions <i class="x-fa fa-sort-desc arrow-cls"></i>','<div class="act-removecls">{[this.getActions(values)]}','</div></div>','</div>','</div>','</div>',{showMobile:function(b){var a=b.mobile!=undefined&&b.mobile!=null?b.mobile.toString():'';if(a.length>10){return a.substring(0,10)+'...'}else {return a}},showEmailId:function(b){var a=b.emailid!=undefined&&b.emailid!=null?b.emailid:'';if(a.length>25){return a.substring(0,22)+'...'}else {return a}},showCollegename:function(b){var a=b.collegename!=undefined&&b.collegename!=null?b.collegename:'';if(a.length>20){return a.substring(0,17)+'...'}else {return a}},showName:function(b){var a=b.appfirstname+' '+b.applastname;if(a.length>20){return a.substring(0,17)+'...'}else {return a}},showCurrentjobtitle:function(b){var a=b.currentjobtitle!=undefined&&b.currentjobtitle!=null?b.currentjobtitle:'';if(a.length>12){return a.substring(0,9)+'...'}else {return a}},intervwDisabled:function(a){if(a.currentjobtitle==undefined||a.currentjobtitle==null){return 'background-color: #908d8d;'}},getAllSkills:function(b){var a='';try{var c=b.skillnames!=undefined&&b.skillnames!=null?b.skillnames:[];c.forEach(function(d,e){a+=c.length-1!=e?'#'+d+', ':'#'+d})}catch(d){}if(a.length>29){return a.substring(0,26)+'...'}else {return a}},getActions:function(f){var d=Ext.ComponentQuery.query('mainviewport')[0],a=d.getViewModel(),e=a.data.showAction;var b=[],c=Ext.getStore('jobopenings.JobopeningsActions');if(c){c.each(function(c){var d=c.get('action_name');if(a.get('editJobApplication')==!0&&d=='Edit'){b.push('<li>'+c.get('action_name')+'</li>')}if(a.get('deleteJobApplication')==!0&&d=='Delete'){b.push('<li>'+c.get('action_name')+'</li>')}})}return '<ul>'+b.toString().replace(/,/g,'')+'</ul>'}}],itemSelector:'div.itemSelecCls',listeners:{itemclick:'onJobOpeningClick',containerClick:'onContainerClick'}}]});Ext.define('JobOpenings.view.jobapplications.JobAppliedFormController',{extend:'Ext.app.ViewController',alias:'controller.jobappliedformcontroller',onBackClick:function(d){var c=Ext.ComponentQuery.query('jobapplicationsappliedfilterview'),b=c[0].items.items;b[3].hide();b[4].hide();b[5].hide();var a=Ext.ComponentQuery.query('jobapplicationsappliedlistview')[0].down('dataview').getStore();a.removeFilter('filterByLocation');a.removeFilter('filterByExperience');a.removeFilter('filterByDate');Ext.ComponentQuery.query('[reference = jobapplicationreference]')[0].getLayout().setActiveItem('mainList');Ext.Ajax.request({url:'jobopeningrequest',method:'GET',scope:this,success:function(a,f,c,g,h,i){var b=Ext.decode(a.responseText);var e=b.message;Ext.ComponentQuery.query('jobapplicationrequest')[0].items.items[2].store.loadRawData(JSON.parse(a.responseText))},failure:function(b,c){var a=Ext.decode(b.responseText);Ext.toast(a.message,!1,'t')}})},onJobOpeningClick:function(v,a,n,B,b,A){x=v.all.elements;for(var i=0;i<x.length;i++){z=x[i].lastChild.lastChild.lastChild.children[1];if(z.className=='act-showcls'){z.classList.remove('act-showcls');z.classList.add('act-removecls')}}if(b.target.className=='title-cls'){var s=Ext.ComponentQuery.query('[reference = jobapplicationreference]')[0],h=Ext.ComponentQuery.query('jobapplicationformviewmode')[0],p=Ext.ComponentQuery.query('[reference = portalref]')[0];s.getLayout().setActiveItem(4);var m={fnameView:a.data.appfirstname,lnameView:a.data.applastname,jobtitlenameView:a.data.currentjobtitle?a.data.currentjobtitle.split('&apos;').join("'"):null,yearsnameView:a.data.workexpyears,monthsnameView:a.data.workexpmonths,skillsnameView:a.data.skillnames?a.data.skillnames.join(', '):null,locationnameView:a.data.currentlocation,educationnameView:a.data.education,univnameView:a.data.collegename,mobilenameView:a.data.mobile,emailnameView:a.data.emailid,hiringnameView:a.data.name,portalnameView:a.data.jobportalname,appResumeView:a.data.resumename,identificationType:a.data.ddo_jobidentificationtype_id,identificationNumber:a.data.identification_num};h.getForm().setValues(m);if(m.portalnameView==null){p.hide()}Ext.ComponentQuery.query('[reference = title_applicationCreatRef]')[0].setHtml(window.sessionStorage.newApplicationHead+'/'+'View Application')}if(b.target.lastChild!=null&&b.target.className=='act-cls'){if(b.target.lastChild.classList.value!=='act-showcls'){n.children[1].children[1].children[2].children[1].className='act-showcls'}else {n.children[1].children[1].children[2].children[1].className='act-removecls'}}if(b.target.innerText=='Delete'){Ext.Msg.confirm('Confirm','Are you sure you want to delete this job application?',function(c){if(c==='no'){}else {if(c==='yes'){var e={ddo_jobapplication_id:a.data.ddo_jobapplication};var f='/jobapplication';var d='DELETE';Ext.Ajax.request({url:f,method:d,scope:this,params:e,success:function(f,j){var h=Ext.decode(f.responseText),g=h.message;this.getViewModel().getStore('jobApplicationsDataViewStore').load();var e={ddo_jobopening_id:parseInt(a.data.ddo_jobopening_id)};var i='/jobapplication';var d='GET';Ext.Ajax.request({url:i,method:d,scope:this,params:e,success:function(d,g,e,h,i,k){this.getViewModel().getStore('jobapplicationsappliedstore').loadRawData(JSON.parse(d.responseText))},failure:function(d,e){}});Ext.Msg.alert('success',g)},failure:function(e,f){var d=Ext.decode(e.responseText);Ext.toast(d.message,!1,'t')}})}}},this)}else {if(b.target.innerText=='Edit'){var h=Ext.ComponentQuery.query('[reference = jobapplicationreference]')[0];h.getLayout().setActiveItem(2);var y=a.data;var w=a.data.ddo_jobopening_id;if(a.data.currentjobtitle!=undefined&&a.data.currentjobtitle!=null){a.data.currentJobTitle=a.data.currentjobtitle.split('&apos;').join("'")}var u=Ext.ComponentQuery.query('newjobapplyform')[0].getForm().getFields();var r=this.getViewModel(),d=Ext.ComponentQuery.query('[reference = fileuploadref]')[0],j=Ext.ComponentQuery.query('[reference = uploadhiddenbtnref]')[0],o=Ext.ComponentQuery.query('[reference = uploadlabelref]')[0];r.set('resumePath',a.data.resumepath);d.value=a.data.resumepath;d.setRawValue(a.data.resumepath);d.setValue(a.data.resumepath);d.hide();j.show();o.show();j.setText(a.data.resumename);this.loadRecord(a);var l=this.getReferences().jobapplicationdataview;l.getStore().reload();l.refresh();setTimeout(function(){Ext.each(u.items,function(c){c.dirty=!1;c.wasDirty=!1})},1000);Ext.ComponentQuery.query('[reference = title_applicationCreationRef]')[0].setHtml(window.sessionStorage.newApplicationHead+'/'+'Edit Application');window.sessionStorage.ddo_jobapplication=a.data.ddo_jobapplication;window.sessionStorage.job_app_form='0'}}var k=!0;if(b.target.innerText=='Interview'){if(a.data.currentjobtitle==undefined||a.data.currentjobtitle==null){k=!1}}if(b.target.innerText=='Interview'&&k==!0){window.sessionStorage.renderingData=JSON.stringify(a.data);window.sessionStorage.ddo_jobapplication_id_forApplStatus=a.data.ddo_jobapplication;var t=Ext.ComponentQuery.query('jobapplicationsappliedfilterview'),g=t[0].items.items;g[3].hide();g[4].hide();g[5].hide();var f=Ext.ComponentQuery.query('jobapplicationsappliedlistview')[0].down('dataview').getStore();f.removeFilter('filterByLocation');f.removeFilter('filterByExperience');f.removeFilter('filterByDate');var e=a.data.title,c=a.data.appfirstname;if(e.length>25){e=e.substring(0,22)+'...'}if(c.length>25){c=c.substring(0,22)+'...'}Ext.ComponentQuery.query('[reference = jobapplications_interviewScreenTitle]')[0].setHtml(e+'/'+c+'/'+'Interview');Ext.ComponentQuery.query('[reference = jobapplicationreference]')[0].getLayout().setActiveItem('interviewschd');var q=Ext.ComponentQuery.query('mainviewport')[0].getViewModel();if(q.data.addInterviewShow==!0){Ext.ComponentQuery.query('[reference = oninterviewscheduledref]')[0].items.items[0].show()}else {Ext.ComponentQuery.query('[reference = oninterviewscheduledref]')[0].items.items[0].hide()}Ext.ComponentQuery.query('scheduleinterview')[0].items.items[1].items.items[0].store.loadRawData(a);Ext.ComponentQuery.query('[reference = interviewerref]')[0].setValue(a.data.ddo_jobapplicationstatus_id);Ext.Ajax.request({url:'/jobappinterview',method:'GET',scope:this,success:function(h,j,i,k,l,m){Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[2].items.items[0].store.loadRawData(JSON.parse(h.responseText));Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[2].items.items[0].store.sort('updated','DESC');Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[2].items.items[0].store.filter({property:'ddo_jobapplication_id',id:'filterBy_ddo_jobapplication_id',anyMatch:!0,caseSensitie:!1,value:a.data.ddo_jobapplication},a.data.ddo_jobapplication,!1);if(Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[2].items.items[0].store.data.items.length>0){var g=Ext.ComponentQuery.query('mainviewport')[0].getViewModel();if(g.data.addInterviewShow==!0){Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[0].setHidden(!1);Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[1].setHidden(!0);Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[2].setHidden(!1)}else {Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[0].setHidden(!0);Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[1].setHidden(!0);Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[2].setHidden(!1);Ext.ComponentQuery.query('addInterviewPlusIconRef')[0].addCls('requestdetails-cls')}}else {Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[0].setHidden(!0);Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[1].setHidden(!1);Ext.ComponentQuery.query('oninterviewscheduled')[0].items.items[2].setHidden(!0)}var e=Ext.ComponentQuery.query('[reference = interviewschdref]')[0],f=e.getViewModel(),c=f.getStore('interviewrsStore'),d=a.data.ddo_jobopening_id;c.getProxy().extraParams={'ddo_jobopening_id':d};c.load()},failure:function(d,e){var c=Ext.decode(d.responseText);Ext.toast(c.message,!1,'t')}})}},loadRecord:function(a){this._record=a;return this.setValues(a.getData())},setValues:function(a){var f=Ext.ComponentQuery.query('newjobapplyform')[0],g,h,i;Ext.suspendLayouts();var e='';if(a.resumepath!=''&&a.resumepath!=undefined&&a.resumepath!=null){e=a.resumepath}if(a){var c={fname:a.appfirstname,lname:a.applastname,jobtitlename:a.currentjobtitle,yearsname:a.workexpyears,monthsname:a.workexpmonths,skillsname:a.app_skills!=null?a.app_skills.split(','):null,locationname:a.currentlocation,educationname:a.ddo_jobeducation_id,univname:a.collegename,mobilename:a.mobile,emailname:a.emailid,hiringname:a.ddo_jobhiringsource_id,portalname:a.jobportalname,appResume:a.resumepath,identificationType:a.ddo_jobidentificationtype_id,identificationNumber:a.identification_num};c.uploadResumeHiddenBtn=a.resumepath;f.getForm().setValues(c);var g=a.resumepath,d=Ext.ComponentQuery.query('[reference = uploadbuttonref]')[0],b=Ext.ComponentQuery.query('[reference = fileuploadref]')[0];d.setText(a.resumename);d.setIconCls('x-fa fa-times');b.value=a.resumepath;b.setValue(a.resumepath);b.setRawValue(a.resumepath);window.sessionStorage.ddo_jobapplication=a.ddo_jobapplication;window.sessionStorage.resumepath=a.resumepath}Ext.resumeLayouts(!0);return this},onViewApplicationClick:function(q,a,p,n,r,m){var h=Ext.ComponentQuery.query('[reference = jobapplicationdataview]')[0];var o=this.getViewModel().getStore('jobapplicationsappliedstore');h.getStore().clearFilter();h.refresh();Ext.ComponentQuery.query('[reference = jobsearchref_job_applied]')[0].setValue('');var k={ddo_jobopening_id:parseInt(a.data.ddo_jobopening_id)};var l='/jobapplication';var j='GET';Ext.Ajax.request({url:l,method:j,scope:this,params:k,success:function(b,d,c,e,f,g){Ext.ComponentQuery.query('jobapplicationsappliedlistview')[0].items.items[1].store.loadRawData(JSON.parse(b.responseText))},failure:function(c,d){var b=Ext.decode(c.responseText);Ext.toast(b.message,!1,'t')}});var i=Ext.ComponentQuery.query('jobapplicationfilterview'),e=i[0].items.items;e[3].hide();e[4].hide();e[5].hide();var d=Ext.ComponentQuery.query('jobapplicationrequest')[0].down('dataview').getStore();d.removeFilter('filterByLocation');d.removeFilter('filterByExperience');d.removeFilter('filterByDate');var g=Ext.ComponentQuery.query('[reference = filterapplicationwinref]')[0];if(g!=undefined){var c=g.down('form');c.getForm().findField('filterlocation').setValue('All');c.getForm().findField('minworkexperience').setValue('0');c.getForm().findField('maxworkexperience').setValue('0');c.getForm().findField('filterDateName').setValue('All')}var f=Ext.ComponentQuery.query('[reference = jobappliedstatuscomboref]')[0];f.setValue(null);f.getStore().clearFilter();window.sessionStorage.ddo_jobopening_id=a.data.ddo_jobopening_id;window.sessionStorage.newApplicationHead=a.data.title+'-'+a.data.department_name;var b=a.data.title;if(b.length>52){b=b.substring(0,49)+'...'}Ext.ComponentQuery.query('[reference = title_applicationViewRef]')[0].setHtml(b+'/'+'Applications');Ext.ComponentQuery.query('[reference = jobapplicationreference]')[0].getLayout().setActiveItem('appliedList')},onContainerClick:function(b,c,d){x=b.all.elements;for(var a=0;a<x.length;a++){z=x[a].lastChild.lastChild.lastChild.children[1];if(z.className=='act-showcls'){z.classList.remove('act-showcls');z.classList.add('act-removecls')}}},hideCombobox:function(f,g,e){if(Ext.ComponentQuery.query('[reference = filterapplicationwinref]')[0]==undefined){Ext.create('JobOpenings.view.jobapplications.filtertoolbar.JobApplicationsAppliedAddfilterWindow').show()}else {var c=Ext.ComponentQuery.query('[reference = filterapplicationwinref]')[0];c.show();var a=c.down('form'),d=a.getValues(),b=this.getViewModel();if(b.data.filtervalue=='filterByLocation'){a.getForm().findField('filterlocation').setValue('All')}else {if(b.data.filtervalue=='filterByExperience'){a.getForm().findField('minworkexperience').setValue(null);a.getForm().findField('maxworkexperience').setValue(null)}else {if(b.data.filtervalue=='filterByDate'){a.getForm().findField('filterDateName').setValue('All')}}}}if(Ext.ComponentQuery.query('[reference = jobapplicationreference]')[0].getLayout().getActiveItem().id=='mainList'){Ext.ComponentQuery.query('jobapplicationsappliedfiltercomboboxes')[0].items.items[0].items.items[0].items.items[1].show();Ext.ComponentQuery.query('jobapplicationsappliedfiltercomboboxes')[0].items.items[1].items.items[0].items.items[1].show()}else {Ext.ComponentQuery.query('jobapplicationsappliedfiltercomboboxes')[0].items.items[0].items.items[0].items.items[1].hide();Ext.ComponentQuery.query('jobapplicationsappliedfiltercomboboxes')[0].items.items[1].items.items[0].items.items[1].hide()}},onCloseFilterClk:function(d){var b=d.reference.split('Cancel')[0],c=this.getViewModel();var a=Ext.ComponentQuery.query('jobapplicationfilterview')[0].items.items;a.forEach(function(f,a){if(a==3||a==4||a==5){if(f.items.items[0].reference==b){f.hide();var e=a==4?'filterByLocation':a==5?'filterByExperience':'filterByDate';var i=Ext.ComponentQuery.query('jobapplicationrequest')[0].down('dataview');var g=Ext.ComponentQuery.query('jobapplicationrequest')[0];var h=g.getViewModel().getStore('jobApplicationsDataViewStore');h.removeFilter(e);c.set('filtervalue',e)}}})},onCloseFilterClkapplied:function(d){var b=d.reference.split('Cancel')[0],c=this.getViewModel();var a=Ext.ComponentQuery.query('jobapplicationsappliedfilterview')[0].items.items;a.forEach(function(f,a){if(a==3||a==4||a==5){if(f.items.items[0].reference==b){f.hide();var e=a==4?'filterByLocation':a==5?'filterByExperience':'filterByDate';var i=Ext.ComponentQuery.query('jobapplicationsappliedlistview')[0].down('dataview');var g=Ext.ComponentQuery.query('jobapplicationsappliedlistview')[0];var h=g.getViewModel().getStore('jobapplicationsappliedstore');h.removeFilter(e);c.set('filtervalue',e)}}})},onKeyUpJobSearch:function(c,e,d){var b=Ext.ComponentQuery.query('jobapplications')[0].getLayout().getActiveItem().reference=='jobapplicationrequestlistview'?!0:!1;var a=b?this.getReferences().applicationfilterview:this.getReferences().appliedfilterview;this.searchJob(a.down('textfield'),a.down('combobox'),b)},onStatusSelectionFilter:function(c,d,e){var b=Ext.ComponentQuery.query('jobapplications')[0].getLayout().getActiveItem().reference=='jobapplicationrequestlistview'?!0:!1;var a=b?this.getReferences().applicationfilterview:this.getReferences().appliedfilterview;this.searchJob(a.down('textfield'),a.down('combobox'),b)},searchJob:function(f,b,e){var c=f.value,h=e?this.getReferences().jobapplieddataview:this.getReferences().jobapplicationdataview,a=e?this.getViewModel().getStore('jobApplicationsDataViewStore'):this.getViewModel().getStore('jobapplicationsappliedstore');if(b.value!=null&&b.value!='All'&&b.rawValue!='All'){var d=b.getSelectedRecord().data.ddo_jobapplicationstatus_id}else {if(b.value=='All'||b.rawValue=='All'){var d=null}else {var d=b.getValue()}}if(a){if(!e){if(!Ext.isEmpty(d)){a.filter({property:'ddo_jobapplicationstatus_id',id:'ddo_jobapplicationstatus_id',anyMatch:!0,caseSensitie:!1,value:d},d,!1)}else {a.removeFilter('ddo_jobapplicationstatus_id')}}if(e){if(!Ext.isEmpty(c)){a.filter({property:'title',id:'title',anyMatch:!0,caseSensitie:!1,value:c},c,!1)}else {a.removeFilter('title')}var g={'property':'ddo_jobopeningstatus_id','value':1};a.addFilter(g)}else {if(!Ext.isEmpty(c)){a.filter({property:'appfirstname',id:'appfirstname',anyMatch:!0,caseSensitie:!1,value:c},c,!1)}else {a.removeFilter('appfirstname')}}}}});Ext.define('JobOpenings.view.jobapplications.JobApplyMain',{extend:'Ext.panel.Panel',alias:'widget.jobapplymain',requires:['JobOpenings.view.jobapplications.NewJobApplyForm','JobOpenings.view.jobapplications.JobApplyController','JobOpenings.view.jobapplications.JobApplicationsViewModel'],viewModel:{type:'jobapplicationsviewmodel'},controller:'jobapplycontroller',cls:'job-header',tools:[{xtype:'button',scale:'medium',iconCls:'goalsbackbtn-cls',cls:'jobback-btn-cls',style:{border:0},listeners:{click:'onInterviewBackButtonClick'}},{xtype:'label',html:'Back',cls:'backlabel-cls'},{xtype:'label',html:'Intern UI Development/Add Application',cls:'titlelabel-cls',reference:'title_applicationCreationRef',margin:20}],items:[{xtype:'newjobapplyform'}]});Ext.define('JobOpenings.view.jobapplications.interviewdetails.InterviewFeedBack',{extend:'Ext.container.Container',xtype:'interviewfeedback',width:'100%',cls:'feedbkcnt-cls feedbkcnt2-cls',requires:['JobOpenings.view.jobapplications.JobApplicationsViewModel','JobOpenings.view.jobapplications.JobApplicationsViewController'],bind:{hidden:'{viewHide}'},controller:'jobapplicationsviewController',viewModel:{type:'jobapplicationsviewmodel'},items:[{xtype:'dataview',reference:'feedbackdataviewrref',itemTpl:['<table class="feedbktable-cls" >','<tr class="feedbktr-cls">','<th class="nameheader-cls" width="20%">Interviewer Name</th>','<th class="typeheader-cls" width="15%">Interviewer Type</th>','<th class="dtheader-cls" width="15%">Date&Time</th>','<th class="ratingheader-cls" width="15%">Rating</th>','<th class="fdbkheader-cls">Feedback</th>','</tr>','<tr class="datatr-cls">','<td>{interviewrname}</td>','<td>{[this.onIntervwTypeVal(values)]}</td>','<td>{[this.convertDate(values)]}<div>{interviewtime}</div></td>','<td>{[this.getRatingIcon(values)]}</td>','<td class ="fdbktd-cls">{feedback}</td>','</tr>','</table>',{getRatingIcon:function(b){var a=b.ratingname,c=b.ratingimgpath;return '<div><img class="intvwratingimg-cls" src="resources/images/feeds/likes/'+a+'.png'+'"><div>'+a+'</div></div>'},convertDate:function(b){var a=b.interviewdate;return Ext.Date.format(new Date(a),'d-m-Y')},onIntervwTypeVal:function(a){if(a.interviewtype==2){return 'Telephonic'}else {return 'Face-to-Face'}}}],itemSelector:'div.intvwdiv-cls'}]});Ext.define('JobOpenings.view.jobapplications.interviewdetails.TimelineContainer',{extend:'Ext.container.Container',xtype:'timelinecontainer',style:'top:-49px !important;',width:'100%',html:['<div class="timeline-item jobtimelinecls">','<div class="timeline-day"></div>','<div class="timeline-outer"><div class="timeline-inner">','</div>','</div>']});Ext.define('JobOpenings.view.jobapplications.interviewdetails.InterviewDataview',{extend:'Ext.container.Container',xtype:'interviewdataview',width:'100%',bind:{hidden:'{initialInterviewShow}'},requires:['JobOpenings.view.jobapplications.interviewdetails.TimelineContainer'],layout:{type:'hbox'},reference:'interviewdvref',items:[{xtype:'timelinecontainer'},{xtype:'container',cls:'intvwschcnt-cls',items:[{xtype:'form',cls:'intvwschform-cls',reference:'intervwformref',width:'100%',height:130,layout:'hbox',items:[{xtype:'hiddenfield',name:'ddo_jobapplicationinterview_id'},{xtype:'combo',name:'interviewer_id',reference:'interviewerref',fieldLabel:'Interview Panel',labelAlign:'top',emptyText:'Select Interviewer',displayField:'empname',valueField:'empid',queryMode:'local',forceSelection:!1,matchFieldWidth:!0,clearOnBackspace:!1,tagCustomiseMom:!0,tagMomOwnerId:'123',filterPickList:!0,typeAhead:!1,blankText:'This field is required',allowBlank:!1,bind:{}},{xtype:'combo',name:'interviewtype',labelAlign:'top',reference:'interviewtyperefdata',fieldLabel:'Interview Type',emptyText:'Select Interview Type',displayField:'name',valueField:'interviewtype_id',queryMode:'local',forceSelection:!1,matchFieldWidth:!0,clearOnBackspace:!1,tagCustomiseMom:!0,tagMomOwnerId:'123',filterPickList:!0,typeAhead:!1,blankText:'This field is required',allowBlank:!1,bind:{}},{xtype:'datefield',editable:!1,required:!0,fieldLabel:'Date',labelAlign:'top',alwaysOnTop:!0,format:'Y-m-d',name:'interviewdate',disabledCls:'notestatus-item-disabled',reference:'fromDate',bind:{value:'{interviewdate}'},emptyText:'Select Date',minValue:new Date(),createPicker:function(){var a=this,b=Ext.String.format;return Ext.create('Ext.picker.Date',{pickerField:a,ownerCt:a.ownerCt,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,cls:'ddo-create-datepicker',minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse()}}})}},{xtype:'timefield',name:'interviewtime',reference:'intvwTime',fieldLabel:'Time',labelAlign:'top',required:!0,bind:{value:'{interviewtime}'},editable:!1,emptyText:'Select Time',minValue:'00:00',maxValue:'24:00',hideTrigger:!1,format:'H-i',increment:30,listConfig:{cls:'mom-stime-cls'}},{xtype:'button',text:'Save',reference:'intvwsavebtnref',cls:'intvwsave-btn',formBind:!0,listeners:{click:'onInterviewSaveBtnClick'}},{xtype:'buttongroup',cls:'singlebtngrp-cls',reference:'intvwbtngrpref',columns:1,items:[{text:'Cancel',cls:'intvwcancel-btn',formBind:!0,listeners:{click:'onCancelIntvwClick'}},{text:'Reschedule',cls:'intvwcancel-btn',bind:{hidden:'{cancelReschedulebtnsHide}'},listeners:{click:'onRescheduleClick'}},{text:'Delete',cls:'intvwcancel-btn',bind:{hidden:'{cancelReschedulebtnsHide}'},listeners:{click:'onDeleteIntvwClick'}}]}]}]}]});Ext.define('JobOpenings.view.jobapplications.interviewdetails.ScheduleFeedBackView',{extend:'JobOpenings.view.jobapplications.interviewdetails.TimelineContainer',xtype:'schedulefeedbackview',width:'100%',cls:'feedbkcnt-cls',bind:{hidden:'{awaitingfeedviewHide}'},config:{feedbkformData:''},items:[{xtype:'dataview',reference:'feedbackdataviewref',data:'',itemTpl:['<table class="feedbktable-cls">','<tr class="feedbktr-cls">','<th class="nameheader-cls" width="20%">Interviewer Name</th>','<th class="typeheader-cls" width="15%">Interviewer Type</th>','<th class="dtheader-cls" width="15%">Date&Time</th>','<th class="ratingheader-cls" width="15%">Rating</th>','<th class="fdbkheader-cls"></th>','<th class="fdbkheade-cls"></th>','</tr>','<tr class="datatr-cls">','<td>{interviewrname}</td>','<td>{interviewtype}</td>','<td>{[this.convertDate(values)]}<div>{interviewtime}</div></td>','<td>{[this.getRatingIcon(values)]}</td>','<td class ="fdbktd-cls">Awaiting for Feedback</td>','<td class ="fdbktd-cls">','<div>Cancel</div>','<div>Reschedule</div>','<div>Delete</div>','</td>','</tr>','</table>',{getRatingIcon:function(a){var b=a.ratingname,c=a.ratingimgpath;return 'TBD'},convertDate:function(b){var a=b.interviewdate;return Ext.Date.format(new Date(a),'d-m-Y')}}],itemSelector:'div.intvwdiv-cls'}],listeners:{boxready:function(){var a=this.config.feedbkformData;var b=this.down('dataview');b.setData(a)}}});Ext.define('JobOpenings.view.jobapplications.interviewdetails.AddInterviewSchedule',{extend:'Ext.container.Container',xtype:'addinterviewschedule',width:'100%',cls:'addintvwsch-cls',html:['<div clss="addintvwcls">','<div class="jobtimelinecls">','</div>','</div></div>','<div class ="schviewcls">','<div class="schtextcls">Schedule Interview</div>','</div></div>'],items:[{xtype:'button',cls:'schroundcls',iconCls:'plus-icon intvwplus-icon',listeners:{click:'onInteviewAddBtnClick'}}]});Ext.define('JobOpenings.view.jobapplications.interviewdetails.InterviewCancelForm',{extend:'Ext.container.Container',xtype:'interviewcancelform',width:'100%',bind:{hidden:'{cancelformshow}'},requires:['JobOpenings.view.jobapplications.interviewdetails.AddInterviewSchedule'],items:[{xtype:'addinterviewschedule',bind:{hidden:'{addIntvwschviewHide}'}},{xtype:'container',cls:'intvwschcnt-cls',reference:'intvwcancelcntref',items:[{xtype:'form',cls:'intvwschform-cls cancelform-cls',reference:'intervwcancelformref',width:'100%',height:130,layout:'hbox',items:[{xtype:'hiddenfield',name:'ddo_jobapplicationinterview_id'},{xtype:'combo',name:'interviewer_id',reference:'empnameref',fieldLabel:'Interview Panel',labelAlign:'top',emptyText:'Select Interviewer',displayField:'empname',valueField:'empid',queryMode:'local',hideTrigger:!0,disabled:!0,width:'17%',forceSelection:!1,matchFieldWidth:!0,clearOnBackspace:!1,tagCustomiseMom:!0,tagMomOwnerId:'123',filterPickList:!0,typeAhead:!1,blankText:'This field is required',allowBlank:!1,bind:{value:'{empname}'}},{xtype:'combo',name:'interviewtype',labelAlign:'top',reference:'inttyperef',fieldLabel:'Interview Type',emptyText:'Select Interview Type',displayField:'name',valueField:'interviewtype_id',queryMode:'local',forceSelection:!1,hideTrigger:!0,disabled:!0,matchFieldWidth:!0,clearOnBackspace:!1,tagCustomiseMom:!0,tagMomOwnerId:'123',filterPickList:!0,typeAhead:!1,blankText:'This field is required',allowBlank:!1,width:'15%',bind:{value:'{interviewtype}'}},{xtype:'datefield',editable:!1,required:!0,fieldLabel:'Date',labelAlign:'top',alwaysOnTop:!0,disabled:!0,width:'15%',name:'interviewdate',hideTrigger:!0,reference:'fmdateref',bind:{value:'{interviewdate}'},emptyText:'Select Date'},{xtype:'displayfield',fieldLabel:'Rating',cls:'ratingcancel-cls',name:'rating',labelAlign:'top',disabled:!0,width:'10%',value:'TBD'},{xtype:'textareafield',grow:!1,cls:'canceltextarea-cls',labelAlign:'top',reference:'canceltextarearef',width:'35%',name:'Reason-for-Cancelling',fieldLabel:'Reason for Cancelling'},{xtype:'buttongroup',cls:'singlebtngrp-cls cancelbtngrp',reference:'intvwcancelbtngrp',columns:1,width:'18%',items:[{text:'Confirm',cls:'intvwconfirm-btn',reference:'confirmbtnref',listeners:{click:'onConfirmClick'}},{text:'Cancel',cls:'intcancl-btn',reference:'intvwcancelbtnref',listeners:{click:'onCancelClick'}}]}]}]}]});Ext.define('JobOpenings.view.jobapplications.interviewdetails.main.InterviewRequestDetailsAll',{extend:'Ext.container.Container',xtype:'interviewrequestdetailsall',width:'99%',style:'padding-left: 63px;',reference:'interviewrequestdetailsallref',cls:'requestdetails-cls',items:[{xtype:'dataview',reference:'feedbackdataviewrref',data:'',cls:'jobappviewcls_spacing',itemTpl:['<div class="myPanelsCls" style="text-align:center">','<div class="timeline-item jobtimelinecls2">','<div class="timeline-day"></div>','<div class="timeline-outer"><div class="timeline-inner">','</div>','</div>','</div>','<table class="feedbktable2-cls" style="{[this.backgrndColor(values)]}">','<tr class="feedbktr-cls" style="{[this.backgrndColor(values)]}">','<th class="nameheader-cls" width="15%">Interviewer Name</th>','<th class="typeheader-cls" width="15%">Interviewer Type</th>','<th class="typeheader-cls" width="15%">Interviewer Mode</th>','<th class="dtheader-cls" width="12%">Date&Time</th>','<th class="ratingheader-cls" width="10%">Rating</th>','<th width="" class="fdbkheader-cls" style="padding-top: 17px; display:{[this.isHiddenFeedback1(values, 1)]};">Feedback</th>','<th class="nameheader-cls" width="56%" style="margin-top:30px; display:{[this.isHiddenAwaitingFeedback(values)]};">{[this.checkHiddenHeader(values, 1)]}</th>','<th class="nameheader-cls" width="0%" style="display:{[this.isHiddenAwaitingFeedback(values)]};"></th>','</tr>','<tr class="datatr-cls">','<td width="15%" class="intervw-sched-dt-cls">{interviewrname}</td>','<td width="15%" class="intervw-sched-dt-cls">{[this.onIntervwTypeVal(values)]}</td>','<td width="15%" class="intervw-sched-dt-cls">{[this.onIntervwModeVal(values)]}</td>','<td width="12%" class="intervw-sched-dt-cls">{[this.convertDate(values)]}<div>{interviewtime}</div></td>','<td width="10%" class="intervw-sched-dt-cls">{[this.getRatingIcon(values)]}</td>','<td width="288%" class="intervw-sched-feed-dt-cls fdbktd-cls" style="display:{[this.isHiddenFeedback1(values, 1)]};">{feedback}</td>','<td width="32%" style="color: {[this.ifFeedbackAwaiting(values)]};" style="display:{[this.isHiddenAwaitingFeedback(values)]};">{[this.checkHiddenHeader(values, 2)]}</td>','<td width="80%" style="display:{[this.isHiddenAwaitingFeedback(values)]};">{[this.checkHiddenHeader(values, 3)]}</td>','</tr>','</table>','</div>',{getRatingIcon:function(a){if(a.ddo_jobinterviewstatus_id==2){var b=a.ratingname,c=a.ratingimgpath;return '<div><img class="intvwratingimg-cls" src="resources/images/feeds/likes/'+b+'.png'+'"><div>'+b+'</div></div>'}else {return '<div>TBD</div>'}},convertDate:function(b){var a=b.interviewdate;return Ext.Date.format(new Date(a),'d-m-Y')},onIntervwTypeVal:function(a){if(a.interviewtype==1){return 'Technical'}else {if(a.interviewtype==2){return 'HR'}else {return 'Manager'}}},onIntervwModeVal:function(a){if(a.interviewmode==1){return 'Telephonic'}else {if(a.interviewmode==2){return 'Skype'}else {return 'FacetoFace'}}},isHiddenFeedback1:function(a,b){if(a.ddo_jobinterviewstatus_id==2&&b==1){return 'block'}else {return 'none'}},isHiddenAwaitingFeedback:function(a){if(a.ddo_jobinterviewstatus_id==1||a.ddo_jobinterviewstatus_id==3||a.ddo_jobinterviewstatus_id==4){return 'block'}else {return 'none'}},checkHiddenHeader:function(a,b){if(b==1){if(a.ddo_jobinterviewstatus_id==1){return ''}if(a.ddo_jobinterviewstatus_id==3){return 'Reason for Rescheduling'}if(a.ddo_jobinterviewstatus_id==4){return 'Reason for Cancel'}}if(b==2){if(a.ddo_jobinterviewstatus_id==1){return 'Awaiting for Feedback'}if(a.ddo_jobinterviewstatus_id==3){return a.feedback}if(a.ddo_jobinterviewstatus_id==4){return a.feedback}}if(b==3){if(a.ddo_jobinterviewstatus_id==1){var c=Ext.ComponentQuery.query('mainviewport')[0].getViewModel();if(c.data.addInterviewShow==!0){return '<div class="intervw-sched-cancel-link-cls"><i class="cancel-interview-iconcls arrow-cls"></i>Cancel</div><div class="intervw-sched-reschedule-link-cls"><i class="reschedule-interview-iconcls arrow-cls"></i>Reschedule</div><div class="intervw-sched-delete-link-cls"><i class="delete-interview-iconcls arrow-cls"></i>Delete</div>'}}if(a.ddo_jobinterviewstatus_id==3){return '<i class="rescheduled-interview-iconcls arrow-cls"></i>Interview Rescheduled'}if(a.ddo_jobinterviewstatus_id==4){return '<i class="cancel-interview-iconcls arrow-cls"></i>Interview Canceled'}}},backgrndColor:function(a){if(a.ddo_jobinterviewstatus_id==3){return 'background-color: #FFF6E5;'}if(a.ddo_jobinterviewstatus_id==4){return 'background-color: #F3F3F3;'}},ifFeedbackAwaiting:function(a){if(a.ddo_jobinterviewstatus_id==1){return '#5dc27c'}else {return 'black'}}}],itemSelector:'div.myPanelsCls',listeners:{itemclick:'onMyPanelsClick'}}]});Ext.define('JobOpenings.view.jobapplications.interviewdetails.main.InterviewRequestDetailsForm',{extend:'Ext.container.Container',xtype:'interviewrequestdetailsform',requires:['JobOpenings.view.jobapplications.interviewdetails.TimelineContainer'],width:'100%',layout:{type:'hbox'},initComponent:function(){this.callParent(arguments);Ext.ComponentQuery.query('[reference = interviewtyperef]')[0].getStore().load();Ext.ComponentQuery.query('[reference = interviewmoderef]')[0].getStore().load()},items:[{xtype:'timelinecontainer'},{xtype:'container',cls:'intvwschcnt-cls2',style:'margin-bottom:80px;',items:[{xtype:'form',cls:['intvwschform-cls','intvwschform-cls3'],reference:'intervwformref',width:'100%',layout:'vbox',items:[{xtype:'fieldcontainer',layout:'hbox',margin:'0 0 100 0',items:[{xtype:'hiddenfield',name:'ddo_jobapplicationinterview_id'},{xtype:'combo',name:'interviewer_id',fieldLabel:'Interviewer Name',labelAlign:'top',emptyText:'Select Interviewer',cls:'intrvwname-cls',displayField:'empname',valueField:'empid',queryMode:'local',forceSelection:!1,matchFieldWidth:!0,clearOnBackspace:!1,tagCustomiseMom:!0,tagMomOwnerId:'123',filterPickList:!0,typeAhead:!1,blankText:'This field is required',allowBlank:!1},{xtype:'combo',name:'interviewtype',labelAlign:'top',reference:'interviewtyperef',fieldLabel:'Interview Type',cls:'intrvwtype-cls',emptyText:'Select Interview Type',displayField:'name',valueField:'id',queryMode:'local',forceSelection:!0,matchFieldWidth:!0,clearOnBackspace:!1,tagCustomiseMom:!0,tagMomOwnerId:'123',filterPickList:!0,typeAhead:!1,blankText:'This field is required',validateOnChange:!0,allowBlank:!1},{xtype:'combo',name:'interviewmode',labelAlign:'top',reference:'interviewmoderef',fieldLabel:'Interview Mode',editable:!1,cls:'intrvwmode-cls',emptyText:'Select Interview Mode',displayField:'name',valueField:'id',queryMode:'local',forceSelection:!0,matchFieldWidth:!0,clearOnBackspace:!1,tagCustomiseMom:!0,tagMomOwnerId:'123',filterPickList:!0,typeAhead:!1,blankText:'This field is required',allowBlank:!1},{xtype:'datefield',editable:!1,required:!0,allowBlank:!1,cls:['intrvwdate-cls','intrvwdate-clss'],style:'margin: 0px; right: auto; left: 318px; top: -22px;',fieldLabel:'Date',labelAlign:'top',format:'Y-m-d',alwaysOnTop:!0,name:'interviewdate',disabledCls:'notestatus-item-disabled',reference:'fromDate',bind:{value:'{interviewdate}'},emptyText:'Select Date',listeners:{},minValue:new Date(),createPicker:function(){var a=this,b=Ext.String.format;return Ext.create('Ext.picker.Date',{pickerField:a,ownerCt:a.ownerCt,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,cls:'ddo-create-datepicker',minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse()}}})}},{xtype:'timefield',name:'interviewtime',reference:'intvwTime',cls:['intrvwtime-cls','intrvwtime-clss'],fieldLabel:'Time',labelAlign:'top',required:!0,allowBlank:!1,bind:{value:'{interviewtime}'},editable:!1,emptyText:'Select Time',minValue:'8:00 AM',maxValue:'8:00 PM',hideTrigger:!1,format:'g-i A',increment:30,listConfig:{cls:'mom-stime-cls'}}]},{xtype:'button',text:'Save',reference:'intvwsavebtnref',cls:['intvwsave-btn','intvwsave-bttn'],formBind:!0,listeners:{click:'onInterviewSaveBtnClick2'}},{xtype:'buttongroup',cls:['singlebtngrp-cls','intvwcancel-bttn'],reference:'intvwbtngrpref',columns:1,items:[{text:'Cancel',cls:'intvwcancel-btn',listeners:{click:'onCancelIntvwClick'}}]}]}]}]});Ext.define('JobOpenings.view.jobapplications.interviewdetails.main.OnInterviewScheduled',{extend:'Ext.container.Container',xtype:'oninterviewscheduled',requires:['JobOpenings.view.jobapplications.interviewdetails.main.InterviewRequestDetailsAll','JobOpenings.view.jobapplications.interviewdetails.main.InterviewRequestDetailsForm'],margin:'10 0 0 10',reference:'oninterviewscheduledref',items:[{xtype:'container',width:'100%',cls:'add-interview-cls',html:['<div clss="addintvwcls">','<div class="jobtimelinecls">','</div>','</div></div>','<div class ="schviewcls">','<div class="schtextcls2">Schedule Interview</div>','</div></div>'],items:[{xtype:'button',cls:'schroundcls2',reference:'addInterviewPlusIconRef',iconCls:'plus-icon intvwplus-icon',listeners:{click:'onInteviewAddBtnClick2'}}]},{xtype:'interviewrequestdetailsform'},{xtype:'interviewrequestdetailsall'}]});Ext.define('JobOpenings.view.jobapplications.interviewdetails.main.InterviewDetailsMain',{extend:'Ext.container.Container',xtype:'interviewdetailsmain',requires:['JobOpenings.view.jobapplications.interviewdetails.InterviewDataview','JobOpenings.view.jobapplications.interviewdetails.main.OnInterviewScheduled'],layout:{type:'card',activeItem:1},margin:'10 0 0 10',width:'100%',reference:'interviewdetailsmainref',items:[{xtype:'interviewdataview'},{xtype:'oninterviewscheduled'}]});Ext.define('JobOpenings.view.jobapplications.interviewdetails.ScheduleInterview',{extend:'Ext.container.Container',xtype:'scheduleinterview',requires:['JobOpenings.view.jobapplications.JobApplicationsViewModel','JobOpenings.view.jobapplications.JobApplicationsViewController','JobOpenings.view.jobapplications.interviewdetails.InterviewFeedBack','JobOpenings.view.jobapplications.interviewdetails.InterviewDataview','JobOpenings.view.jobapplications.interviewdetails.ScheduleFeedBackView','JobOpenings.view.jobapplications.interviewdetails.AddInterviewSchedule','JobOpenings.view.jobapplications.interviewdetails.InterviewCancelForm','JobOpenings.view.jobapplications.interviewdetails.main.InterviewDetailsMain'],reference:'interviewschdref',margin:'10 0 0 10',cls:'jobappviewcls noscrollbar',width:'100%',controller:'jobapplicationsviewController',viewModel:{type:'jobapplicationsviewmodel'},layout:{type:'vbox'},items:[{xtype:'panel',width:'100%',items:[{xtype:'toolbar',cls:'inttoolbar-cls',dock:'top',items:[{xtype:'button',scale:'medium',iconCls:'goalsbackbtn-cls',cls:'jobback-btn-cls',style:{border:0},listeners:{click:'onBackClick'}},{xtype:'label',html:'Back',cls:'backlabel-cls'},{xtype:'tbspacer',width:400},{xtype:'label',html:'Interview',cls:'intTitle-cls',reference:'jobapplications_interviewScreenTitle'}]}]},{xtype:'container',layout:'hbox',cls:'dtcnt-cls',items:[{xtype:'dataview',cls:'jobsdataviewcls',bind:{store:'{jobapplicantStore}'},itemTpl:['<div class="jobsdiv-cls ddo-jobopening-item">','<div class="datadiv-cls">','<div class="title-div-cls"><span class="title-cls">{[this.showTitle(values,16)]}</span>','<span> | </span>','<span class="creator-cls">{[this.showCurrentjobtitle(values)]}</span>','</div>','<div class="loc-exp"><span><i class="exp-iconcls arrow-cls"></i>&nbsp{workexpyears}.{workexpmonths} Years Experience </span>','<span><i class="location-iconcls arrow-cls"></i>&nbsp{[this.showCurrentlocation(values)]}</span>','</div>','<div class="detailscls"><i class="skill-iconcls arrow-cls"></i>{[this.showSkills(values)]}</div>','<div class="detailscls"><i class="education-iconcls arrow-cls"></i>{education} - {[this.showCollegename(values)]}</div>','<div><div class="detailscls emaildv"><i class="mobile-iconcls arrow-cls"></i>+91&nbsp{[this.showMobile(values, 10)]}</div>','<div class="detailscls" style="float:right;margin-right: 31%!important;"><i class="mail-iconcls arrow-cls"></i>{[this.showEmailId(values, 20)]}</div></div>','</div>','<div class="combosdiv-cls">','<div>','</div>','</div>','</div>',{showCurrentlocation:function(b){var a=b.currentlocation!=undefined&&b.currentlocation!=null?b.currentlocation:'';if(a.length>15){return a.substring(0,12)+'...'}else {return a}},showCollegename:function(b){var a=b.collegename!=undefined&&b.collegename!=null?b.collegename:'';if(a.length>20){return a.substring(0,17)+'...'}else {return a}},showCurrentjobtitle:function(b){var a=b.currentjobtitle!=undefined&&b.currentjobtitle!=null?b.currentjobtitle:'';if(a.length>12){return a.substring(0,9)+'...'}else {return a}},showTitle:function(b,c){var a=b.appfirstname+' '+b.applastname;if(a.length>c){return a.substring(0,13)+'...'}else {return a}},showMobile:function(b,c){var a=b.mobile!=undefined&&b.mobile!=null?b.mobile.toString():'';if(a.length>c){return a.substring(0,10)+'...'}else {return a}},showEmailId:function(b,c){var a=b.emailid!=undefined&&b.emailid!=null?b.emailid:'';if(a.length>c){return a.substring(0,17)+'...'}else {return a}},showSkills:function(c){var a='';try{var b=c.skillnames;b.forEach(function(d,e){a+=b.length-1!=e?'#'+d+', ':'#'+d})}catch(d){}if(a.length>29){return a.substring(0,26)+'...'}else {return a}}}],itemSelector:'div.status-div-cls'},{xtype:'container',cls:'dwnlodcntcls',layout:'vbox',items:[{xtype:'button',text:'Download CV <span class="download-iconcls"></span>',cls:'cvdwnldbtn2',iconcls:'dwnldcv-cls',listeners:{click:'onDwnldCVClick'}},{xtype:'combo',name:'appstatus',reference:'interviewerref',cls:'appstatuscombo-cls appliStatus',fieldLabel:'Application Status',labelAlign:'top',emptyText:'Select Status',displayField:'name',valueField:'ddo_jobapplicationstatus_id',queryMode:'local',forceSelection:!0,allowBlank:!1,matchFieldWidth:!0,clearOnBackspace:!1,width:176,editable:!1,filterPickList:!0,typeAhead:!1,bind:{disabled:'{jobAppStatusDisable}'},listeners:{select:'onApplicationStatusSelected'}}]}]},{xtype:'interviewdetailsmain'}]});Ext.define('JobOpenings.view.jobapplications.JobApplications',{extend:'Ext.container.Container',xtype:'jobapplications',requires:['JobOpenings.view.jobapplications.JobApplicationRequestListView','JobOpenings.view.jobapplications.JobApplicationsAppliedListView','JobOpenings.view.jobapplications.JobAppliedFormController','JobOpenings.view.jobapplications.JobApplyMain','JobOpenings.view.jobapplications.interviewdetails.ScheduleInterview','JobOpenings.view.jobapplications.JobApplicationViewMode'],layout:{type:'card',activeItem:0},margin:'10 0 0 10',reference:'jobapplicationreference',items:[{xtype:'jobapplicationrequest'},{xtype:'jobapplicationsappliedlistview'},{xtype:'jobapplymain'},{xtype:'scheduleinterview'},{xtype:'jobapplicationviewmode'}]});Ext.define('JobOpenings.view.jobapplications.NewJobApplyViewModel',{extend:'Ext.app.ViewModel',alias:'viewmodel.newjobapplyviewmodel'});Ext.define('JobOpenings.view.jobapplications.filtertoolbar.JobApplicationsAppliedFilterController',{extend:'Ext.app.ViewController',alias:'controller.jobapplicationsappliedfiltercontroller',onApplyBtnClick:function(C,E,A){var e=this.getView(),f=e.getValues().filterlocation,g=e.getValues().filterdepartment,j=e.getValues().minworkexperience,p=e.getValues().maxworkexperience,b=e.getValues().filterDateName,B=f,m=Ext.ComponentQuery.query('jobapplications')[0].getLayout().getActiveItem().reference=='jobapplicationrequestlistview'?!0:!1,v=m?Ext.ComponentQuery.query('jobapplicationrequest'):Ext.ComponentQuery.query('jobapplicationsappliedlistview'),u=v[0].down('dataview'),d=u.getStore(),z=e.up('window'),D=this.getViewModel(),w=m?Ext.ComponentQuery.query('jobapplicationfilterview'):Ext.ComponentQuery.query('jobapplicationsappliedfilterview'),a=w[0].items.items;a[3].hide();a[4].hide();a[5].hide();if(!Ext.isEmpty(f)&&f!='All'){d.filter({property:'ddo_joblocation_id',id:'filterByLocation',anyMatch:!0,caseSensitie:!1,value:f},f,!1);a[4].show();var r=this.getReferences().filtercomboref.getSelectedRecord().data.name;var c=r.substring(0,10);a[4].items.items[0].setText(c)}else {d.removeFilter('filterByLocation')}if(!Ext.isEmpty(g)&&g!='All'){d.filter({property:'ddo_department_id',id:'filterByDepartment',anyMatch:!0,caseSensitie:!1,value:g},g,!1);a[5].show();var q=this.getReferences().deptcomboref.getSelectedRecord().data.name;var c=q.substring(0,10);a[5].items.items[0].setText(c)}else {d.removeFilter('filterByDepartment')}if(!Ext.isEmpty(j)&&j!='All'){var l=j,k=p;d.filter({id:'filterByExperience',filterFn:function(a){minExpVal=a.data.minworkexperience,maxExpVal=a.data.maxworkexperience;if(minExpVal==l&&maxExpVal==k){return !0}else {return !1}}});a[5].show();var x=l+'-'+k+' Exp.Years';var c=x.substring(0,13);a[5].items.items[0].setText(c)}if(!Ext.isEmpty(b)&&b!='All'){var h=null;if(b=='Past 24 HR'){h=1}if(b=='Past Week'){h=7}if(b=='Custom Range'){var i=this.getReferences().customDateRef.value;if(i!=null||i!=undefined){var y=24*60*60*1000;var t=new Date(i);var s=new Date();h=Math.round(Math.abs((t.getTime()-s.getTime())/y))}else {return}}d.filter({property:'jobupdateddate',id:'filterByDate',anyMatch:!0,caseSensitie:!1,value:b,filterFn:function(a){var b=new Date();var c=new Date(b.getTime()-h*24*60*60*1000);return new Date(a.data.jobupdateddate)>=c&&new Date(a.data.jobupdateddate)<=new Date()}},b,!1);a[3].show();if(b!='Custom Range'){var c=b.substring(0,10)}else {var o=Ext.Date.format(new Date(this.getReferences().customDateRef.value),'d/m/y'),c=o.substring(0,10)}a[3].items.items[0].setText(c)}else {d.removeFilter('filterByDate')}z.close();var n=Ext.ComponentQuery.query('[reference = jobappliedstatuscomboref]')[0];n.getStore().clearFilter()},onFilterDateSelect:function(a,c,d){var e=a.getStore(),b=a.getSelection().data.name;if(b=='Custom Range'){this.getReferences().customDateRef.show()}else {this.getReferences().customDateRef.hide()}},onMinValueSelect:function(c,f,e){var d=Ext.ComponentQuery.query('[reference = jaFiltersForm]')[0],a=d.getValues().maxworkexperience,b=c.value;if(a!=''&&b>=parseInt(a)){Utility.topAlertMessage('WARNING','Please Enter value less than maxExp value');c.setValue(null)}else {return b}},onMaxValueSelect:function(c,f,e){var d=Ext.ComponentQuery.query('[reference = jaFiltersForm]')[0],b=d.getValues().minworkexperience,a=c.value;if(b!=''&&a<parseInt(b)){Utility.topAlertMessage('WARNING','Please Enter value more than minExp value');c.setValue(null)}else {return a}}});Ext.define('JobOpenings.view.jobapplications.filtertoolbar.JobApplicationsAppliedFilterComboboxes',{extend:'Ext.form.Panel',xtype:'jobapplicationsappliedfiltercomboboxes',requires:['JobOpenings.store.filtertoolbar.JobOpeningsDateStore','JobOpenings.store.form.LocationStore','JobOpenings.view.jobapplications.filtertoolbar.JobApplicationsAppliedFilterController','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel'],viewModel:'filterviewmodel',controller:'jobapplicationsappliedfiltercontroller',reference:'jaFiltersForm',layout:'column',items:[{columnWidth:0.5,items:[{layout:{type:'vbox'},items:[{xtype:'combobox',reference:'filterdate',name:'filterDateName',labelAlign:'top',fieldLabel:'Filter by Date',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),margin:'10 0 0 90',cls:'requestCombo-cls',queryMode:'local',displayField:'name',valueField:'name',value:'All',editable:!1,store:Ext.create('JobOpenings.store.filtertoolbar.JobOpeningsDateStore'),autoLoadOnValue:!0,listeners:{select:'onFilterDateSelect'}},{items:[{xtype:'fieldcontainer',fieldLabel:'Filter by Experience',cls:'fieldcontainer-cls',labelWidth:100,layout:'hbox',msgTarget:'side',labelAlign:'top',margin:'10 0 0 90',labelStyle:'text-align:right;',items:[{xtype:'numberfield',emptyText:'Min',cls:'requestCombo-cls',emptyCls:'referrals-empty-text',reference:'fminref',name:'minworkexperience',minValue:0,width:65,enableKeyEvents:!0,mouseWheelEnabled:!1,listeners:{blur:'onMinValueSelect'}},{xtype:'label',text:'To',margin:'10 10'},{xtype:'numberfield',emptyText:'Max',emptyCls:'referrals-empty-text',cls:'requestCombo-cls',allowBlank:!1,mouseWheelEnabled:!1,reference:'fmaxref',minValue:0,enableKeyEvents:!0,name:'maxworkexperience',width:65,listeners:{blur:'onMaxValueSelect'}}]}]}]}]},{columnWidth:0.5,items:[{layout:{type:'vbox'},items:[{fieldLabel:'Custom Date',labelAlign:'top',xtype:'datefield',cls:'requestCombo-cls',name:'filterCustomDate',reference:'customDateRef',margin:'10 90 0 0',editable:!1,allowBlank:!1,maxValue:new Date(),hidden:!0},{xtype:'combobox',labelAlign:'top',cls:'requestCombo-cls',name:'filterlocation',reference:'filtercomboref',fieldLabel:'Filter by Location',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),margin:'10 90 0 0',queryMode:'local',displayField:'name',valueField:'ddo_joblocation_id',value:'All',editable:!1,autoLoadOnValue:!0}]}]}],dockedItems:[{xtype:'toolbar',width:'100%',margin:'0 0 30 0',dock:'bottom',items:[{xtype:'tbfill'},{xtype:'button',text:'Apply',width:150,cls:'filter-submit-btn',listeners:{click:'onApplyBtnClick'}},{xtype:'tbfill'}]}]});Ext.define('JobOpenings.view.jobapplications.filtertoolbar.JobApplicationsAppliedAddfilterWindow',{extend:'Ext.window.Window',xtype:'jobapplicationsappliedaddfilterwindow',requires:['JobOpenings.view.jobapplications.filtertoolbar.JobApplicationsAppliedFilterComboboxes'],title:'Add Filter',modal:!0,minHeight:200,maxHeight:300,width:620,margin:'5 50 0 0',layout:{type:'fit'},closeAction:'hide',reference:'filterapplicationwinref',resizable:!1,cls:'ddo-filter-window',title:'Add Filters',initComponent:function(){var a=this;a.callParent(arguments);a.mon(Ext.getBody(),'click',function(b,c){a.close(a.closeAction)},a,{delegate:'.x-mask'})},items:[{xtype:'jobapplicationsappliedfiltercomboboxes'}]});Ext.define('JobOpenings.view.jobopeningrequest.JobOpenFormController',{extend:'Ext.app.ViewController',alias:'controller.jobopenformcontroller',requires:[],onContainerClick:function(b,c,d){x=b.all.elements;for(var a=0;a<x.length-2;a++){y=x[a].lastChild.lastChild.firstChild.lastChild;z=x[a].lastChild.lastChild.lastChild.lastChild;if(y.className=='act-showcls'||z.className=='act-showcls'){y.classList.remove('act-showcls');y.classList.add('act-removecls');z.classList.remove('act-showcls');z.classList.add('act-removecls')}}},onDepartmentRender:function(a,c){var b=a.getStore()},onSkillRender:function(a,c){var b=a.getStore('JobOpenings.store.form.SkillsStore')},onJobLocationRender:function(a,c){var b=a.getStore('JobOpenings.store.form.LocationStore')},onInterviewRender:function(a,c){var b=a.getStore()},onMinValueSelect:function(b,f,e){var d=this.getReferences().jobform,c=d.getValues().maxworkexperience,a=b.value;if(c!=''&&a>=parseInt(c)){Utility.topAlertMessage('WARNING','Please Enter value less than maxExp value');b.setValue(null)}else {if(a<0){Utility.topAlertMessage('WARNING','Please Enter positive numbers only');b.setValue(null)}else {return a}}},onMaxValueSelect:function(b,f,e){var d=this.getReferences().jobform,c=d.getValues().minworkexperience,a=b.value;if(c!=''&&a<parseInt(c)){Utility.topAlertMessage('WARNING','Please Enter value more than minExp value');b.setValue(null)}else {if(a<0){Utility.topAlertMessage('WARNING','Please Enter positive numbers only');b.setValue(null)}else {return a}}},onFormSaveClick:function(c,d,b){var a=2;this.jobCreation(a)},onDraftSaveClick:function(){var a=3;this.jobCreation(a)},jobCreation:function(g){var f=this.getReferences().listview;viewId=f.getId();var f=this.getView(),e=f.down('form').getForm(),a=e.getValues(),m=this.getReferences().jobdataview,p=m.getStore();noLineBreakValue=a.job_desc.replace(/(\r\n|\n|\r)/gm,' '),trimValue=noLineBreakValue.replace(/\s\s+/g,' ').trim();var n=trimValue;var l=a.title.split("'").join('&apos;');var d=this.getReferences().jobworkcheckboxref,q=d.isChecked();if(d.value==!1){d.value='N'}else {d.value='Y'}var b={ddo_joblocation_id:a.ddo_joblocation_id,title:l,description:n,minsalary:a.minsalary,maxsalary:a.maxsalary,ddo_jobopeningstatus_id:g,noofpositions:a.noofpositions,minworkexperience:a.minworkexperience,maxworkexperience:a.maxworkexperience,skill_ids:a.skill_ids,ddo_projects_clients_id:a.ddo_projects_clients_id,interviewers_ids:a.interviewers_ids,closuredate:a.closuredate,work_on_priority:d.value};console.log('params',b);if(a.description==''){Utility.topAlertMessage('WARNING','Please Fill  Description Field')}else {var j=Api.URL.jobopenings.CREATE,i='POST';if(a.ddo_jobopening_id!=''){j=Api.URL.jobopenings.UPDATE;var h=a.ddo_jobopening_id,i='PUT';b['ddo_jobopening_id']=h;var k=[],o=e.getFields().items;var c={};Ext.each(o,function(a){if(a.isDirty()){k.push(a);c[a.name]=a.getValue()}});console.log('formValues',c);if(e.isDirty()){c['ddo_jobopening_id']=h;c['work_on_priority']=d.value;c['ddo_jobopeningstatus_id']=g;b=c}else {b=b}}Ext.Ajax.request({url:j,method:i,scope:this,params:b,success:function(a,e){this.resetForm();p.add(b);var d=Ext.decode(a.responseText);var c=d.message;Ext.Msg.alert('success',c);this.getView().getLayout().setActiveItem(viewId);this.getJobOpeningViewRefresh()},failure:function(b,c){var a=Ext.decode(b.responseText);Ext.toast(a.message,!1,'t')}})}},onBackClick:function(f){var e=this.getReferences().listview;viewId=e.getId();var d=this.getReferences().jobform.form;skillcombo=this.getReferences().jobform.items.items['0'].items.items[6],interview_combo=this.getReferences().jobform.items.items['0'].items.items[8];interview_combo.collapse();skillcombo.collapse();if(d.isValid()==!0){Ext.Msg.confirm('Confirm','Are you sure you want to go back?',function(a){if(a==='no'){}else {if(a==='yes'){this.getView().getLayout().setActiveItem(viewId);this.getJobOpeningViewRefresh()}}},this)}else {this.getView().getLayout().setActiveItem(viewId);this.getJobOpeningViewRefresh()}var c=Ext.ComponentQuery.query('jobopeningsfilterview'),b=c[0].items.items;b[3].hide();b[4].hide();b[5].hide();var a=Ext.ComponentQuery.query('jobopeningsrequestlistview')[0].down('dataview').getStore();a.removeFilter('filterByLocation');a.removeFilter('filterByDepartment');a.removeFilter('filterByDate')},getJobOpeningViewRefresh:function(){var b=this.getReferences().jobdataview;var c=this.getReferences().filterview.down('textfield');var a=this.getReferences().filterview.down('combobox');c.setValue('');a.setValue('All');b.getStore().clearFilter();a.getStore().clearFilter();b.refresh()},hideCombobox:function(i,j,h){var b=Ext.ComponentQuery.query('jobopeningsfilterview'),e=b[0].items.items;var d=Ext.ComponentQuery.query('jobopeningsrequestlistview')[0].down('dataview').getStore();if(Ext.ComponentQuery.query('[reference = filterwinref]')[0]==undefined){Ext.create('JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsRequestAddfilterWindow').show()}else {var a=Ext.ComponentQuery.query('[reference = filterwinref]')[0];a.show();var c=a.down('form'),f=c.getValues(),g=this.getViewModel()}},onCreateNewJob:function(){var a=this.getReferences().jobform,b=a.getId();this.getView().getLayout().setActiveItem(b).reset();a.reset()},onJobOpeningClick:function(v,a,d,t,b,w){x=v.all.elements;for(var c=0;c<x.length-2;c++){y=x[c].lastChild.lastChild.firstChild.lastChild;z=x[c].lastChild.lastChild.lastChild.lastChild;if(t!=c){if(y.className=='act-showcls'||z.className=='act-showcls'){y.classList.remove('act-showcls');y.classList.add('act-removecls');z.classList.remove('act-showcls');z.classList.add('act-removecls')}}}if(b.target.className=='rec-assigncls'){if(b.target.lastChild.classList.value!=='act-showcls'){d.children[1].children[1].children[0].children[1].className='act-showcls'}else {d.children[1].children[1].children[0].children[1].className='act-removecls'}d.children[1].children[1].lastChild.lastChild.className='act-removecls';var e=a.data.job_status_name;if(e=='Closed'||e=='Drafted'||e=='Rejected'){d.children[1].children[1].children[0].children[1].children[0].className='assignto-disabledCls'}}else {if(b.target.classList[2]=='assign-arrow'){if(b.target.parentElement.lastChild.classList.value!=='act-showcls'){d.children[1].children[1].children[0].children[1].className='act-showcls'}else {d.children[1].children[1].children[0].children[1].className='act-removecls'}d.children[1].children[1].lastChild.lastChild.className='act-removecls';var e=a.data.job_status_name;if(e=='Closed'||e=='Drafted'||e=='Rejected'){d.children[1].children[1].children[0].children[1].children[0].className='assignto-disabledCls'}}}if(b.target.lastChild!=null&&b.target.className=='act-cls'){if(b.target.lastChild.classList.value!=='act-showcls'){d.children[1].children[1].children[2].children[1].className='act-showcls'}else {d.children[1].children[1].children[2].children[1].className='act-removecls'}d.children[1].children[1].children[0].lastChild.className='act-removecls'}if(b.target.classList[2]=='act-arrow'){if(b.target.parentElement.lastChild.classList.value!=='act-showcls'){d.children[1].children[1].children[2].children[1].className='act-showcls'}else {d.children[1].children[1].children[2].children[1].className='act-removecls'}d.children[1].children[1].children[0].lastChild.className='act-removecls'}if(b.target.classList.value=='checkImg'){var j=Ext.getStore('jobopenings.JobRecruiter');var l=j.data.items.length,g=[];if(a.data.recruiter_id!=null){var s=a.data.recruiter_id,p=JSON.parse('['+s+']');g=p}for(var c=0;c<l;c++){var i=j.data.items;if(i[c].data.recruiter_name==b.target.parentElement.className){b.target.className='uncheckImg';b.target.classList.remove('checkImg');i[c].data.isChecked=!0;g.push(i[c].data.ddo_employee_id)}}j.getProxy().extraParams={recruiter_id:g.join()};var o=g.join();var f=a.data.ddo_jobopening_id;var h=a.data.ddo_jobopeningstatus_id;var m=a.data.job_desc;params={ddo_jobopening_id:f,recruiter_id:o,description:m};this.updateRecruitersData(params)}else {if(b.target.classList.value=='uncheckImg'){var j=Ext.getStore('jobopenings.JobRecruiter'),f=a.data.ddo_jobopening_id,h=a.data.ddo_jobopeningstatus_id,m=a.data.job_desc;var l=j.data.items.length,g=[],A=[];for(var c=0;c<l;c++){var i=j.data.items;if(i[c].data.recruiter_name==b.target.parentElement.className){b.target.className='checkImg';b.target.classList.remove('uncheckImg');i[c].data.isChecked=!1;g.pop(i[c].data.ddo_employee_id)}}console.log(g);params={ddo_jobopening_id:f,recruiter_id:g.join(),description:m};console.log(params.recruiter_id);this.updateRecruitersData(params)}}if(b.target.innerText=='Close'||b.target.innerText=='Approve'||b.target.innerText=='Reject'){var f=a.data.ddo_jobopening_id;var h=a.data.ddo_jobopeningstatus_id;var e='Closed';params={ddo_jobopening_id:f,ddo_jobopeningstatus_id:h,status:e};if(b.target.innerText=='Approve'){var f=a.data.ddo_jobopening_id;var h=a.data.ddo_jobopeningstatus_id;var e='Approved';params={ddo_jobopening_id:f,ddo_jobopeningstatus_id:h,status:e}}else {if(b.target.innerText=='Reject'){var f=a.data.ddo_jobopening_id;var h=a.data.ddo_jobopeningstatus_id;var e='Rejected';params={ddo_jobopening_id:f,ddo_jobopeningstatus_id:h,status:e}}}Ext.Ajax.request({url:Api.URL.jobstatus.UPDATE,method:'PUT',scope:this,params:params,success:function(c){var e=Ext.decode(c.responseText);var f=this.getView().down('jobopeningsrequestlistview')}})}else {if(b.target.innerText=='Edit'){var k=this.getReferences().jobform,n=k.getId();this.getView().getLayout().setActiveItem(n);var f=a.data.ddo_jobopening_id;a.data.title=a.data.title.split('&apos;').join("'");this.loadRecord(a);var q=this.getReferences().jobdataview;q.refresh();var r=k.getForm().getFields();setTimeout(function(){Ext.each(r.items,function(c){c.dirty=!1;c.wasDirty=!1})},1000)}else {if(b.target.innerText=='Delete'){Ext.Msg.confirm('Confirm','Are you sure you want to delete this Job?',function(e){if(e==='no'){}else {if(e==='yes'){var c=!1;if(a.data.ddo_jobopeningstatus_id==2||a.data.ddo_jobopeningstatus_id==3||a.data.ddo_jobopeningstatus_id==4||a.data.ddo_jobopeningstatus_id==5){c=!0}else {if(a.data.ddo_jobopeningstatus_id==1){c=!1;Ext.Msg.alert('success','Please Close the Job Opening Instead!')}else {c=!1}}if(c){var f=a.data.ddo_jobopening_id;params={ddo_jobopening_id:f};Ext.Ajax.request({url:Api.URL.jobopenings.DELETE,method:'DELETE',scope:this,params:params,success:function(f){var g=Ext.decode(f.responseText);var c=this.getReferences().jobdataview;c.refresh()}})}}}},this)}}}if(b.target.className=='title-cls'){var k=this.getReferences().jobOpeningsFormDataViewModeRef,n=k.getId();this.getView().getLayout().setActiveItem(2);var u={titleView:a.data.title.split('&apos;').join("'"),ddo_department_idView:a.data.department_name,job_descView:Ext.util.Format.stripTags(a.data.description.replace(/<div>/g,'\n<div>')),noofpositionsView:a.data.noofpositions.toString(),minsalary:a.data.minsalary,maxsalary:a.data.maxsalary,closuredateView:a.data.closuredate,work_on_priorityView:a.data.work_on_priority,ddo_projects_clients_id:a.data.ddo_projects_clients_id,minworkexperienceView:a.data.minworkexperience.toString(),maxworkexperienceView:a.data.maxworkexperience.toString(),skill_idsView:a.data.skillnames.join(', '),ddo_joblocation_idView:a.data.location_name,interviewers_idsView:a.data.interviewersnames.join(', ')};k.getForm().setValues(u)}},updateRecruitersData:function(a){Ext.Ajax.request({url:Api.URL.jobopenings.UPDATE,method:'PUT',scope:this,params:a,success:function(b){var c=Ext.decode(b.responseText);var d=this.getView().down('jobopeningsrequestlistview')},failure:function(c,d){var b=Ext.decode(c.responseText);Ext.toast(b.message,!1,'t')}})},onKeyUpJobSearch:function(a,c,b){this.searchJob(this.getReferences().filterview.down('textfield'),this.getReferences().filterview.down('combobox'))},onStatusSelectionFilter:function(a,b,c){this.searchJob(this.getReferences().filterview.down('textfield'),this.getReferences().filterview.down('combobox'))},searchJob:function(e,a){var d=e.value,f=this.getReferences().jobdataview,b=f.getStore();if(a.value!=null&&a.value!='All'&&a.rawValue!='All'){var c=a.getSelectedRecord().data.ddo_jobopeningstatus_id}else {if(a.value=='All'||a.rawValue=='All'){var c=null}else {var c=a.getValue()}}if(b){if(!Ext.isEmpty(c)){b.filter({property:'ddo_jobopeningstatus_id',id:'ddo_jobopeningstatus_id',anyMatch:!0,caseSensitie:!1,value:c},c,!1)}else {b.removeFilter('ddo_jobopeningstatus_id')}if(!Ext.isEmpty(d)){b.filter({property:'title',id:'title',anyMatch:!0,caseSensitie:!1,value:d},d,!1)}else {b.removeFilter('title')}}},loadRecord:function(a){this._record=a;return this.setValues(a.getData())},setValues:function(a){var e=this.getReferences().jobopenform,b,d,c;function setVal(d,c){var b=e.getForm().findField(d);if(b){if(b.name=='closuredate'){b.setValue(new Date(c))}else {b.setValue(c)}if(e.trackResetOnLoad){b.resetOriginalValue()}}}Ext.suspendLayouts();if(Ext.isArray(a)){d=a.length;for(b=0;b<d;b++){c=a[b];setVal(c.id,c.value)}}else {Ext.iterate(a,setVal)}Ext.resumeLayouts(!0);return this},resetForm:function(){Ext.suspendLayouts();var b=this.getReferences().jobopenform;var a=b.getForm().getFields().items;Ext.each(a,function(b){b.value='';b.originalValue='';var c=a[3],d=a[2].rawValue;if(c.isDirty()==!0||d=='Not Found'){c.setValue('')}b.resetToInitialValue()});Ext.resumeLayouts(!0)},onCloseFilterClk:function(d){var b=d.reference.split('Cancel')[0],c=this.getViewModel();var a=Ext.ComponentQuery.query('jobopeningsfilterview')[0].items.items;a.forEach(function(g,a){if(a==3||a==4||a==5){if(g.items.items[0].reference==b){g.hide();var f=a==4?'filterByLocation':a==5?'filterByDepartment':'filterByDate';var k=Ext.ComponentQuery.query('jobopeningsrequestlistview')[0].down('dataview');var i=Ext.ComponentQuery.query('jobopeningsrequestlistview')[0];var j=i.getViewModel().getStore('jobOpeningDataViewStore');j.removeFilter(f);c.set('filtervalue',f);var h=Ext.ComponentQuery.query('[reference = filterwinref]')[0];var e=h.down('form');if(a==4){e.getForm().findField('filterlocation').setValue('All')}else {if(a==5){e.getForm().findField('filterdepartment').setValue('All')}else {if(a==3){e.getForm().findField('filterDateName').setValue('All')}}}}}})},onNoofPositeionsEnter:function(a,d,c){if(a.value<0){var b='Please enter positive numbers only';Ext.Msg.alert('Warning',b);a.reset()}},onKeyDownDate:function(a,c,b){Utility.onDateField(a,c,b)}});Ext.define('JobOpenings.view.jobopeningrequest.JobOpenFormViewModel',{extend:'Ext.app.ViewModel',alias:'viewmodel.jobopenformviewmodel'});Ext.define('JobOpenings.view.jobopeningrequest.JobOpeningsFormDataViewMode',{extend:'Ext.form.Panel',xtype:'jobOpeningsFormDataViewMode',cls:'form-cls',reference:'jobOpeningsFormDataViewModeRef',dockedItems:[{xtype:'toolbar',cls:'tooltip-cls',dock:'top',items:[{xtype:'button',scale:'medium',iconCls:'goalsbackbtn-cls',cls:'jobback-btn-cls',style:{border:0},listeners:{click:'onBackClick'}},{xtype:'label',html:'Create New Job Opening',cls:'backlabel-cls'}]}],items:[{xtype:'form',title:'Requirement Details',cls:'job-header',reference:'jobopenformViewRef',layout:{type:'vbox',align:'middle',pack:'center'},border:!1,buttonAlign:'center',defaults:{width:'70%',labelAlign:'right',labelWidth:180,padding:5,labelStyle:'font-size:16px;'},items:[{xtype:'textfield',name:'titleView',readOnly:!0,fieldLabel:'Job Title:',afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{xtype:'textarea',readOnly:!0,name:'job_descView',fieldLabel:'Job Description',height:135,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{items:[{xtype:'fieldcontainer',fieldLabel:'Salary Range',cls:'fieldcontainer-cls',labelStyle:'font-size:16px;',labelAlign:'right',labelWidth:178,layout:'hbox',items:[{xtype:'textfield',flex:1,name:'minsalary',width:100,readOnly:!0},{xtype:'label',text:'To',margin:'10 10'},{xtype:'textfield',flex:1,name:'maxsalary',width:100,readOnly:!0},{xtype:'label',text:'Lacs',margin:'10 10'}]}]},{items:[{xtype:'fieldcontainer',fieldLabel:'No. of Positions',cls:'fieldcontainer-cls',labelWidth:178,width:700,layout:'hbox',afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',msgTarget:'side',labelAlign:'right',labelStyle:'font-size:16px;',items:[{xtype:'textfield',readOnly:!0,name:'noofpositionsView',positionlabel:'positionlabel-cls',width:80,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{xtype:'textfield',readOnly:!0,name:'closuredateView',width:250,labelAlign:'right',cls:['closuredatecls','closuredatecls1'],labelStyle:'font-size:15px;width:170px;padding-right:5px',fieldLabel:'Expected Closure Date',afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{xtype:'checkbox',boxLabel:'Work on Priority',name:'work_on_priorityView',inputValue:'Y',width:250,checked:!1,readOnly:!0,cls:['workprioritycls','workprioritycls1'],labelAlign:'right',labelStyle:'font-size:16px;'}]}]},{items:[{xtype:'fieldcontainer',fieldLabel:'Work Experience',cls:'fieldcontainer-cls',labelWidth:100,layout:'hbox',afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>',msgTarget:'side',labelAlign:'right',labelWidth:178,labelStyle:'font-size:16px;',items:[{xtype:'textfield',readOnly:!0,name:'minworkexperienceView'},{xtype:'label',text:'To',margin:'10 10'},{xtype:'textfield',readOnly:!0,name:'maxworkexperienceView',width:'50'}]}]},{xtype:'textfield',readOnly:!0,fieldLabel:'Skills',name:'skill_idsView',border:5,afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{xtype:'textfield',readOnly:!0,name:'ddo_joblocation_idView',fieldLabel:'Job Location',afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'},{xtype:'textfield',readOnly:!0,name:'ddo_projects_clients_id',fieldLabel:'Client',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',readOnly:!0,cls:'tag-cls',name:'interviewers_idsView',fieldLabel:'Interview Panel',afterLabelTextTpl:'<span class="ta-mandatory-field-cls">*</span>'}]}]});Ext.define('JobOpenings.view.jobopeningrequest.JobOpeningsRequestListView',{extend:'Ext.container.Container',xtype:'jobopeningsrequestlistview',requires:['JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsFilterView','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel'],cls:'jobopening-cls noscrollbar',reference:'listview',viewModel:{type:'filterviewmodel'},items:[{xtype:'container',html:'<div class="jobtitle-cls">Job Opening Requests</div>'},{xtype:'jobopeningsfilterview'},{xtype:'dataview',reference:'jobdataview',cls:'jobdataviewcls',emptyText:'<div class="projects-emptytext-cls">No Jobs available</div>',itemTpl:['<div class="jobOpenFormView">','<div class="jobsdiv-cls ddo-jobopening-item">','<div class="title-div-cls" data-qtip="{title}-{department_name}"><span class="title-cls">{[this.showTitle(values,15)]}</span>','<span> | </span>','<span class="creator-cls" data-qtip="{firstname}">Created by {[this.showName(values,8)]}</span>','{[this.workOnPriorityShow(values)]}','<div class="positions-cls">( {noofpositions} ) Positions</div>','</div>','<div class="loc-exp"><span><i class="exp-iconcls arrow-cls"></i>&nbsp{minworkexperience} - {maxworkexperience} Years Experience </span>','<span><i class="location-iconcls arrow-cls"></i>&nbsp{location_name}</span>','</div>','<div class="skill-cls"><i class="skill-iconcls arrow-cls"></i>{[this.getSkillNames(values)]}</div>','<div class="desc-cls">{[this.showDescription(values,100)]}</div>','</div>','<div class="status-div-cls"><div class="status-textcls">Status: <span class="{job_status_name}">{job_status_name}</span></div>','<div class="status-combo-cls">{[this.listRecruiter(values)]}','<span> | </span>','<div class="act-cls">Actions <i class="x-fa fa-sort-desc act-arrow arrow-cls"></i>','<div class="act-removecls">{[this.getActions(values)]}','</div></div>','</div>','</div>','</div>',{getActions:function(f){var g=Ext.ComponentQuery.query('mainviewport')[0],b=g.getViewModel(),h=b.data.showAction,c=f.job_status_name,e=f.count;var a=[],d=Ext.getStore('jobopenings.JobopeningsActions');if(d){d.each(function(d){var g=d.get('action_name');if(b.get('editAction')==!0&&g=='Edit'){a.push('<li>'+d.get('action_name')+'</li>')}if(b.get('deleteAction')==!0&&g=='Delete'){if(c=='Awaiting Approval'||c=='Drafted'){a.push('<li>'+d.get('action_name')+'</li>')}else {if(c=='Rejected'&&e==0||c=='Closed'&&e==0){a.push('<li>'+d.get('action_name')+'</li>')}}}if(b.get('closeAction')==!0&&g=='Close'){a.push('<li>'+d.get('action_name')+'</li>')}if(b.get('approveAction')==!0&&g=='Approve'){a.push('<li>'+d.get('action_name')+'</li>')}if(b.get('rejectAction')==!0&&g=='Reject'){a.push('<li>'+d.get('action_name')+'</li>')}})}return '<ul>'+a.toString().replace(/,/g,'')+'</ul>'},listRecruiter:function(a){var b=[],c=Ext.getStore('jobopenings.JobRecruiter');if(c){c.each(function(c){var e=a.recruiter_id,d=JSON.parse('['+a.recruiter_id+']');if(a.recruiter_id!=null&&d[d.indexOf(c.data.ddo_employee_id)]==c.data.ddo_employee_id||c.data.isChecked==!0){b.push('<li class="'+c.get('recruiter_name')+'"></span><i class="uncheckImg"></i>'+c.get('recruiter_name')+'</li>')}else {b.push('<li  class="'+c.get('recruiter_name')+'"></span><i class="checkImg"></i>'+c.get('recruiter_name')+'</li>')}})}var d=a.isAssignVisible?'act-showcls':'act-removecls';return '<div class="rec-assigncls">Assign To <i class="x-fa fa-sort-desc assign-arrow arrow-cls"></i><div class="'+d+'"><ul>'+b.toString().replace(/,/g,'')+'</ul></div></div>'},showDescription:function(b,c){var a=b.job_desc;if(a.length>=c){return '<div style="text-overflow: ellipsis; white-space: nowrap; overflow: hidden; width:411px; height: 36px;">'+a+'</div>'}else {return a}},showTitle:function(b,c){var a=b.title;if(a.length>=c){return a.substring(0,17)+'...'}else {return a}},showName:function(b,c){var a=b.firstname;if(a.length>=c){return a.substring(0,8)+'...'}else {return a}},getSkillNames:function(c){var a=c.skillnames,b=a.toString();return b},workOnPriorityShow:function(a){if(a.work_on_priority=='Y'){return '<div class="create-jobapplication-starbtn-cls"><span><i class="star-cls arrow-cls"></i></span></div>'}else {return ''}}}],itemSelector:'div.jobOpenFormView',listeners:{itemclick:'onJobOpeningClick',containerClick:'onContainerClick'}}]});Ext.define('JobOpenings.view.jobopeningrequest.JobOpeningsViewForm',{extend:'Ext.form.Panel',alias:'widget.jobopeningsviewform',xtype:'jobopeningsviewform',cls:'form-cls',reference:'jobform',dockedItems:[{xtype:'toolbar',cls:'tooltip-cls',dock:'top',items:[{xtype:'button',scale:'medium',iconCls:'goalsbackbtn-cls',cls:'jobback-btn-cls',style:{border:0},listeners:{click:'onBackClick'}},{xtype:'label',html:'Create New Job Opening',cls:'backlabel-cls'}]}],items:[{xtype:'form',title:'Requirement Details',cls:'job-header',reference:'jobopenform',layout:{type:'vbox',align:'middle',pack:'center'},border:!1,buttonAlign:'center',defaults:{width:'70%',labelAlign:'right',labelWidth:180,padding:5,labelStyle:'font-size:16px;'},items:[{xtype:'hiddenfield',name:'ddo_jobopening_id'},{xtype:'textfield',name:'title',required:!0,reference:'jobtitleref',fieldLabel:'Job Title:',emptyText:'Write Job Title Eg: Technical Lead',emptyCls:'referrals-empty-text',allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',bind:{value:'title'}},{xtype:'htmleditor',cls:'editor-cls',name:'job_desc',reference:'editorref',fieldLabel:'Job Description',id:'myEditor',submitEmptyText:!1,required:!0,enableFont:!1,enableLists:!1,enableLinks:!0,enableAlignments:!0,enableSourceEdit:!1,enableColors:!1,enableFontSize:!1,allowBlank:!1,isValid:function(){var a=this.getValue();if(a){return !0}else {return !1}},border:1,labelCls:'html-editor-label',validateOnChange:!0,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{items:[{xtype:'fieldcontainer',fieldLabel:'Salary Range',cls:'fieldcontainer-cls',labelStyle:'font-size:16px;',labelAlign:'right',labelWidth:178,layout:'hbox',items:[{xtype:'textfield',flex:1,emptyCls:'referrals-empty-text',emptyText:'0',name:'minsalary',minLength:0,maxLength:5,width:100,enforceMaxLength:!0,maskRe:/^[0-9]*$/},{xtype:'label',text:'To',margin:'10 10'},{xtype:'textfield',flex:1,emptyCls:'referrals-empty-text',emptyText:'0',name:'maxsalary',minLength:0,maxLength:5,width:100,enforceMaxLength:!0,maskRe:/^[0-9]*$/},{xtype:'label',text:'Lacs',margin:'10 10'}]}]},{items:[{xtype:'fieldcontainer',fieldLabel:'No. of Positions',cls:'fieldcontainer-cls',allowBlank:!1,labelWidth:178,width:700,layout:'hbox',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',msgTarget:'side',labelAlign:'right',labelStyle:'font-size:16px;',items:[{xtype:'numberfield',name:'noofpositions',reference:'positionref',positionlabel:'positionlabel-cls',allowBlank:!1,maskRe:/^[0-9]*$/,width:80,minValue:1,value:0,enableKeyEvents:!0,invalidText:'Please enter valid data',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',listeners:{focusleave:'onNoofPositeionsEnter'}},{xtype:'datefield',editable:!0,required:!0,name:'closuredate',width:250,labelAlign:'right',format:'d-m-Y',submitFormat:'Y-m-d',maskRe:/[0-9\-\/]/,allowBlank:!1,cls:['closuredatecls','closuredatecls1'],labelStyle:'font-size:15px;width:170px;padding-right:5px',fieldLabel:'Expected Closure Date',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',minValue:new Date(),createPicker:function(){var a=this,b=Ext.String.format;return Ext.create('Ext.picker.Date',{pickerField:a,ownerCt:a.ownerCt,renderTo:document.body,floating:!0,hidden:!0,focusOnShow:!0,cls:'ddo-create-datepicker',minDate:a.minValue,maxDate:a.maxValue,disabledDatesRE:a.disabledDatesRE,disabledDatesText:a.disabledDatesText,disabledDays:a.disabledDays,disabledDaysText:a.disabledDaysText,format:a.format,showToday:a.showToday,startDay:a.startDay,minText:b(a.minText,a.formatDate(a.minValue)),maxText:b(a.maxText,a.formatDate(a.maxValue)),listeners:{scope:a,select:a.onSelect},keyNavConfig:{esc:function(){a.collapse()}}})},listeners:{focusleave:'onKeyDownDate'}},{xtype:'checkbox',boxLabel:'Work on Priority',name:'work_on_priority',inputValue:'Y',width:250,checked:!1,cls:['workprioritycls','workprioritycls1'],labelAlign:'right',labelStyle:'font-size:16px;',reference:'jobworkcheckboxref'}]}]},{items:[{xtype:'fieldcontainer',fieldLabel:'Work Experience',cls:'fieldcontainer-cls',allowBlank:!1,labelWidth:100,layout:'hbox',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',msgTarget:'side',labelAlign:'right',labelWidth:178,labelStyle:'font-size:16px;',items:[{xtype:'numberfield',emptyText:'Minimum',emptyCls:'referrals-empty-text',reference:'minref',name:'minworkexperience',minValue:0,enableKeyEvents:!0,allowBlank:!1,mouseWheelEnabled:!1,listeners:{blur:'onMinValueSelect'}},{xtype:'label',text:'To',margin:'10 10'},{xtype:'numberfield',emptyText:'Maximum',emptyCls:'referrals-empty-text',allowBlank:!1,mouseWheelEnabled:!1,reference:'maxref',minValue:0,enableKeyEvents:!0,name:'maxworkexperience',width:'50',listeners:{blur:'onMaxValueSelect'}}]}]},{xtype:'tagfield',fieldLabel:'Skills',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),name:'skill_ids',hideTrigger:!0,reference:'skillref',emptyText:'Use Words Eg : Angular JS',emptyCls:'referrals-empty-text1',displayField:'name',valueField:'ddo_skills_id',queryMode:'local',forceSelection:!1,maskRe:/^[A-Za-z0-9]*$/,autoShow:!0,selectOnTab:!0,tabIndex:1,filterPickList:!0,blankText:'This field is required',border:5,collapseOnSelect:!0,allowBlank:!1,clearFilterOnBlur:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',listeners:{render:'onSkillRender',select:function(a,b,c){a.inputEl.dom.value='';a.lastMutatedValue=''}}},{xtype:'combobox',name:'ddo_joblocation_id',fieldLabel:'Job Location',reference:'locationref',queryMode:'local',emptyText:'Select Location',emptyCls:'referrals-empty-text',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),editable:!1,typeAhead:!1,displayField:'name',valueField:'ddo_joblocation_id',allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',listeners:{render:'onJobLocationRender'}},{xtype:'combobox',name:'ddo_projects_clients_id',fieldLabel:'Client',reference:'clientref',queryMode:'local',emptyText:'Select Client',emptyCls:'referrals-empty-text',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),editable:!1,typeAhead:!1,displayField:'name',valueField:'ddo_projects_clients_id',afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'tagfield',cls:'tag-cls',name:'interviewers_ids',reference:'interviewref',fieldLabel:'Interview Panel',hideTrigger:!0,emptyText:'Type Users Eg : Will Smith',emptyCls:'referrals-empty-text1',displayField:'empname',valueField:'empid',queryMode:'local',forceSelection:!1,matchFieldWidth:!0,clearOnBackspace:!1,tagCustomiseMom:!0,tagMomOwnerId:'123',filterPickList:!0,typeAhead:!1,blankText:'This field is required',allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',listeners:{render:'onInterviewRender',select:function(a,b,c){a.inputEl.dom.value='';a.collapse()}}}]}],bbar:{cls:'jobform-cls',layout:{type:'hbox',align:'middle',pack:'center'},padding:'25 0 21 0',items:[{xtype:'button',text:'Save and Send for Approval',cls:['approval-btn','approval-margin'],width:200,formBind:!0,listeners:{click:'onFormSaveClick'},style:'border-radius: 4px !important; left: 335px !important;'},{xtype:'button',text:'Save Requirement',cls:'require-btn',formBind:!0,listeners:{click:'onDraftSaveClick'}}]}});Ext.define('JobOpenings.view.jobopeningrequest.JobOpeningsRequestView',{extend:'Ext.container.Container',xtype:'jobopeningsrequestview',requires:['JobOpenings.view.jobopeningrequest.JobOpeningsRequestListView','JobOpenings.view.jobopeningrequest.JobOpeningsViewForm','JobOpenings.view.jobopeningrequest.JobOpenFormController','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel','JobOpenings.view.jobopeningrequest.JobOpeningsFormDataViewMode'],layout:{type:'card',activeItem:0},reference:'jobmainview',controller:'jobopenformcontroller',viewModel:{type:'filterviewmodel'},margin:'10 0 0 10',items:[{xtype:'jobopeningsrequestlistview',id:'list'},{xtype:'jobopeningsviewform',id:'form'},{xtype:'jobOpeningsFormDataViewMode',id:'viewform'}]});Ext.define('JobOpenings.view.jobopeningrequest.filtertoolbar.FilterTagsView',{extend:'Ext.container.Container',xtype:'filtertagsview',extend:'Ext.view.View',requires:['JobOpenings.store.filtertoolbar.TagStore'],loadMask:!1,overItemCls:'ddo-interest-over',store:'JobOpenings.store.filtertoolbar.TagStore',emptyText:'<div class = "ddo-emptytext"></div>',tpl:['<tpl>','<div class = "ddo-intertesttpl">','<div class="ddo-interests">{loc_name}</div>','<tpl>','<div class="ddo-interetsts-delete" data-action="deleteLocationFilter"></div>','</tpl>','</div>','</tpl>',{}],itemSelector:'div.ddo-intertesttpl'});Ext.define('JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsFilterController',{extend:'Ext.app.ViewController',alias:'controller.jobopeningsfiltercontroller',onLocationSelect:function(a,c,d){var f=a.getStore(),b=a.getSelection().data.ddo_joblocation_id,e=b},onApplyBtnClick:function(v,x,t){var h=this.getView(),e=h.getValues().filterlocation,f=h.getValues().filterdepartment,b=h.getValues().filterDateName,u=e,p=Ext.ComponentQuery.query('jobopeningsrequestlistview'),o=p[0].down('dataview[reference="jobdataview"]'),c=o.getStore(),s=h.up('window'),w=this.getViewModel(),q=Ext.ComponentQuery.query('jobopeningsfilterview'),a=q[0].items.items;a[3].hide();a[4].hide();a[5].hide();if(!Ext.isEmpty(e)&&e!='All'){c.filter({property:'ddo_joblocation_id',id:'filterByLocation',anyMatch:!0,caseSensitie:!1,value:e},e,!1);a[4].show();var l=this.getReferences().filtercomboref.getSelectedRecord().data.name;var d=l.substring(0,10);a[4].items.items[0].setText(d)}else {c.removeFilter('filterByLocation')}if(!Ext.isEmpty(f)&&f!='All'){c.filter({property:'ddo_department_id',id:'filterByDepartment',anyMatch:!0,caseSensitie:!1,value:f},f,!1);a[5].show();var k=this.getReferences().deptcomboref.getSelectedRecord().data.name;var d=k.substring(0,10);a[5].items.items[0].setText(d)}else {c.removeFilter('filterByDepartment')}if(!Ext.isEmpty(b)&&b!='All'){var g=null;if(b=='Past 24 HR'){g=1}if(b=='Past Week'){g=7}if(b=='Custom Range'){var i=this.getReferences().customDateRef.value;if(i!=null||i!=undefined){var r=24*60*60*1000;var n=new Date(i);var m=new Date();g=Math.round(Math.abs((n.getTime()-m.getTime())/r))}else {return}}c.filter({property:'jobupdateddate',id:'filterByDate',anyMatch:!0,caseSensitie:!1,value:b,filterFn:function(a){var b=new Date();var c=new Date(b.getTime()-g*24*60*60*1000);return new Date(a.data.jobupdateddate)>=c&&new Date(a.data.jobupdateddate)<=new Date()}},b,!1);a[3].show();if(b!='Custom Range'){var d=b.substring(0,10)}else {var j=Ext.Date.format(new Date(this.getReferences().customDateRef.value),'d/m/y'),d=j.substring(0,10)}a[3].items.items[0].setText(d)}else {c.removeFilter('filterByDate')}s.close()},onFilterDateSelect:function(a,c,d){var e=a.getStore(),b=a.getSelection().data.name;if(b=='Custom Range'){this.getReferences().customDateRef.show()}else {this.getReferences().customDateRef.hide()}}});Ext.define('JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningRequestFilterComboboxes',{extend:'Ext.form.Panel',xtype:'jobopeningrequestfiltercomboboxes',requires:['JobOpenings.store.filtertoolbar.JobOpeningsDateStore','JobOpenings.store.form.LocationStore','JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsFilterController','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel'],viewModel:'filterviewmodel',controller:'jobopeningsfiltercontroller',layout:'column',items:[{columnWidth:0.5,items:[{layout:{type:'vbox'},items:[{xtype:'combobox',reference:'filterdate',name:'filterDateName',labelAlign:'top',fieldLabel:'Filter by Date',margin:'10 0 0 90',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),cls:'requestCombo-cls',queryMode:'local',displayField:'name',editable:!1,valueField:'name',value:'All',store:Ext.create('JobOpenings.store.filtertoolbar.JobOpeningsDateStore'),autoLoadOnValue:!0,listeners:{select:'onFilterDateSelect'}},{xtype:'combobox',labelAlign:'top',name:'filterdepartment',reference:'deptcomboref',fieldLabel:'Filter by Department',cls:'requestCombo-cls',editable:!1,margin:'10 0 0 90',queryMode:'local',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),displayField:'name',valueField:'ddo_department_id',value:'All',autoLoadOnValue:!0}]}]},{columnWidth:0.5,items:[{layout:{type:'vbox'},items:[{fieldLabel:'Custom Date',labelAlign:'top',xtype:'datefield',cls:'requestCombo-cls',name:'filterCustomDate',reference:'customDateRef',margin:'10 90 0 0',editable:!1,allowBlank:!1,maxValue:new Date(),hidden:!0},{xtype:'combobox',labelAlign:'top',cls:'requestCombo-cls',name:'filterlocation',reference:'filtercomboref',editable:!1,fieldLabel:'Filter by Location',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),margin:'10 90 0 0',queryMode:'local',displayField:'name',valueField:'ddo_joblocation_id',value:'All',autoLoadOnValue:!0,listeners:{select:'onLocationSelect'},bind:{store:'{locationStore}'}}]}]}],dockedItems:[{xtype:'toolbar',width:'100%',margin:'0 0 30 0',dock:'bottom',items:[{xtype:'tbfill'},{xtype:'button',text:'Apply',width:150,cls:'filter-submit-btn',listeners:{click:'onApplyBtnClick'}},{xtype:'tbfill'}]}]});Ext.define('JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsFilterViews',{extend:'Ext.panel.Panel',xtype:'jobopeningsfilterviews',requires:['JobOpenings.store.filtertoolbar.FilterbyStatus','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel'],viewModel:{type:'filterviewmodel'},reference:'filterview',layout:{type:'hbox',width:'100%'},items:[{xtype:'combobox',fieldLabel:'Status',reference:'jobstatuscomboref',queryMode:'local',displayField:'name',valueField:'id',emptyText:'All',cls:'requestCombo-cls',store:Ext.create('JobOpenings.store.filtertoolbar.FilterbyStatus'),autoLoadOnValue:!0,listeners:{select:'onStatusSelectionFilter'}}]});Ext.define('JobOpenings.view.referrals.filtertoolbar.JobReferralsFilterController',{extend:'Ext.app.ViewController',alias:'controller.jobreferralsfiltercontroller',onLocationSelect:function(a,c,d){var f=a.getStore(),b=a.getSelection().data.ddo_joblocation_id,e=b},onApplyBtnClick:function(v,x,t){var h=this.getView(),e=h.getValues().filterlocation,f=h.getValues().filterdepartment,b=h.getValues().filterDateName,u=e,p=Ext.ComponentQuery.query('jobopeningsreferralslistview'),o=p[0].down('dataview[reference="jobdataviewreferrals"]'),c=o.getStore(),s=h.up('window'),w=this.getViewModel(),q=Ext.ComponentQuery.query('jobreferralsfilterview'),a=q[0].items.items;a[3].hide();a[4].hide();a[5].hide();if(!Ext.isEmpty(e)&&e!='All'){c.filter({property:'ddo_joblocation_id',id:'filterByLocation',anyMatch:!0,caseSensitie:!1,value:e},e,!1);a[4].show();var l=this.getReferences().filtercomboref.getSelectedRecord().data.name;var d=l.substring(0,10);a[4].items.items[0].setText(d)}else {c.removeFilter('filterByLocation')}if(!Ext.isEmpty(f)&&f!='All'){c.filter({property:'ddo_department_id',id:'filterByDepartment',anyMatch:!0,caseSensitie:!1,value:f},f,!1);a[5].show();var k=this.getReferences().deptcomboref.getSelectedRecord().data.name;var d=k.substring(0,10);a[5].items.items[0].setText(d)}else {c.removeFilter('filterByDepartment')}if(!Ext.isEmpty(b)&&b!='All'){var g=null;if(b=='Past 24 HR'){g=1}if(b=='Past Week'){g=7}if(b=='Custom Range'){var i=this.getReferences().customDateRef.value;if(i!=null||i!=undefined){var r=24*60*60*1000;var n=new Date(i);var m=new Date();g=Math.round(Math.abs((n.getTime()-m.getTime())/r))}else {return}}c.filter({property:'jobupdateddate',id:'filterByDate',anyMatch:!0,caseSensitie:!1,value:b,filterFn:function(a){var b=new Date();var c=new Date(b.getTime()-g*24*60*60*1000);return new Date(a.data.jobupdateddate)>=c&&new Date(a.data.jobupdateddate)<=new Date()}},b,!1);a[3].show();if(b!='Custom Range'){var d=b.substring(0,10)}else {var j=Ext.Date.format(new Date(this.getReferences().customDateRef.value),'d/m/y'),d=j.substring(0,10)}a[3].items.items[0].setText(d)}else {c.removeFilter('filterByDate')}s.close()},onFilterDateSelect:function(a,c,d){var e=a.getStore(),b=a.getSelection().data.name;if(b=='Custom Range'){this.getReferences().customDateRef.show()}else {this.getReferences().customDateRef.hide()}}});Ext.define('JobOpenings.view.referrals.filtertoolbar.JobReferralsFilterComboboxes',{extend:'Ext.form.Panel',xtype:'jobreferralsfiltercomboboxes',requires:['JobOpenings.store.filtertoolbar.JobOpeningsDateStore','JobOpenings.store.form.LocationStore','JobOpenings.view.referrals.filtertoolbar.JobReferralsFilterController','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel'],viewModel:'filterviewmodel',controller:'jobreferralsfiltercontroller',layout:'column',items:[{columnWidth:0.5,items:[{layout:{type:'vbox'},items:[{xtype:'combobox',reference:'filterdate',name:'filterDateName',labelAlign:'top',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),fieldLabel:'Filter by Date',margin:'10 0 0 90',cls:'requestCombo-cls',queryMode:'local',displayField:'name',valueField:'name',value:'All',editable:!1,store:Ext.create('JobOpenings.store.filtertoolbar.JobOpeningsDateStore'),autoLoadOnValue:!0,listeners:{select:'onFilterDateSelect'}},{xtype:'combobox',labelAlign:'top',name:'filterdepartment',reference:'deptcomboref',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),fieldLabel:'Filter by Department',cls:'requestCombo-cls',margin:'10 0 0 90',editable:!1,queryMode:'local',displayField:'name',valueField:'ddo_department_id',value:'All',autoLoadOnValue:!0}]}]},{columnWidth:0.5,items:[{layout:{type:'vbox'},items:[{fieldLabel:'Custom Date',labelAlign:'top',xtype:'datefield',cls:'requestCombo-cls',name:'filterCustomDate',reference:'customDateRef',margin:'10 90 0 0',editable:!1,allowBlank:!1,maxValue:new Date(),hidden:!0},{xtype:'combobox',labelAlign:'top',cls:'requestCombo-cls',name:'filterlocation',reference:'filtercomboref',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),fieldLabel:'Filter by Location',margin:'10 90 0 0',queryMode:'local',displayField:'name',editable:!1,valueField:'ddo_joblocation_id',value:'All',autoLoadOnValue:!0,listeners:{select:'onLocationSelect'}}]}]}],dockedItems:[{xtype:'toolbar',width:'100%',margin:'0 0 30 0',dock:'bottom',items:[{xtype:'tbfill'},{xtype:'button',text:'Apply',width:150,cls:'filter-submit-btn',listeners:{click:'onApplyBtnClick'}},{xtype:'tbfill'}]}]});Ext.define('JobOpenings.view.referrals.filtertoolbar.JobReferralsAddfilterWindow',{extend:'Ext.window.Window',xtype:'filterwindow',requires:['JobOpenings.view.referrals.filtertoolbar.JobReferralsFilterComboboxes'],title:'Add Filter',modal:!0,height:300,width:620,margin:'5 50 0 0',layout:{type:'fit'},closeAction:'hide',reference:'filterreferwinref',resizable:!1,cls:'ddo-filter-window',title:'Add Filters',initComponent:function(){var a=this;a.callParent(arguments);a.mon(Ext.getBody(),'click',function(b,c){a.close(a.closeAction)},a,{delegate:'.x-mask'})},items:[{xtype:'jobreferralsfiltercomboboxes'}]});Ext.define('JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningsRequestAddfilterWindow',{extend:'Ext.window.Window',xtype:'filterwindow',requires:['JobOpenings.view.jobopeningrequest.filtertoolbar.JobOpeningRequestFilterComboboxes'],title:'Add Filter',modal:!0,height:300,width:620,margin:'5 50 0 0',layout:{type:'fit'},closeAction:'hide',reference:'filterwinref',resizable:!1,cls:'ddo-filter-window',title:'Add Filters',initComponent:function(){var a=this;a.callParent(arguments);a.mon(Ext.getBody(),'click',function(b,c){a.close(a.closeAction)},a,{delegate:'.x-mask'})},items:[{xtype:'jobopeningrequestfiltercomboboxes'}]});Ext.define('JobOpenings.view.preferences.PreferencesController',{extend:'Ext.app.ViewController',alias:'controller.preferencescontroller',onAddNewClick:function(e,f,c){var d=this.getView();var a=Ext.ComponentQuery.query('preferenceswindow')[0]||Ext.create('JobOpenings.view.preferences.PreferencesWindow'),b=a.down('form');this.onFormLoadTrue(b);b.reset();a.show();a.edit=!1},onFormLoadTrue:function(d){var f=d.getValues();var c=d.getForm().getFields().items,b=0,e=c.length;for(;b<e;b++){var a=c[b];a.setValue('');if(a.mixins&&a.mixins.field&&typeof a.mixins.field['initValue']=='function'){a.mixins.field.initValue.apply(a);a.wasDirty=!1}}},onGridRowClick:function(f,c,g,d,h,e){var a=Ext.ComponentQuery.query('preferenceswindow')[0]||Ext.create('JobOpenings.view.preferences.PreferencesWindow'),b=a.down('form');this.onFormLoadDirtyFalse(b,c);b.reset();b.loadRecord(c);a.show();a.edit=!0},onFormLoadDirtyFalse:function(b,a){b.items.items.forEach(function(c){c.originalValue=a.get(c.name)})},onWindowOutsideTap:function(b,a){var c=this;Utility.onSetUpWinOutterTap(b,a,c)},onFormCancelClick:function(c,e,d){var a,b;a=c.up('window');b=a.down('form');b.reset();a.close()},onFormSaveClick:function(i,k,j){var a,c,d,b,g,h,e,f;a=Ext.ComponentQuery.query('preferencesgrid')[0].getStore();c=i.up('window');d=c.down('form');b=d.getValues();h=Ext.String.trim(b.name);e=a.findRecord('name',h,0,!1,!1,!0);if(c.edit){f=a.findRecord('id',b.id);if(e&&f&&f.get('name').toLowerCase()==e.get('name').toLowerCase()){e=null}}if(!e){if(d.isDirty()){if(c.edit){d.updateRecord();g={id:b.id,name:b.name,description:b.description,tablename:a.proxy.extraParams.tablename};Ext.Ajax.request({url:'/preference/preferencedata',method:'PUT',jsonData:g,success:function(b,c){a.load();Ext.getBody().unmask()},failure:function(a,b){Ext.getBody().unmask()}})}else {b.tablename=a.proxy.extraParams.tablename;a.add(b);a.sync({callback:function(){a.load()}})}d.reset();c.close()}else {d.reset();c.close()}}else {Ext.Msg.alert('Warning','Record is existing!')}},onPreferencesClick:function(f,b,e,d,g,c){var a=this.getStore('preferncesStore');a.getProxy().extraParams={tablename:b.data.tablename};a.load()}});Ext.define('JobOpenings.view.preferences.PreferencesGridModel',{extend:'Ext.app.ViewModel',alias:'viewmodel.preferencesgridmodel',stores:{preferncesStore:{fields:['name','description'],autoLoad:!1,proxy:{type:'ajax',extraParams:{tablename:'ddo_jobtype'},api:{read:'/preference/preferencedata',create:'/preference/preferencedata',update:'/preference/preferencedata',destroy:'/preference/preferencedata'},reader:{type:'json',rootProperty:'data'},actionMethods:{read:'GET',create:'POST',update:'PUT',destroy:'DELETE'}}}}});Ext.define('JobOpenings.view.preferences.PreferencesGridView',{extend:'Ext.grid.Panel',alias:'widget.preferencesgrid',plugins:'gridfilters',cls:'karmalist-cls',style:'border:1px solid #efe8e8; background: black;',columns:[{text:'Name',flex:0.3,dataIndex:'name'},{text:'Description',flex:0.4,dataIndex:'description'},{text:'Action',flex:0.1,xtype:'actioncolumn',align:'center',items:[{iconCls:'delete-plus',tooltip:'Delete',handler:function(e,b,g){var a=e.getStore('preferncesStore'),d=a.getAt(b),c;c={tablename:a.proxy.extraParams.tablename,id:d.data.id,name:d.data.name};var f='/preference/preferencedata';Ext.Ajax.request({url:f,method:'DELETE',params:c,success:function(c,d){a.removeAt(b);a.reload();Ext.getBody().unmask()},failure:function(a,c){Ext.getBody().unmask()}})}}]}],listeners:{rowdblclick:'onGridRowClick'}});Ext.define('JobOpenings.view.preferences.PreferencesToolbar',{extend:'Ext.toolbar.Toolbar',alias:'widget.preferencestoolbar',cls:'rule-tb-cls',items:[{xtype:'tbfill'},{xtype:'button',text:'Add New',iconCls:'rule-plus',margin:0,cls:'rule-add-btn',listeners:{click:'onAddNewClick'}}]});Ext.define('JobOpenings.view.preferences.PreferencesTypesListModel',{extend:'Ext.app.ViewModel',alias:'viewmodel.preferencestypeslistmodel',stores:{preferencestypelist:{autoLoad:!1,proxy:{type:'ajax',url:'/preference/categories',reader:{type:'json',rootProperty:'data'}}}}});Ext.define('JobOpenings.view.preferences.PreferencesTypesListView',{extend:'Ext.container.Container',xtype:'preferencestypeslistView',requires:['JobOpenings.view.preferences.PreferencesTypesListModel'],viewModel:{type:'preferencestypeslistmodel'},items:[{xtype:'dataview',itemTpl:'<div class="preferenceslist">{name}</div>',itemSelector:'div.preferenceslist',listeners:{itemclick:'onPreferencesClick'}}]});Ext.define('JobOpenings.view.preferences.PreferencesView',{extend:'Ext.panel.Panel',xtype:'preferencesview',requires:['JobOpenings.view.preferences.PreferencesGridView','JobOpenings.view.preferences.PreferencesTypesListView','JobOpenings.view.preferences.PreferencesGridModel','JobOpenings.view.preferences.PreferencesController','JobOpenings.view.preferences.PreferencesToolbar'],margin:20,cls:'karmarule-cls',viewModel:{type:'preferencesgridmodel'},controller:'preferencescontroller',layout:{type:'hbox',width:'100%'},tbar:[{xtype:'preferencestoolbar',cls:'wallet-toolbar-cls',width:'100%',height:70,html:'<h3>Preferences</h3>'}],items:[{xtype:'preferencestypeslistView',flex:0.7},{xtype:'tbspacer',width:20},{xtype:'preferencesgrid',flex:2},{xtype:'tbspacer',width:10}]});Ext.define('JobOpenings.view.preferences.PreferencesWindow',{extend:'Ext.window.Window',alias:'widget.preferenceswindow',modal:!0,resizable:!1,cls:'rule-window-cls',width:600,closable:!1,closeAction:'hide',requires:['JobOpenings.view.preferences.PreferencesGridModel','JobOpenings.view.preferences.PreferencesController'],title:'Preferences',controller:'preferencescontroller',viewModel:{type:'preferencesgridmodel'},initComponent:function(){this.callParent(arguments);var a=this.getController();Ext.getDoc().on('click',Ext.bind(a.onWindowOutsideTap,a))},destroy:function(){var a=this.getController();Ext.getDoc().un('click',Ext.bind(a.onWindowOutsideTap,a))},listeners:{show:function(a,b){a.center()}},width:600,height:250,items:[{xtype:'form',bbar:{layout:{type:'hbox'},padding:'25 0 21 0',items:[{xtype:'button',text:'Cancel',cls:'karmaform-cancel-btn',listeners:{click:'onFormCancelClick'}},{xtype:'button',text:'Save',cls:'karmaform-save-btn',formBind:!0,listeners:{click:'onFormSaveClick'}}]},items:[{xtype:'hiddenfield',name:'id'},{xtype:'textfield',allowBlank:!1,name:'name',emptyText:'Name',required:!0,cls:'rule-name-cls'},{xtype:'textfield',allowBlank:!1,name:'description',emptyText:'Description',cls:'rule-name-cls'}]}]});Ext.define('JobOpenings.view.referrals.JobReferralsController',{extend:'Ext.app.ViewController',alias:'controller.jobreferralscontroller',init:function(a){this.control({'[xtype="referralsmain"] field':{change:function(){window.sessionStorage.referrals_form_change='1'}}})},onBackClick:function(f){var c=Ext.ComponentQuery.query('[reference = jobsearchref_job_referrals]')[0];c.setValue('');var d=Ext.ComponentQuery.query('[reference = jobmyreferralsdata]')[0];d.getStore().clearFilter();var e=Ext.ComponentQuery.query('jobreferralsfilterview'),b=e[0].items.items;b[3].hide();b[4].hide();b[5].hide();var a=Ext.ComponentQuery.query('jobopeningsreferralslistview')[0].down('dataview').getStore();a.removeFilter('filterByLocation');a.removeFilter('filterByDepartment');a.removeFilter('filterByDate');Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0].getLayout().setActiveItem('referralsList')},onKeyUpJobSearch:function(c,d,e){var a=Ext.ComponentQuery.query('jobopeningsreferralsview')[0].getLayout().getActiveItem().reference=='referralslistview'?!0:!1;var b=a?Ext.ComponentQuery.query('jobreferralsfilterview')[0]:Ext.ComponentQuery.query('jobopenigsmyreferralsfilterview')[0];this.searchJob(b.down('textfield'),a)},searchJob:function(d,c){var b=d.value,e=c?Ext.ComponentQuery.query('[reference = jobdataviewreferrals]')[0]:Ext.ComponentQuery.query('[reference = jobmyreferralsdata]')[0],a=e.getStore();if(a){a.clearFilter(!0);if(c){var f={'property':'ddo_jobopeningstatus_id','value':1};a.addFilter(f)}a.filterBy(function(a){var f=!1;if(c){var e=a.data.title.search(new RegExp(b,'gi'))}else {if(a.data.appfirstname){var e=a.data.appfirstname.search(new RegExp(b,'gi'))}else {if(a.data.firstname){var e=a.data.firstname.search(new RegExp(b,'gi'))}}}return e>=0&&!0},this)}},onJobOpeningClick:function(o,a,i,q,c,p){if(o.up('jobopeningsreferralslistview')){var e=Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0],d=Ext.ComponentQuery.query('jobOpeningsFormDataViewMode')[0];e.getLayout().setActiveItem(4);var b=a.data.title;var f={titleView:a.data.title.split('&apos;').join("'"),ddo_department_idView:a.data.department_name,job_descView:Ext.util.Format.stripTags(a.data.description.replace(/<div>/g,'\n<div>')),noofpositionsView:a.data.noofpositions.toString(),minsalary:a.data.minsalary,maxsalary:a.data.maxsalary,closuredateView:a.data.closuredate,work_on_priorityView:a.data.work_on_priority,ddo_projects_clients_id:a.data.ddo_projects_clients_id,minworkexperienceView:a.data.minworkexperience.toString(),maxworkexperienceView:a.data.maxworkexperience.toString(),skill_idsView:a.data.skillnames.join(', '),ddo_joblocation_idView:a.data.location_name,interviewers_idsView:a.data.interviewersnames.join(', ')};d.getForm().setValues(f)}else {if(c.target.className=='title-cls'){var e=Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0],d=Ext.ComponentQuery.query('referralsformview')[0];e.getLayout().setActiveItem(3);var f={firstnameView:a.data.appfirstname,lastnameView:a.data.applastname,emailView:a.data.emailid,phoneView:a.data.mobile,comboView:a.data.recommendation,recommendationView:a.data.relationship,appResumeView:a.data.resumename};var b=a.data.title;Ext.ComponentQuery.query('[reference = referralTitleRef]')[0].setHtml(b+'/ '+'Refer a Friend');d.getForm().setValues(f)}}if(c.target.innerText=='Refer a Friend'){var n=Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0],l=n.getViewModel(),g=Ext.ComponentQuery.query('[reference = referralfileuploadref]')[0],j=Ext.ComponentQuery.query('[reference = referraluploadbtn]')[0];uploadBtn=Ext.ComponentQuery.query('[reference = referraluploadbtn]')[0];l.set('ddo_jobopening_id',a.data.ddo_jobopening_id);var b=a.data.title;if(b.length>52){b=b.substring(0,49)+'...'}g.show();j.setText('Choose File');g.fileInputEl.dom.value='';Ext.ComponentQuery.query('[reference = referraluploadlabelref]')[0].hide();Ext.ComponentQuery.query('[reference = referraluploadhiddenbtnref]')[0].hide();Ext.ComponentQuery.query('[reference = title_myreferralsCreationRef]')[0].setHtml(b+'/ '+'Refer a Friend');Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0].getLayout().setActiveItem('referralMain');Ext.ComponentQuery.query('referralsadd')[0].getForm().reset();window.sessionStorage.referrals_form_change='0'}if(c.target.lastChild!=null&&c.target.className=='act-cls'){if(c.target.lastChild.classList.value!=='act-showcls'){i.children[1].children[2].children[1].className='act-showcls'}else {i.children[1].children[2].children[1].className='act-removecls'}}else {if(c.target.innerText=='Edit'){var d=Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0].getLayout().setActiveItem('referralMain');var k=2;var k=a.data.ddo_referral_id;a.data.title=a.data.title.split('&apos;').join("'");this.loadRecord(a);var h=this.getReferences().jobmyreferralsdata;h.getStore().reload();h.refresh();var m=d.getForm().getFields();setTimeout(function(){Ext.each(m.items,function(b){b.dirty=!1;b.wasDirty=!1})},1000)}else {if(c.target.innerText=='Delete'){Ext.Msg.confirm('Confirm','Are you sure you want to delete this Job?',function(b){if(b==='no'){}else {if(b==='yes'){var d=a.data.ddo_employeereferral_id;params={ddo_employeereferral_id:d};var f='/jobapplication',e='DELETE';Ext.Ajax.request({url:f,method:e,scope:this,params:params,success:function(e){var f=Ext.decode(e.responseText);var d=this.getReferences().jobmyreferralsdata;d.getStore().reload();d.refresh()}})}}},this)}}}},onContainerClick:function(b,c,d){x=b.all.elements;for(var a=0;a<x.length;a++){z=x[a].lastChild.lastChild.lastChild;if(z.className=='act-showcls'){z.classList.remove('act-showcls');z.classList.add('act-removecls')}}},hideCombobox:function(f,g,e){if(Ext.ComponentQuery.query('[reference = filterreferwinref]')[0]==undefined){Ext.create('JobOpenings.view.referrals.filtertoolbar.JobReferralsAddfilterWindow').show()}else {var c=Ext.ComponentQuery.query('[reference = filterreferwinref]')[0];c.show();var a=c.down('form'),d=a.getValues(),b=this.getViewModel();if(b.data.filtervalue=='filterByLocation'){a.getForm().findField('filterlocation').setValue('All')}else {if(b.data.filtervalue=='filterByDepartment'){a.getForm().findField('filterdepartment').setValue('All')}else {if(b.data.filtervalue=='filterByDate'){a.getForm().findField('filterDateName').setValue('All')}}}}},hideComboboxMyReferrals:function(f,g,e){if(Ext.ComponentQuery.query('[reference = filtermyreferwinref]')[0]==undefined){Ext.create('JobOpenings.view.referrals.filtertoolbar.JobMyReferralsAddfilterWindow').show()}else {var c=Ext.ComponentQuery.query('[reference = filtermyreferwinref]')[0];c.show();var a=c.down('form'),d=a.getValues(),b=this.getViewModel();if(b.data.filtervalue=='filterByLocation'){a.getForm().findField('filterlocation').setValue('All')}else {if(b.data.filtervalue=='filterByDepartment'){a.getForm().findField('filterdepartment').setValue('All')}else {if(b.data.filtervalue=='filterByDate'){a.getForm().findField('filterDateName').setValue('All')}}}}},onreferralCloseFilterClk:function(d){var b=d.reference.split('Cancel')[0],c=this.getViewModel();var a=Ext.ComponentQuery.query('jobreferralsfilterview')[0].items.items;a.forEach(function(f,a){if(a==3||a==4||a==5){if(f.items.items[0].reference==b){f.hide();var e=a==4?'filterByLocation':a==5?'filterByDepartment':'filterByDate';var i=Ext.ComponentQuery.query('jobopeningsreferralslistview')[0].down('dataview');var g=Ext.ComponentQuery.query('jobopeningsreferralslistview')[0];var h=g.getViewModel().getStore('jobReferralsDataViewStore');h.removeFilter(e);c.set('filtervalue',e)}}})},onCloseFilterClkMyReferrals:function(d){var b=d.reference.split('Cancel')[0],c=this.getViewModel();var a=Ext.ComponentQuery.query('jobopenigsmyreferralsfilterview')[0].items.items;a.forEach(function(f,a){if(a==3||a==4||a==5){if(f.items.items[0].reference==b){f.hide();var e=a==4?'filterByLocation':a==5?'filterByDepartment':'filterByDate';var i=Ext.ComponentQuery.query('jobopenigsmyreferralsview')[0].down('dataview');var g=Ext.ComponentQuery.query('jobopenigsmyreferralsview')[0];var h=g.getViewModel().getStore('jobapplicationsappliedstore');h.removeFilter(e);c.set('filtervalue',e)}}})},onCancelBtnClick:function(){var b=Ext.ComponentQuery.query('[reference = referraluploadbtn]')[0],a=Ext.ComponentQuery.query('[reference = referralfileuploadref]')[0];a.show();b.setText('Choose File');b.setIconCls('x-fa fa-upload');a.fileInputEl.dom.value='';Ext.ComponentQuery.query('[reference = referraluploadlabelref]')[0].hide();Ext.ComponentQuery.query('[reference = referraluploadhiddenbtnref]')[0].hide();this.lookupReference('referralsForm').getForm().reset()},buttonOnlyChange:function(f,j,n,o,m){var k=this,i=k.getViewModel(),b=f.fileInputEl.dom.files[0],l=f.value,e=new FileReader(),a=b.type,d=b.name.split('.')[1],h=Ext.ComponentQuery.query('[reference = referralfileuploadref]')[0],g=Ext.ComponentQuery.query('[reference = referraluploadlabelref]')[0],c=Ext.ComponentQuery.query('[reference = referraluploadhiddenbtnref]')[0];e.onload=function(){if(a=='application/vnd.openxmlformats-officedocument.wordprocessingml.document'||a=='text/plain'||a=='application/msword'||a=='application/pdf'||a=='application/doc'||a=='application/docx'||a=='application/txt'||a=='application/wps'||a=='application/odt'||a=='application/vnd.oasis.opendocument.text'||a=='application/wpd'||a=='application/rtf'||d=='docx'||d=='doc'){rec=j.replace('C:\\fakepath\\','');i.set('resumePath2',rec);var b=Ext.ComponentQuery.query('[reference = referraluploadbtn]')[0];b.setText(rec);h.hide();c.show();g.show();c.setText(rec);Ext.toast({html:'Your file uploaded successfully..!!',width:150,align:'t'})}else {Ext.toast({html:'Invalid Format',width:150,align:'t'})}};e.readAsDataURL(b)},BackButtonClick:function(){if(window.sessionStorage.referrals_form_change=='1'){Ext.Msg.confirm('Confirm','Are you sure you want to go back?',function(a){if(a==='no'){}else {if(a==='yes'){Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0].getLayout().setActiveItem('referralsList');var b=Ext.ComponentQuery.query('[reference = referralfileuploadref]')[0];b.fileInputEl.dom.value='';window.sessionStorage.referrals_form_change='0'}}},this)}else {Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0].getLayout().setActiveItem('referralsList');var c=Ext.ComponentQuery.query('[reference = referralfileuploadref]')[0];c.fileInputEl.dom.value='';window.sessionStorage.referrals_form_change='0'}var d=Ext.ComponentQuery.query('jobreferralsfilterview'),b=d[0].items.items;b[3].hide();b[4].hide();b[5].hide();var a=Ext.ComponentQuery.query('jobopeningsreferralslistview')[0].down('dataview').getStore();a.removeFilter('filterByLocation');a.removeFilter('filterByDepartment');a.removeFilter('filterByDate')},onMyReferralsView:function(g,i,h){var e={referred_BY:Ext.getStore('login').data.items[0].data.ddo_employee_id};var f='/jobapplication';var d='GET';Ext.Ajax.request({url:f,method:d,scope:this,params:e,success:function(a,d){var b=Ext.decode(a.responseText),c=b.message;Ext.ComponentQuery.query('jobopenigsmyreferralsview')[0].items.items[1].store.loadRawData(JSON.parse(a.responseText));Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0].getLayout().setActiveItem('myreferrals')},failure:function(b,c){var a=Ext.decode(b.responseText);Ext.toast(a.message,!1,'t')}});var c=Ext.ComponentQuery.query('jobopenigsmyreferralsfilterview'),b=c[0].items.items;b[3].hide();b[4].hide();b[5].hide();var a=Ext.ComponentQuery.query('jobopenigsmyreferralsview')[0].down('dataview').getStore();a.removeFilter('filterByLocation');a.removeFilter('filterByDepartment');a.removeFilter('filterByDate');Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0].getLayout().setActiveItem('myreferrals')},onReferClick:function(k,m,l){var j=this.getView(),i=j.down('form').getForm(),c=i.getValues(),f=this,h=Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0],g=Ext.ComponentQuery.query('[reference = referraluploadbtn]')[0],a=h.getViewModel();var b={referred_by:Ext.getStore('login').data.items[0].data.ddo_employee_id,firstName:c.firstname,lastName:c.lastname,emailId:c.email,mobile:parseInt(c.phone),Recommendation:c.recommendation,Relationship:c.combo,resumePath:this.getViewModel().data.resumePath,ddo_jobopening_id:a.data.ddo_jobopening_id,ddo_jobapplicationstatus_id:1};var d='POST';var e='/jobapplication';if(g.text!='Choose File'){k.up('form').submit({url:'/jobapplication/uploadResume',waitMsg:'Uploading your file...',clientValidation:!1,success:function(){var h=Ext.JSON.decode(arguments[1].response.responseText),c=h.data,g=a.data.resumePath;rec=g.replace('C:\\fakepath\\','');a.set('resumePath2',rec);a.set('resumePath','../'+c);b.resumePath=a.get('resumePath');b.resumename=a.get('resumePath2');Ext.Ajax.request({url:e,method:d,scope:this,params:b,success:function(c,h){var e=Ext.decode(c.responseText),d=e.message,g=Ext.ComponentQuery.query('[reference = referraluploadbtn]')[0],a=Ext.ComponentQuery.query('[reference = referralfileuploadref]')[0];Ext.Msg.alert('success',d);a.show();a.fileInputEl.dom.value='';Ext.ComponentQuery.query('[reference = referraluploadlabelref]')[0].hide();Ext.ComponentQuery.query('[reference = referraluploadhiddenbtnref]')[0].hide();Ext.ComponentQuery.query('[reference = referralsForm]')[0].getForm().reset();Ext.ComponentQuery.query('jobopenigsmyreferralsview')[0].items.items[1].store.add(b);f.onInterviewBackButtonClick()},failure:function(b,c){var a=Ext.decode(b.responseText);Ext.toast(a.message,!1,'t')}})},failure:function(){Ext.toast({html:'Record not created',width:150,align:'t'})}})}else {Ext.Ajax.request({url:e,method:d,scope:this,params:b,success:function(c,g){var e=Ext.decode(c.responseText),d=e.message,a=Ext.ComponentQuery.query('[reference = referraluploadbtn]')[0];Ext.Msg.alert('success',d);a.setText('Choose File');a.setIconCls('x-fa fa-upload');Ext.ComponentQuery.query('[reference = referralsForm]')[0].getForm().reset();Ext.ComponentQuery.query('jobopenigsmyreferralsview')[0].items.items[1].store.add(b);f.onInterviewBackButtonClick()},failure:function(b,c){var a=Ext.decode(b.responseText);Ext.toast(a.message,!1,'t')}})}},onInterviewBackButtonClick:function(a){Ext.Msg.confirm('Confirm','Job Referral Created Succesfully! Would you like to go back?',function(b){if(b==='no'){}else {if(b==='yes'){var d={referred_BY:Ext.getStore('login').data.items[0].data.ddo_employee_id};var e='/jobapplication';var c='GET';Ext.Ajax.request({url:e,method:c,scope:this,params:d,success:function(c,f){var d=Ext.decode(c.responseText),e=d.message;Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0].getLayout().setActiveItem('myreferrals');Ext.ComponentQuery.query('jobopenigsmyreferralsview')[0].items.items[1].store.loadRawData(JSON.parse(c.responseText))},failure:function(d,e){var c=Ext.decode(d.responseText);Ext.toast(c.message,!1,'t')}})}}},this)}});Ext.define('JobOpenings.view.referrals.filtertoolbar.JobMyReferralsFilter',{extend:'Ext.panel.Panel',xtype:'jobopenigsmyreferralsfilterview',requires:['JobOpenings.store.filtertoolbar.FilterbyStatus','JobOpenings.view.referrals.JobReferralsController','JobOpenings.view.jobapplications.JobApplicationsViewModel'],viewModel:{type:'jobapplicationsviewmodel'},controller:'jobreferralscontroller',reference:'myreferralsfilterview',layout:{type:'hbox',width:'100%'},cls:'filtertoolbar-cls',dockedItems:[{xtype:'toolbar',cls:'tooltip-cls',dock:'top',items:[{xtype:'button',scale:'medium',iconCls:'goalsbackbtn-cls',cls:'jobback-btn-cls',style:{border:0},listeners:{click:'onBackClick'}},{xtype:'label',html:'Back',cls:'backlabel-cls'},{xtype:'label',html:'My Referrals',cls:'titlelabelMyreferrals-cls',margin:20}]}],items:[{xtype:'button',width:6,cls:'karmascore-search-icon-field job-search-icon',height:6,padding:'-8 11 14 12'},{xtype:'textfield',width:'30%',reference:'jobsearchref_job_referrals',emptyText:'Search',enableKeyEvents:!0,cls:'karmascore-search-field searchFields job-search-field',listeners:{keyup:'onKeyUpJobSearch'}},{xtype:'button',cls:'filter-btncls',listeners:{click:'hideComboboxMyReferrals'}},{items:[{xtype:'button',reference:'dateFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'dateFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClkMyReferrals'}}],hidden:!0},{items:[{xtype:'button',reference:'locationFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'locationFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClkMyReferrals'}}],hidden:!0},{items:[{xtype:'button',reference:'departmentFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'departmentFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onCloseFilterClkMyReferrals'}}],hidden:!0}]});Ext.define('JobOpenings.view.referrals.JobOpeningsMyReferralsView',{extend:'Ext.container.Container',xtype:'jobopenigsmyreferralsview',requires:['JobOpenings.view.referrals.filtertoolbar.JobMyReferralsFilter','JobOpenings.view.referrals.JobReferralsController','JobOpenings.view.jobapplications.JobApplicationsViewModel'],cls:'myreferrals-cls noscrollbar',reference:'jobmyreferralsview',viewModel:{type:'jobapplicationsviewmodel'},controller:'jobreferralscontroller',items:[{xtype:'jobopenigsmyreferralsfilterview'},{xtype:'dataview',reference:'jobmyreferralsdata',cls:'jobdataviewcls',emptyText:'<div class="projects-emptytext-cls">No Jobs available</div>',itemTpl:['<div class="my-referral-class-all-views">','<div class="jobsdiv-cls ddo-jobopening-item ">','<div class="title-div-cls"><span class="title-cls">{appfirstname} {applastname}</span>','<tpl if="this.showCurrentJobTitle(values)">','<span> | </span>','<span class="creator-cls">{title}</span>','</tpl>','</div>','<tpl if="skillnames">','<div class="loc-exp-myreferrals"><i class="skill-iconcls arrow-cls"></i>{[this.showSkill(values)]}</div>','</tpl>','<div class="loc-exp-myreferrals">','<span><i class="mobile-iconcls arrow-cls"></i>&nbsp+91&nbsp{mobile} &nbsp &nbsp</span>','<span><i class="mail-iconcls arrow-cls"></i>&nbsp{emailid}</span>','</div>','</div>','<div class="status-div-cls"><div class="status-textcls">Status: <span class="{job_status_name}" style="color:{colorcode};">{appstatus}</span></div>','<div class="status-combo-cls"><a href={resumepath} target="_blank" download={resumename} style="text-decoration: none;"><span class="download-cls">DownloadCV <i class="download-iconcls arrow-cls"></i></span></a>','</div>','</div>','</div>',{showSkill:function(c){var b='';try{var a=c.skillnames;a.forEach(function(d,e){b+=a.length-1!=e?'#'+d+', ':'#'+d})}catch(d){}return b},showCurrentJobTitle:function(b){var a=b.title;if(a===null){return !1}else {return a}}}],itemSelector:'div.my-referral-class-all-views',listeners:{itemclick:'onJobOpeningClick'}}]});Ext.define('JobOpenings.view.referrals.JobReferralsView',{extend:'Ext.panel.Panel',xtype:'jobreferralsfilterview',requires:['JobOpenings.store.filtertoolbar.FilterbyStatus','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel','JobOpenings.view.referrals.JobReferralsController'],viewModel:{type:'filterviewmodel'},controller:'jobreferralscontroller',reference:'referralsfilterview',layout:{type:'hbox',width:'100%'},cls:'filtertoolbar-cls',items:[{xtype:'button',width:6,cls:'karmascore-search-icon-field job-search-icon',height:6,padding:'-8 11 14 12'},{xtype:'textfield',width:'30%',reference:'jobsearchref_job_ref',enableKeyEvents:!0,emptyText:'Search',cls:'karmascore-search-field searchFields job-search-field',listeners:{keyup:'onKeyUpJobSearch'}},{xtype:'button',cls:'filter-btncls',listeners:{click:'hideCombobox'}},{items:[{xtype:'button',reference:'dateFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'dateFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onreferralCloseFilterClk'}}],hidden:!0},{items:[{xtype:'button',reference:'locationFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'locationFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onreferralCloseFilterClk'}}],hidden:!0},{items:[{xtype:'button',reference:'departmentFilterBtn',cls:'filterBtnsCls'},{xtype:'button',reference:'departmentFilterBtnCancel',cls:'filterBtnsClsCancel',text:'x',listeners:{click:'onreferralCloseFilterClk'}}],hidden:!0},{xtype:'tbfill'},{xtype:'button',text:'My Referrals',width:132,height:40,textAlign:'center',cls:'myreferrals-btn-cls',listeners:{click:'onMyReferralsView'}},{xtype:'tbspacer',width:19}]});Ext.define('JobOpenings.view.referrals.JobOpeningsReferralsListView',{extend:'Ext.container.Container',xtype:'jobopeningsreferralslistview',requires:['JobOpenings.view.referrals.JobReferralsView','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel','JobOpenings.view.referrals.JobReferralsController'],cls:'jobopening-cls noscrollbar',controller:'jobreferralscontroller',viewModel:{type:'filterviewmodel'},reference:'referralslistview',items:[{xtype:'container',html:'<div class= "jobtitle-cls">Job Openings </div>'},{xtype:'jobreferralsfilterview'},{xtype:'dataview',reference:'jobdataviewreferrals',cls:'jobdataviewcls',emptyText:'<div class="projects-emptytext-cls">No Jobs available</div>',itemTpl:['<div class="jobsdiv-cls ddo-jobopening-item">','<div class="title-div-cls" data-qtip="{title}-{department_name}"><span class="title-cls">{[this.showTitle(values,15)]}</span>','<span> | </span>','<span class="creator-cls" data-qtip="{firstname}">Created by {[this.showName(values,8)]}</span></div>','<div class="positions-cls">( {count_status}/{noofpositions} ) Positions</div>','<div class="loc-exp-referrals"><span><i class="exp-iconcls arrow-cls"></i>&nbsp{minworkexperience} - {maxworkexperience} Years Experience </span>','<span><i class="location-iconcls arrow-cls"></i>&nbsp{location_name}</span>','</div>','<div class="skill-cls"><i class="skill-iconcls arrow-cls"></i>{[this.showSkill(values)]}</div>','<div class="desc-cls">{[this.showDescription(values,100)]}</div>','</div>','<div class="status-div-cls status-div-referrals-cls">','<div class="act-cls create-jobreferrals-btn-cls ">Refer a Friend','</div>','</div>','</div>',{listRecruiter:function(d){var b=[];var a=Ext.getStore('jobopenings.JobRecruiter');if(a){a.each(function(a){b.push('<li><i class="checkImg"></i>'+a.get('recruiter_name')+'</li>')})}var c=d.isAssignVisible?'act-showcls':'act-removecls';return '<div class="rec-assigncls">Assign To <i class="x-fa fa-sort-desc arrow-cls"></i><div class="'+c+'"><ul>'+b.toString().replace(/,/g,'')+'</ul></div></div>'},showDescription:function(b,c){var a=b.job_desc;if(a.length>=c){return '<div style="text-overflow: ellipsis; white-space: nowrap; overflow: hidden; width:411px; height: 36px;">'+a+'</div>'}else {return a}},showTitle:function(c,d){var a=c.department_name;if(a==null||a==''){a=''}else {a=' - '+a}var b=c.title+a;if(b.length>=d){return b.substring(0,22)+'...'}else {return b}},showName:function(b,c){var a=b.firstname;if(a.length>=c){return a.substring(0,8)+'...'}else {return a}},showSkill:function(c){var b='';try{var a=c.skillnames;a.forEach(function(d,e){b+=a.length-1!=e?'#'+d+', ':'#'+d})}catch(d){}return b}}],listeners:{itemclick:'onJobOpeningClick'}}]});Ext.define('JobOpenings.view.referrals.ReferralsViewmodel',{extend:'Ext.app.ViewModel',alias:'viewmodel.referralviewmodel',data:{locationName:'',resumePath2:'Choose File'},stores:{referralstore:{autoLoad:!1,proxy:{type:'ajax',url:'jobapplication',reader:{type:'json',rootProperty:'data'}}},referralcombostore:{autoLoad:!0,proxy:{type:'ajax',url:'resources/data/jobapplications/referralcombo.json',reader:{type:'json',rootProperty:'data'}}}}});Ext.define('JobOpenings.view.referrals.Referralsadd',{extend:'Ext.form.Panel',alias:'widget.referralsadd',requires:['JobOpenings.view.referrals.ReferralsViewmodel'],viewModel:{type:'referralviewmodel'},cls:'form-cls apply-form',defaults:{width:'50%',labelAlign:'right',labelWidth:220,padding:5,labelStyle:'font-size:16px;'},reference:'referralsForm',layout:{type:'vbox',align:'middle',pack:'center'},title:'Employee Referral Form',buttonAlign:'center',items:[{xtype:'hiddenfield',name:'ddo_referral'},{xtype:'hiddenfield',name:'ddo_jobopening_id'},{xtype:'textfield',name:'firstname',fieldLabel:'First Name:',emptyCls:'referrals-empty-text',maskRe:/^[A-Za-z]*$/,emptyText:'Name',allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'lastname',fieldLabel:'Last Name:',emptyCls:'referrals-empty-text',maskRe:/^[A-Za-z]*$/,emptyText:'Last Name',allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'email',fieldLabel:'Email',emptyCls:'referrals-empty-text',emptyText:'Email ID',required:!0,allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>',vtype:'email'},{xtype:'textfield',name:'phone',emptyText:'Phone',fieldLabel:'Phone:',emptyCls:'referrals-empty-text',maskRe:/^[0-9]*$/,required:!0,minLength:10,maxLength:10,enforceMaxLength:!0,allowBlank:!1,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'combobox',name:'combo',reference:'referralcombo',queryMode:'local',displayField:'name',emptyText:'Eg:friend',editable:!1,tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),emptyCls:'referrals-empty-text',fieldLabel:'How do you know this person:'},{xtype:'textfield',name:'recommendation',emptyCls:'referrals-empty-text',fieldLabel:'Recommendation:',emptyText:'Enter why WTT is good for Him/Her'},{anchor:'100%',xtype:'fileuploadfield',opType:'upload',name:'appResume',iconCls:'upload-cls',reference:'referralfileuploadref',buttonOnly:!0,listeners:{change:'buttonOnlyChange'},bind:{value:'{resumePath}'},buttonConfig:{cls:'upload-btn',width:'100%',iconCls:'x-fa fa-upload',iconAlign:'right',reference:'referraluploadbtn',name:'uploadid',id:'uploadid',bind:{text:'{resumePath2}'}},fieldLabel:'Upload CV:'},{xtype:'fieldcontainer',width:550,items:[{xtype:'label',text:'Upload CV:',reference:'referraluploadlabelref',hidden:!0,cls:'uploadhiddenlabel-cls referrallabelCls',tpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'button',width:300,cls:'uploadeditbtn-cls',name:'uploadResumeHiddenBtn',reference:'referraluploadhiddenbtnref',iconCls:'x-fa fa-times',iconAlign:'right',hidden:!0,bind:{text:'{resumePath2}'},listeners:{btnIconEl:{click:function(c){var a=Ext.ComponentQuery.query('[reference = referralfileuploadref]')[0],b=Ext.ComponentQuery.query('[reference = referraluploadbtn]')[0];a.show();b.setText('Choose File');a.fileInputEl.dom.value='';Ext.ComponentQuery.query('[reference = referraluploadlabelref]')[0].hide();Ext.ComponentQuery.query('[reference = referraluploadhiddenbtnref]')[0].hide()}}}}]}],bbar:{cls:'jobform-cls',layout:{type:'hbox',align:'middle',pack:'center'},items:[{xtype:'button',text:'Refer',width:200,disabledCls:'disable-btn',formBind:!0,cls:'referral-margin',listeners:{click:'onReferClick'}},{xtype:'button',text:'Cancel',cls:['require-btn','referral-click'],handler:'onCancelBtnClick'}]}});Ext.define('JobOpenings.view.referrals.ReferralsMain',{extend:'Ext.panel.Panel',alias:'widget.referralsmain',requires:['JobOpenings.view.referrals.Referralsadd','JobOpenings.view.referrals.JobReferralsController','JobOpenings.view.referrals.ReferralsViewmodel'],viewModel:{type:'referralviewmodel'},controller:'jobreferralscontroller',cls:'job-header',tools:[{xtype:'button',scale:'medium',iconCls:'goalsbackbtn-cls',cls:'jobback-btn-cls',style:{border:0},listeners:{click:'BackButtonClick'}},{xtype:'label',html:'Back',cls:'backlabel-cls'},{xtype:'label',html:'Intern UI Development/Refer a friend',reference:'title_myreferralsCreationRef',cls:'titlelabel-cls',margin:20}],items:[{xtype:'referralsadd',id:'referralsform'}]});Ext.define('JobOpenings.view.referrals.ReferralsFormView',{extend:'Ext.form.Panel',alias:'widget.referralsformview',requires:['JobOpenings.view.referrals.ReferralsViewmodel'],viewModel:{type:'referralviewmodel'},cls:'form-cls apply-form',defaults:{width:'50%',labelAlign:'right',labelWidth:220,padding:5,labelStyle:'font-size:16px;'},reference:'referralsformviewRef',layout:{type:'vbox',align:'middle',pack:'center'},title:'Employee Referral Form',buttonAlign:'center',items:[{xtype:'textfield',name:'firstnameView',fieldLabel:'First Name:',readOnly:!0,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'lastnameView',fieldLabel:'Last Name:',readOnly:!0,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'emailView',fieldLabel:'Email',readOnly:!0,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'phoneView',fieldLabel:'Phone:',readOnly:!0,afterLabelTextTpl:'<sup><span class="ta-mandatory-field-cls">*</span></sup>'},{xtype:'textfield',name:'comboView',readOnly:!0,fieldLabel:'How do you know this person:'},{xtype:'textfield',name:'recommendationView',readOnly:!0,fieldLabel:'Recommendation:'},{xtype:'fieldcontainer',defaults:{width:'100%',labelAlign:'right',labelWidth:220,padding:5,labelStyle:'font-size:16px;'},items:[{anchor:'100%',xtype:'textfield',opType:'upload',name:'appResumeView',iconCls:'upload-cls',readOnly:!0,fieldLabel:'Upload CV:'}]}]});Ext.define('JobOpenings.view.referrals.ReferralsMainView',{extend:'Ext.panel.Panel',alias:'widget.referralsmainview',requires:['JobOpenings.view.referrals.ReferralsFormView','JobOpenings.view.referrals.JobReferralsController','JobOpenings.view.referrals.ReferralsViewmodel'],viewModel:{type:'referralviewmodel'},controller:'jobreferralscontroller',cls:'job-header',tools:[{xtype:'button',scale:'medium',iconCls:'goalsbackbtn-cls',cls:'jobback-btn-cls',style:{border:0},listeners:{click:function(){Ext.ComponentQuery.query('[reference = jobreferralsreference]')[0].getLayout().setActiveItem(2)}}},{xtype:'label',html:'Back',cls:'backlabel-cls'},{xtype:'label',html:'Intern UI Development/Refer a friend',reference:'referralTitleRef',cls:'titlelabel-cls',margin:20}],items:[{xtype:'referralsformview',id:'referralsviewformid'}]});Ext.define('JobOpenings.view.referrals.JobOpeningsReferralsView',{extend:'Ext.container.Container',xtype:'jobopeningsreferralsview',requires:['JobOpenings.view.referrals.JobOpeningsReferralsListView','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel','JobOpenings.view.referrals.JobOpeningsMyReferralsView','JobOpenings.view.referrals.JobReferralsController','JobOpenings.view.referrals.ReferralsMain','JobOpenings.view.referrals.ReferralsMainView','JobOpenings.view.jobopeningrequest.JobOpeningsFormDataViewMode'],layout:{type:'card',activeItem:0},margin:'10 0 0 10',viewModel:{type:'filterviewmodel'},controller:'jobreferralscontroller',reference:'jobreferralsreference',items:[{xtype:'jobopeningsreferralslistview',id:'referralsList'},{xtype:'referralsmain',id:'referralMain'},{xtype:'jobopenigsmyreferralsview',id:'myreferrals'},{xtype:'referralsmainview',id:'myreferralsview'},{xtype:'jobOpeningsFormDataViewMode'}]});Ext.define('JobOpenings.view.referrals.filtertoolbar.JobMyReferralsFilterController',{extend:'Ext.app.ViewController',alias:'controller.jobmyreferralsfiltercontroller',onLocationSelect:function(a,c,d){var f=a.getStore(),b=a.getSelection().data.ddo_joblocation_id,e=b},onApplyBtnClickMyReferrals:function(v,x,t){var h=this.getView(),e=h.getValues().filterlocation,f=h.getValues().filterdepartment,b=h.getValues().filterDateName,u=e,p=Ext.ComponentQuery.query('jobopenigsmyreferralsview'),o=p[0].down('dataview[reference="jobmyreferralsdata"]'),c=o.getStore(),s=h.up('window'),w=this.getViewModel(),q=Ext.ComponentQuery.query('jobopenigsmyreferralsfilterview'),a=q[0].items.items;a[3].hide();a[4].hide();a[5].hide();if(!Ext.isEmpty(e)&&e!='All'){c.filter({property:'ddo_joblocation_id',id:'filterByLocation',anyMatch:!0,caseSensitie:!1,value:e},e,!1);a[4].show();var l=this.getReferences().filtercomboref.getSelectedRecord().data.name;var d=l.substring(0,10);a[4].items.items[0].setText(d)}else {c.removeFilter('filterByLocation')}if(!Ext.isEmpty(f)&&f!='All'){c.filter({property:'ddo_department_id',id:'filterByDepartment',anyMatch:!0,caseSensitie:!1,value:f},f,!1);a[5].show();var k=this.getReferences().deptcomboref.getSelectedRecord().data.name;var d=k.substring(0,10);a[5].items.items[0].setText(d)}else {c.removeFilter('filterByDepartment')}if(!Ext.isEmpty(b)&&b!='All'){var g=null;if(b=='Past 24 HR'){g=1}if(b=='Past Week'){g=7}if(b=='Custom Range'){var i=this.getReferences().customDateRef.value;if(i!=null||i!=undefined){var r=24*60*60*1000;var n=new Date(i);var m=new Date();g=Math.round(Math.abs((n.getTime()-m.getTime())/r))}else {return}}c.filter({property:'jobupdateddate',id:'filterByDate',anyMatch:!0,caseSensitie:!1,value:b,filterFn:function(a){var b=new Date();var c=new Date(b.getTime()-g*24*60*60*1000);return new Date(a.data.jobupdateddate)>=c&&new Date(a.data.jobupdateddate)<=new Date()}},b,!1);a[3].show();if(b!='Custom Range'){var d=b.substring(0,10)}else {var j=Ext.Date.format(new Date(this.getReferences().customDateRef.value),'d/m/y'),d=j.substring(0,10)}a[3].items.items[0].setText(d)}else {c.removeFilter('filterByDate')}s.close()},onFilterDateSelect:function(a,c,d){var e=a.getStore(),b=a.getSelection().data.name;if(b=='Custom Range'){this.getReferences().customDateRef.show()}else {this.getReferences().customDateRef.hide()}}});Ext.define('JobOpenings.view.referrals.filtertoolbar.JobMyReferralsFilterComboboxes',{extend:'Ext.form.Panel',xtype:'jobmyreferralsfiltercomboboxes',requires:['JobOpenings.store.filtertoolbar.JobOpeningsDateStore','JobOpenings.store.form.LocationStore','JobOpenings.view.referrals.filtertoolbar.JobMyReferralsFilterController','JobOpenings.view.jobopeningrequest.filtertoolbar.FilterViewModel'],viewModel:'filterviewmodel',controller:'jobmyreferralsfiltercontroller',layout:'column',items:[{columnWidth:0.5,items:[{layout:{type:'vbox'},items:[{xtype:'combobox',reference:'filterdate',name:'filterDateName',labelAlign:'top',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),fieldLabel:'Filter by Date',margin:'10 0 0 90',cls:'requestCombo-cls',queryMode:'local',displayField:'name',valueField:'name',value:'All',editable:!1,store:Ext.create('JobOpenings.store.filtertoolbar.JobOpeningsDateStore'),autoLoadOnValue:!0,listeners:{select:'onFilterDateSelect'}},{xtype:'combobox',labelAlign:'top',name:'filterdepartment',reference:'deptcomboref',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),fieldLabel:'Filter by Department',cls:'requestCombo-cls',margin:'10 0 0 90',queryMode:'local',displayField:'name',editable:!1,valueField:'ddo_department_id',value:'All',autoLoadOnValue:!0}]}]},{columnWidth:0.5,items:[{layout:{type:'vbox'},items:[{fieldLabel:'Custom Date',labelAlign:'top',xtype:'datefield',cls:'requestCombo-cls',name:'filterCustomDate',reference:'customDateRef',margin:'10 90 0 0',editable:!1,allowBlank:!1,maxValue:new Date(),hidden:!0},{xtype:'combobox',labelAlign:'top',cls:'requestCombo-cls',name:'filterlocation',reference:'filtercomboref',tpl:Ext.create('Ext.XTemplate','<ul class="x-list-plain"><tpl for=".">','<li role="option" class="x-boundlist-item" style="text-align:center;">{name}</li>','</tpl></ul>'),displayTpl:Ext.create('Ext.XTemplate','<tpl for=".">','{name}','</tpl>'),fieldLabel:'Filter by Location',margin:'10 90 0 0',queryMode:'local',displayField:'name',valueField:'ddo_joblocation_id',value:'All',editable:!1,autoLoadOnValue:!0,listeners:{select:'onLocationSelect'}}]}]}],dockedItems:[{xtype:'toolbar',width:'100%',margin:'0 0 30 0',dock:'bottom',items:[{xtype:'tbfill'},{xtype:'button',text:'Apply',width:150,cls:'filter-submit-btn',listeners:{click:'onApplyBtnClickMyReferrals'}},{xtype:'tbfill'}]}]});Ext.define('JobOpenings.view.referrals.filtertoolbar.JobMyReferralsAddfilterWindow',{extend:'Ext.window.Window',xtype:'jobmyreferralsaddfilterwindow',requires:['JobOpenings.view.referrals.filtertoolbar.JobMyReferralsFilterComboboxes'],title:'Add Filter',modal:!0,height:300,width:620,margin:'5 50 0 0',layout:{type:'fit'},closeAction:'hide',reference:'filtermyreferwinref',resizable:!1,cls:'ddo-filter-window',title:'Add Filters',initComponent:function(){var a=this;a.callParent(arguments);a.mon(Ext.getBody(),'click',function(b,c){a.close(a.closeAction)},a,{delegate:'.x-mask'})},items:[{xtype:'jobmyreferralsfiltercomboboxes'}]});